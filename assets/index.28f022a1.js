(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))o(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const a of r.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerpolicy&&(r.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?r.credentials="include":l.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(l){if(l.ep)return;l.ep=!0;const r=s(l);fetch(l.href,r)}})();function Ro(t,n){const s=Object.create(null),o=t.split(",");for(let l=0;l<o.length;l++)s[o[l]]=!0;return n?l=>!!s[l.toLowerCase()]:l=>!!s[l]}const sd="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",od=Ro(sd);function wc(t){return!!t||t===""}function lt(t){if(le(t)){const n={};for(let s=0;s<t.length;s++){const o=t[s],l=Le(o)?ad(o):lt(o);if(l)for(const r in l)n[r]=l[r]}return n}else{if(Le(t))return t;if(Pe(t))return t}}const ld=/;(?![^(]*\))/g,rd=/:(.+)/;function ad(t){const n={};return t.split(ld).forEach(s=>{if(s){const o=s.split(rd);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function Me(t){let n="";if(Le(t))n=t;else if(le(t))for(let s=0;s<t.length;s++){const o=Me(t[s]);o&&(n+=o+" ")}else if(Pe(t))for(const s in t)t[s]&&(n+=s+" ");return n.trim()}function H(t){if(!t)return null;let{class:n,style:s}=t;return n&&!Le(n)&&(t.class=Me(n)),s&&(t.style=lt(s)),t}const id="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",cd=Ro(id),On=t=>Le(t)?t:t==null?"":le(t)||Pe(t)&&(t.toString===kc||!ce(t.toString))?JSON.stringify(t,bc,2):String(t),bc=(t,n)=>n&&n.__v_isRef?bc(t,n.value):Kn(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[o,l])=>(s[`${o} =>`]=l,s),{})}:Ec(n)?{[`Set(${n.size})`]:[...n.values()]}:Pe(n)&&!le(n)&&!Bc(n)?String(n):n,Se={},zn=[],Ct=()=>{},ud=()=>!1,pd=/^on[^a-z]/,Mo=t=>pd.test(t),vr=t=>t.startsWith("onUpdate:"),rt=Object.assign,_r=(t,n)=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)},dd=Object.prototype.hasOwnProperty,ve=(t,n)=>dd.call(t,n),le=Array.isArray,Kn=t=>Lo(t)==="[object Map]",Ec=t=>Lo(t)==="[object Set]",ce=t=>typeof t=="function",Le=t=>typeof t=="string",Ar=t=>typeof t=="symbol",Pe=t=>t!==null&&typeof t=="object",Dc=t=>Pe(t)&&ce(t.then)&&ce(t.catch),kc=Object.prototype.toString,Lo=t=>kc.call(t),fd=t=>Lo(t).slice(8,-1),Bc=t=>Lo(t)==="[object Object]",wr=t=>Le(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,fo=Ro(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qo=t=>{const n=Object.create(null);return s=>n[s]||(n[s]=t(s))},hd=/-(\w)/g,qt=qo(t=>t.replace(hd,(n,s)=>s?s.toUpperCase():"")),yd=/\B([A-Z])/g,Tn=qo(t=>t.replace(yd,"-$1").toLowerCase()),No=qo(t=>t.charAt(0).toUpperCase()+t.slice(1)),tl=qo(t=>t?`on${No(t)}`:""),Rs=(t,n)=>!Object.is(t,n),Yn=(t,n)=>{for(let s=0;s<t.length;s++)t[s](n)},Ao=(t,n,s)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:s})},Cl=t=>{const n=parseFloat(t);return isNaN(n)?t:n};let ha;const md=()=>ha||(ha=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});let pt;class Cc{constructor(n=!1){this.active=!0,this.effects=[],this.cleanups=[],!n&&pt&&(this.parent=pt,this.index=(pt.scopes||(pt.scopes=[])).push(this)-1)}run(n){if(this.active){const s=pt;try{return pt=this,n()}finally{pt=s}}}on(){pt=this}off(){pt=this.parent}stop(n){if(this.active){let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.scopes)for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);if(this.parent&&!n){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.active=!1}}}function gd(t){return new Cc(t)}function vd(t,n=pt){n&&n.active&&n.effects.push(t)}function xc(){return pt}function Sc(t){pt&&pt.cleanups.push(t)}const br=t=>{const n=new Set(t);return n.w=0,n.n=0,n},Oc=t=>(t.w&an)>0,$c=t=>(t.n&an)>0,_d=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=an},Ad=t=>{const{deps:n}=t;if(n.length){let s=0;for(let o=0;o<n.length;o++){const l=n[o];Oc(l)&&!$c(l)?l.delete(t):n[s++]=l,l.w&=~an,l.n&=~an}n.length=s}},xl=new WeakMap;let bs=0,an=1;const Sl=30;let Dt;const kn=Symbol(""),Ol=Symbol("");class Er{constructor(n,s=null,o){this.fn=n,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,vd(this,o)}run(){if(!this.active)return this.fn();let n=Dt,s=nn;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=Dt,Dt=this,nn=!0,an=1<<++bs,bs<=Sl?_d(this):ya(this),this.fn()}finally{bs<=Sl&&Ad(this),an=1<<--bs,Dt=this.parent,nn=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Dt===this?this.deferStop=!0:this.active&&(ya(this),this.onStop&&this.onStop(),this.active=!1)}}function ya(t){const{deps:n}=t;if(n.length){for(let s=0;s<n.length;s++)n[s].delete(t);n.length=0}}let nn=!0;const Tc=[];function rs(){Tc.push(nn),nn=!1}function as(){const t=Tc.pop();nn=t===void 0?!0:t}function gt(t,n,s){if(nn&&Dt){let o=xl.get(t);o||xl.set(t,o=new Map);let l=o.get(s);l||o.set(s,l=br()),Fc(l)}}function Fc(t,n){let s=!1;bs<=Sl?$c(t)||(t.n|=an,s=!Oc(t)):s=!t.has(Dt),s&&(t.add(Dt),Dt.deps.push(t))}function zt(t,n,s,o,l,r){const a=xl.get(t);if(!a)return;let i=[];if(n==="clear")i=[...a.values()];else if(s==="length"&&le(t))a.forEach((u,p)=>{(p==="length"||p>=o)&&i.push(u)});else switch(s!==void 0&&i.push(a.get(s)),n){case"add":le(t)?wr(s)&&i.push(a.get("length")):(i.push(a.get(kn)),Kn(t)&&i.push(a.get(Ol)));break;case"delete":le(t)||(i.push(a.get(kn)),Kn(t)&&i.push(a.get(Ol)));break;case"set":Kn(t)&&i.push(a.get(kn));break}if(i.length===1)i[0]&&$l(i[0]);else{const u=[];for(const p of i)p&&u.push(...p);$l(br(u))}}function $l(t,n){const s=le(t)?t:[...t];for(const o of s)o.computed&&ma(o);for(const o of s)o.computed||ma(o)}function ma(t,n){(t!==Dt||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const wd=Ro("__proto__,__v_isRef,__isVue"),Pc=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ar)),bd=Dr(),Ed=Dr(!1,!0),Dd=Dr(!0),ga=kd();function kd(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...s){const o=be(this);for(let r=0,a=this.length;r<a;r++)gt(o,"get",r+"");const l=o[n](...s);return l===-1||l===!1?o[n](...s.map(be)):l}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...s){rs();const o=be(this)[n].apply(this,s);return as(),o}}),t}function Dr(t=!1,n=!1){return function(o,l,r){if(l==="__v_isReactive")return!t;if(l==="__v_isReadonly")return t;if(l==="__v_isShallow")return n;if(l==="__v_raw"&&r===(t?n?jd:qc:n?Lc:Mc).get(o))return o;const a=le(o);if(!t&&a&&ve(ga,l))return Reflect.get(ga,l,r);const i=Reflect.get(o,l,r);return(Ar(l)?Pc.has(l):wd(l))||(t||gt(o,"get",l),n)?i:Ee(i)?a&&wr(l)?i:i.value:Pe(i)?t?Vn(i):Fe(i):i}}const Bd=Ic(),Cd=Ic(!0);function Ic(t=!1){return function(s,o,l,r){let a=s[o];if(es(a)&&Ee(a)&&!Ee(l))return!1;if(!t&&(!wo(l)&&!es(l)&&(a=be(a),l=be(l)),!le(s)&&Ee(a)&&!Ee(l)))return a.value=l,!0;const i=le(s)&&wr(o)?Number(o)<s.length:ve(s,o),u=Reflect.set(s,o,l,r);return s===be(r)&&(i?Rs(l,a)&&zt(s,"set",o,l):zt(s,"add",o,l)),u}}function xd(t,n){const s=ve(t,n);t[n];const o=Reflect.deleteProperty(t,n);return o&&s&&zt(t,"delete",n,void 0),o}function Sd(t,n){const s=Reflect.has(t,n);return(!Ar(n)||!Pc.has(n))&&gt(t,"has",n),s}function Od(t){return gt(t,"iterate",le(t)?"length":kn),Reflect.ownKeys(t)}const Rc={get:bd,set:Bd,deleteProperty:xd,has:Sd,ownKeys:Od},$d={get:Dd,set(t,n){return!0},deleteProperty(t,n){return!0}},Td=rt({},Rc,{get:Ed,set:Cd}),kr=t=>t,jo=t=>Reflect.getPrototypeOf(t);function no(t,n,s=!1,o=!1){t=t.__v_raw;const l=be(t),r=be(n);s||(n!==r&&gt(l,"get",n),gt(l,"get",r));const{has:a}=jo(l),i=o?kr:s?xr:Ms;if(a.call(l,n))return i(t.get(n));if(a.call(l,r))return i(t.get(r));t!==l&&t.get(n)}function so(t,n=!1){const s=this.__v_raw,o=be(s),l=be(t);return n||(t!==l&&gt(o,"has",t),gt(o,"has",l)),t===l?s.has(t):s.has(t)||s.has(l)}function oo(t,n=!1){return t=t.__v_raw,!n&&gt(be(t),"iterate",kn),Reflect.get(t,"size",t)}function va(t){t=be(t);const n=be(this);return jo(n).has.call(n,t)||(n.add(t),zt(n,"add",t,t)),this}function _a(t,n){n=be(n);const s=be(this),{has:o,get:l}=jo(s);let r=o.call(s,t);r||(t=be(t),r=o.call(s,t));const a=l.call(s,t);return s.set(t,n),r?Rs(n,a)&&zt(s,"set",t,n):zt(s,"add",t,n),this}function Aa(t){const n=be(this),{has:s,get:o}=jo(n);let l=s.call(n,t);l||(t=be(t),l=s.call(n,t)),o&&o.call(n,t);const r=n.delete(t);return l&&zt(n,"delete",t,void 0),r}function wa(){const t=be(this),n=t.size!==0,s=t.clear();return n&&zt(t,"clear",void 0,void 0),s}function lo(t,n){return function(o,l){const r=this,a=r.__v_raw,i=be(a),u=n?kr:t?xr:Ms;return!t&&gt(i,"iterate",kn),a.forEach((p,d)=>o.call(l,u(p),u(d),r))}}function ro(t,n,s){return function(...o){const l=this.__v_raw,r=be(l),a=Kn(r),i=t==="entries"||t===Symbol.iterator&&a,u=t==="keys"&&a,p=l[t](...o),d=s?kr:n?xr:Ms;return!n&&gt(r,"iterate",u?Ol:kn),{next(){const{value:f,done:h}=p.next();return h?{value:f,done:h}:{value:i?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function Jt(t){return function(...n){return t==="delete"?!1:this}}function Fd(){const t={get(r){return no(this,r)},get size(){return oo(this)},has:so,add:va,set:_a,delete:Aa,clear:wa,forEach:lo(!1,!1)},n={get(r){return no(this,r,!1,!0)},get size(){return oo(this)},has:so,add:va,set:_a,delete:Aa,clear:wa,forEach:lo(!1,!0)},s={get(r){return no(this,r,!0)},get size(){return oo(this,!0)},has(r){return so.call(this,r,!0)},add:Jt("add"),set:Jt("set"),delete:Jt("delete"),clear:Jt("clear"),forEach:lo(!0,!1)},o={get(r){return no(this,r,!0,!0)},get size(){return oo(this,!0)},has(r){return so.call(this,r,!0)},add:Jt("add"),set:Jt("set"),delete:Jt("delete"),clear:Jt("clear"),forEach:lo(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=ro(r,!1,!1),s[r]=ro(r,!0,!1),n[r]=ro(r,!1,!0),o[r]=ro(r,!0,!0)}),[t,s,n,o]}const[Pd,Id,Rd,Md]=Fd();function Br(t,n){const s=n?t?Md:Rd:t?Id:Pd;return(o,l,r)=>l==="__v_isReactive"?!t:l==="__v_isReadonly"?t:l==="__v_raw"?o:Reflect.get(ve(s,l)&&l in o?s:o,l,r)}const Ld={get:Br(!1,!1)},qd={get:Br(!1,!0)},Nd={get:Br(!0,!1)},Mc=new WeakMap,Lc=new WeakMap,qc=new WeakMap,jd=new WeakMap;function Hd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Ud(t){return t.__v_skip||!Object.isExtensible(t)?0:Hd(fd(t))}function Fe(t){return es(t)?t:Cr(t,!1,Rc,Ld,Mc)}function Vd(t){return Cr(t,!1,Td,qd,Lc)}function Vn(t){return Cr(t,!0,$d,Nd,qc)}function Cr(t,n,s,o,l){if(!Pe(t)||t.__v_raw&&!(n&&t.__v_isReactive))return t;const r=l.get(t);if(r)return r;const a=Ud(t);if(a===0)return t;const i=new Proxy(t,a===2?o:s);return l.set(t,i),i}function Zn(t){return es(t)?Zn(t.__v_raw):!!(t&&t.__v_isReactive)}function es(t){return!!(t&&t.__v_isReadonly)}function wo(t){return!!(t&&t.__v_isShallow)}function Nc(t){return Zn(t)||es(t)}function be(t){const n=t&&t.__v_raw;return n?be(n):t}function Ho(t){return Ao(t,"__v_skip",!0),t}const Ms=t=>Pe(t)?Fe(t):t,xr=t=>Pe(t)?Vn(t):t;function Sr(t){nn&&Dt&&(t=be(t),Fc(t.dep||(t.dep=br())))}function Or(t,n){t=be(t),t.dep&&$l(t.dep)}function Ee(t){return!!(t&&t.__v_isRef===!0)}function K(t){return jc(t,!1)}function Nt(t){return jc(t,!0)}function jc(t,n){return Ee(t)?t:new Wd(t,n)}class Wd{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:be(n),this._value=s?n:Ms(n)}get value(){return Sr(this),this._value}set value(n){const s=this.__v_isShallow||wo(n)||es(n);n=s?n:be(n),Rs(n,this._rawValue)&&(this._rawValue=n,this._value=s?n:Ms(n),Or(this))}}function E(t){return Ee(t)?t.value:t}const zd={get:(t,n,s)=>E(Reflect.get(t,n,s)),set:(t,n,s,o)=>{const l=t[n];return Ee(l)&&!Ee(s)?(l.value=s,!0):Reflect.set(t,n,s,o)}};function Hc(t){return Zn(t)?t:new Proxy(t,zd)}class Kd{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:o}=n(()=>Sr(this),()=>Or(this));this._get=s,this._set=o}get value(){return this._get()}set value(n){this._set(n)}}function Uc(t){return new Kd(t)}function Yd(t){const n=le(t)?new Array(t.length):{};for(const s in t)n[s]=Qd(t,s);return n}class Zd{constructor(n,s,o){this._object=n,this._key=s,this._defaultValue=o,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}}function Qd(t,n,s){const o=t[n];return Ee(o)?o:new Zd(t,n,s)}var Vc;class Jd{constructor(n,s,o,l){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[Vc]=!1,this._dirty=!0,this.effect=new Er(n,()=>{this._dirty||(this._dirty=!0,Or(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=o}get value(){const n=be(this);return Sr(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}Vc="__v_isReadonly";function Gd(t,n,s=!1){let o,l;const r=ce(t);return r?(o=t,l=Ct):(o=t.get,l=t.set),new Jd(o,l,r||!l,s)}function sn(t,n,s,o){let l;try{l=o?t(...o):t()}catch(r){Uo(r,n,s)}return l}function xt(t,n,s,o){if(ce(t)){const r=sn(t,n,s,o);return r&&Dc(r)&&r.catch(a=>{Uo(a,n,s)}),r}const l=[];for(let r=0;r<t.length;r++)l.push(xt(t[r],n,s,o));return l}function Uo(t,n,s,o=!0){const l=n?n.vnode:null;if(n){let r=n.parent;const a=n.proxy,i=s;for(;r;){const p=r.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](t,a,i)===!1)return}r=r.parent}const u=n.appContext.config.errorHandler;if(u){sn(u,null,10,[t,a,i]);return}}Xd(t,s,l,o)}function Xd(t,n,s,o=!0){console.error(t)}let Ls=!1,Tl=!1;const Qe=[];let It=0;const Qn=[];let Ut=null,gn=0;const Wc=Promise.resolve();let $r=null;function Je(t){const n=$r||Wc;return t?n.then(this?t.bind(this):t):n}function ef(t){let n=It+1,s=Qe.length;for(;n<s;){const o=n+s>>>1;qs(Qe[o])<t?n=o+1:s=o}return n}function Tr(t){(!Qe.length||!Qe.includes(t,Ls&&t.allowRecurse?It+1:It))&&(t.id==null?Qe.push(t):Qe.splice(ef(t.id),0,t),zc())}function zc(){!Ls&&!Tl&&(Tl=!0,$r=Wc.then(Yc))}function tf(t){const n=Qe.indexOf(t);n>It&&Qe.splice(n,1)}function nf(t){le(t)?Qn.push(...t):(!Ut||!Ut.includes(t,t.allowRecurse?gn+1:gn))&&Qn.push(t),zc()}function ba(t,n=Ls?It+1:0){for(;n<Qe.length;n++){const s=Qe[n];s&&s.pre&&(Qe.splice(n,1),n--,s())}}function Kc(t){if(Qn.length){const n=[...new Set(Qn)];if(Qn.length=0,Ut){Ut.push(...n);return}for(Ut=n,Ut.sort((s,o)=>qs(s)-qs(o)),gn=0;gn<Ut.length;gn++)Ut[gn]();Ut=null,gn=0}}const qs=t=>t.id==null?1/0:t.id,sf=(t,n)=>{const s=qs(t)-qs(n);if(s===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return s};function Yc(t){Tl=!1,Ls=!0,Qe.sort(sf);const n=Ct;try{for(It=0;It<Qe.length;It++){const s=Qe[It];s&&s.active!==!1&&sn(s,null,14)}}finally{It=0,Qe.length=0,Kc(),Ls=!1,$r=null,(Qe.length||Qn.length)&&Yc()}}function of(t,n,...s){if(t.isUnmounted)return;const o=t.vnode.props||Se;let l=s;const r=n.startsWith("update:"),a=r&&n.slice(7);if(a&&a in o){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:h}=o[d]||Se;h&&(l=s.map(m=>m.trim())),f&&(l=s.map(Cl))}let i,u=o[i=tl(n)]||o[i=tl(qt(n))];!u&&r&&(u=o[i=tl(Tn(n))]),u&&xt(u,t,6,l);const p=o[i+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[i])return;t.emitted[i]=!0,xt(p,t,6,l)}}function Zc(t,n,s=!1){const o=n.emitsCache,l=o.get(t);if(l!==void 0)return l;const r=t.emits;let a={},i=!1;if(!ce(t)){const u=p=>{const d=Zc(p,n,!0);d&&(i=!0,rt(a,d))};!s&&n.mixins.length&&n.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!r&&!i?(Pe(t)&&o.set(t,null),null):(le(r)?r.forEach(u=>a[u]=null):rt(a,r),Pe(t)&&o.set(t,a),a)}function Vo(t,n){return!t||!Mo(n)?!1:(n=n.slice(2).replace(/Once$/,""),ve(t,n[0].toLowerCase()+n.slice(1))||ve(t,Tn(n))||ve(t,n))}let Ge=null,Wo=null;function bo(t){const n=Ge;return Ge=t,Wo=t&&t.type.__scopeId||null,n}function u4(t){Wo=t}function p4(){Wo=null}function T(t,n=Ge,s){if(!n||t._n)return t;const o=(...l)=>{o._d&&Fa(-1);const r=bo(n),a=t(...l);return bo(r),o._d&&Fa(1),a};return o._n=!0,o._c=!0,o._d=!0,o}function nl(t){const{type:n,vnode:s,proxy:o,withProxy:l,props:r,propsOptions:[a],slots:i,attrs:u,emit:p,render:d,renderCache:f,data:h,setupState:m,ctx:y,inheritAttrs:_}=t;let w,b;const k=bo(t);try{if(s.shapeFlag&4){const C=l||o;w=Pt(d.call(C,C,f,r,m,h,y)),b=u}else{const C=n;w=Pt(C.length>1?C(r,{attrs:u,slots:i,emit:p}):C(r,null)),b=n.props?u:lf(u)}}catch(C){ks.length=0,Uo(C,t,1),w=Q(un)}let D=w;if(b&&_!==!1){const C=Object.keys(b),{shapeFlag:M}=D;C.length&&M&7&&(a&&C.some(vr)&&(b=rf(b,a)),D=$n(D,b))}return s.dirs&&(D=$n(D),D.dirs=D.dirs?D.dirs.concat(s.dirs):s.dirs),s.transition&&(D.transition=s.transition),w=D,bo(k),w}const lf=t=>{let n;for(const s in t)(s==="class"||s==="style"||Mo(s))&&((n||(n={}))[s]=t[s]);return n},rf=(t,n)=>{const s={};for(const o in t)(!vr(o)||!(o.slice(9)in n))&&(s[o]=t[o]);return s};function af(t,n,s){const{props:o,children:l,component:r}=t,{props:a,children:i,patchFlag:u}=n,p=r.emitsOptions;if(n.dirs||n.transition)return!0;if(s&&u>=0){if(u&1024)return!0;if(u&16)return o?Ea(o,a,p):!!a;if(u&8){const d=n.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==o[h]&&!Vo(p,h))return!0}}}else return(l||i)&&(!i||!i.$stable)?!0:o===a?!1:o?a?Ea(o,a,p):!0:!!a;return!1}function Ea(t,n,s){const o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let l=0;l<o.length;l++){const r=o[l];if(n[r]!==t[r]&&!Vo(s,r))return!0}return!1}function cf({vnode:t,parent:n},s){for(;n&&n.subTree===t;)(t=n.vnode).el=s,n=n.parent}const Qc=t=>t.__isSuspense;function uf(t,n){n&&n.pendingBranch?le(t)?n.effects.push(...t):n.effects.push(t):nf(t)}function ft(t,n){if(ze){let s=ze.provides;const o=ze.parent&&ze.parent.provides;o===s&&(s=ze.provides=Object.create(o)),s[t]=n}}function S(t,n,s=!1){const o=ze||Ge;if(o){const l=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(l&&t in l)return l[t];if(arguments.length>1)return s&&ce(n)?n.call(o.proxy):n}}function is(t,n){return Fr(t,null,n)}const Da={};function de(t,n,s){return Fr(t,n,s)}function Fr(t,n,{immediate:s,deep:o,flush:l,onTrack:r,onTrigger:a}=Se){const i=ze;let u,p=!1,d=!1;if(Ee(t)?(u=()=>t.value,p=wo(t)):Zn(t)?(u=()=>t,o=!0):le(t)?(d=!0,p=t.some(b=>Zn(b)||wo(b)),u=()=>t.map(b=>{if(Ee(b))return b.value;if(Zn(b))return wn(b);if(ce(b))return sn(b,i,2)})):ce(t)?n?u=()=>sn(t,i,2):u=()=>{if(!(i&&i.isUnmounted))return f&&f(),xt(t,i,3,[h])}:u=Ct,n&&o){const b=u;u=()=>wn(b())}let f,h=b=>{f=w.onStop=()=>{sn(b,i,4)}};if(js)return h=Ct,n?s&&xt(n,i,3,[u(),d?[]:void 0,h]):u(),Ct;let m=d?[]:Da;const y=()=>{if(!!w.active)if(n){const b=w.run();(o||p||(d?b.some((k,D)=>Rs(k,m[D])):Rs(b,m)))&&(f&&f(),xt(n,i,3,[b,m===Da?void 0:m,h]),m=b)}else w.run()};y.allowRecurse=!!n;let _;l==="sync"?_=y:l==="post"?_=()=>Ye(y,i&&i.suspense):(y.pre=!0,i&&(y.id=i.uid),_=()=>Tr(y));const w=new Er(u,_);return n?s?y():m=w.run():l==="post"?Ye(w.run.bind(w),i&&i.suspense):w.run(),()=>{w.stop(),i&&i.scope&&_r(i.scope.effects,w)}}function pf(t,n,s){const o=this.proxy,l=Le(t)?t.includes(".")?Jc(o,t):()=>o[t]:t.bind(o,o);let r;ce(n)?r=n:(r=n.handler,s=n);const a=ze;ns(this);const i=Fr(l,r.bind(o),s);return a?ns(a):Bn(),i}function Jc(t,n){const s=n.split(".");return()=>{let o=t;for(let l=0;l<s.length&&o;l++)o=o[s[l]];return o}}function wn(t,n){if(!Pe(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),Ee(t))wn(t.value,n);else if(le(t))for(let s=0;s<t.length;s++)wn(t[s],n);else if(Ec(t)||Kn(t))t.forEach(s=>{wn(s,n)});else if(Bc(t))for(const s in t)wn(t[s],n);return t}function Gc(t,n){t.shapeFlag&6&&t.component?Gc(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function xe(t){return ce(t)?{setup:t,name:t.name}:t}const Jn=t=>!!t.type.__asyncLoader,Xc=t=>t.type.__isKeepAlive,df={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:n}){const s=Fn(),o=s.ctx;if(!o.renderer)return()=>{const k=n.default&&n.default();return k&&k.length===1?k[0]:k};const l=new Map,r=new Set;let a=null;const i=s.suspense,{renderer:{p:u,m:p,um:d,o:{createElement:f}}}=o,h=f("div");o.activate=(k,D,C,M,L)=>{const V=k.component;p(k,D,C,0,i),u(V.vnode,k,D,C,V,i,M,k.slotScopeIds,L),Ye(()=>{V.isDeactivated=!1,V.a&&Yn(V.a);const te=k.props&&k.props.onVnodeMounted;te&&vt(te,V.parent,k)},i)},o.deactivate=k=>{const D=k.component;p(k,h,null,1,i),Ye(()=>{D.da&&Yn(D.da);const C=k.props&&k.props.onVnodeUnmounted;C&&vt(C,D.parent,k),D.isDeactivated=!0},i)};function m(k){sl(k),d(k,s,i,!0)}function y(k){l.forEach((D,C)=>{const M=ql(D.type);M&&(!k||!k(M))&&_(C)})}function _(k){const D=l.get(k);!a||D.type!==a.type?m(D):a&&sl(a),l.delete(k),r.delete(k)}de(()=>[t.include,t.exclude],([k,D])=>{k&&y(C=>Es(k,C)),D&&y(C=>!Es(D,C))},{flush:"post",deep:!0});let w=null;const b=()=>{w!=null&&l.set(w,ol(s.subTree))};return cs(b),Pr(b),Ko(()=>{l.forEach(k=>{const{subTree:D,suspense:C}=s,M=ol(D);if(k.type===M.type){sl(M);const L=M.component.da;L&&Ye(L,C);return}m(k)})}),()=>{if(w=null,!n.default)return null;const k=n.default(),D=k[0];if(k.length>1)return a=null,k;if(!ts(D)||!(D.shapeFlag&4)&&!(D.shapeFlag&128))return a=null,D;let C=ol(D);const M=C.type,L=ql(Jn(C)?C.type.__asyncResolved||{}:M),{include:V,exclude:te,max:pe}=t;if(V&&(!L||!Es(V,L))||te&&L&&Es(te,L))return a=C,D;const fe=C.key==null?M:C.key,_e=l.get(fe);return C.el&&(C=$n(C),D.shapeFlag&128&&(D.ssContent=C)),w=fe,_e?(C.el=_e.el,C.component=_e.component,C.transition&&Gc(C,C.transition),C.shapeFlag|=512,r.delete(fe),r.add(fe)):(r.add(fe),pe&&r.size>parseInt(pe,10)&&_(r.values().next().value)),C.shapeFlag|=256,a=C,Qc(D.type)?D:C}}},eu=df;function Es(t,n){return le(t)?t.some(s=>Es(s,n)):Le(t)?t.split(",").includes(n):t.test?t.test(n):!1}function ff(t,n){tu(t,"a",n)}function hf(t,n){tu(t,"da",n)}function tu(t,n,s=ze){const o=t.__wdc||(t.__wdc=()=>{let l=s;for(;l;){if(l.isDeactivated)return;l=l.parent}return t()});if(zo(n,o,s),s){let l=s.parent;for(;l&&l.parent;)Xc(l.parent.vnode)&&yf(o,n,s,l),l=l.parent}}function yf(t,n,s,o){const l=zo(n,t,o,!0);Yo(()=>{_r(o[n],l)},s)}function sl(t){let n=t.shapeFlag;n&256&&(n-=256),n&512&&(n-=512),t.shapeFlag=n}function ol(t){return t.shapeFlag&128?t.ssContent:t}function zo(t,n,s=ze,o=!1){if(s){const l=s[t]||(s[t]=[]),r=n.__weh||(n.__weh=(...a)=>{if(s.isUnmounted)return;rs(),ns(s);const i=xt(n,s,t,a);return Bn(),as(),i});return o?l.unshift(r):l.push(r),r}}const Yt=t=>(n,s=ze)=>(!js||t==="sp")&&zo(t,(...o)=>n(...o),s),mf=Yt("bm"),cs=Yt("m"),gf=Yt("bu"),Pr=Yt("u"),Ko=Yt("bum"),Yo=Yt("um"),vf=Yt("sp"),_f=Yt("rtg"),Af=Yt("rtc");function wf(t,n=ze){zo("ec",t,n)}function Ir(t,n){const s=Ge;if(s===null)return t;const o=Qo(s)||s.proxy,l=t.dirs||(t.dirs=[]);for(let r=0;r<n.length;r++){let[a,i,u,p=Se]=n[r];ce(a)&&(a={mounted:a,updated:a}),a.deep&&wn(i),l.push({dir:a,instance:o,value:i,oldValue:void 0,arg:u,modifiers:p})}return t}function pn(t,n,s,o){const l=t.dirs,r=n&&n.dirs;for(let a=0;a<l.length;a++){const i=l[a];r&&(i.oldValue=r[a].value);let u=i.dir[o];u&&(rs(),xt(u,s,8,[t.el,i,t,n]),as())}}const nu="components";function Eo(t,n){return Ef(nu,t,!0,n)||t}const bf=Symbol();function Ef(t,n,s=!0,o=!1){const l=Ge||ze;if(l){const r=l.type;if(t===nu){const i=ql(r,!1);if(i&&(i===n||i===qt(n)||i===No(qt(n))))return r}const a=ka(l[t]||r[t],n)||ka(l.appContext[t],n);return!a&&o?r:a}}function ka(t,n){return t&&(t[n]||t[qt(n)]||t[No(qt(n))])}function Qs(t,n,s,o){let l;const r=s&&s[o];if(le(t)||Le(t)){l=new Array(t.length);for(let a=0,i=t.length;a<i;a++)l[a]=n(t[a],a,void 0,r&&r[a])}else if(typeof t=="number"){l=new Array(t);for(let a=0;a<t;a++)l[a]=n(a+1,a,void 0,r&&r[a])}else if(Pe(t))if(t[Symbol.iterator])l=Array.from(t,(a,i)=>n(a,i,void 0,r&&r[i]));else{const a=Object.keys(t);l=new Array(a.length);for(let i=0,u=a.length;i<u;i++){const p=a[i];l[i]=n(t[p],p,i,r&&r[i])}}else l=[];return s&&(s[o]=l),l}function cn(t,n,s={},o,l){if(Ge.isCE||Ge.parent&&Jn(Ge.parent)&&Ge.parent.isCE)return Q("slot",n==="default"?null:{name:n},o&&o());let r=t[n];r&&r._c&&(r._d=!1),A();const a=r&&su(r(s)),i=F(Be,{key:s.key||a&&a.key||`_${n}`},a||(o?o():[]),a&&t._===1?64:-2);return!l&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),r&&r._c&&(r._d=!0),i}function su(t){return t.some(n=>ts(n)?!(n.type===un||n.type===Be&&!su(n.children)):!0)?t:null}const Fl=t=>t?fu(t)?Qo(t)||t.proxy:Fl(t.parent):null,Do=rt(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Fl(t.parent),$root:t=>Fl(t.root),$emit:t=>t.emit,$options:t=>Rr(t),$forceUpdate:t=>t.f||(t.f=()=>Tr(t.update)),$nextTick:t=>t.n||(t.n=Je.bind(t.proxy)),$watch:t=>pf.bind(t)}),Df={get({_:t},n){const{ctx:s,setupState:o,data:l,props:r,accessCache:a,type:i,appContext:u}=t;let p;if(n[0]!=="$"){const m=a[n];if(m!==void 0)switch(m){case 1:return o[n];case 2:return l[n];case 4:return s[n];case 3:return r[n]}else{if(o!==Se&&ve(o,n))return a[n]=1,o[n];if(l!==Se&&ve(l,n))return a[n]=2,l[n];if((p=t.propsOptions[0])&&ve(p,n))return a[n]=3,r[n];if(s!==Se&&ve(s,n))return a[n]=4,s[n];Pl&&(a[n]=0)}}const d=Do[n];let f,h;if(d)return n==="$attrs"&&gt(t,"get",n),d(t);if((f=i.__cssModules)&&(f=f[n]))return f;if(s!==Se&&ve(s,n))return a[n]=4,s[n];if(h=u.config.globalProperties,ve(h,n))return h[n]},set({_:t},n,s){const{data:o,setupState:l,ctx:r}=t;return l!==Se&&ve(l,n)?(l[n]=s,!0):o!==Se&&ve(o,n)?(o[n]=s,!0):ve(t.props,n)||n[0]==="$"&&n.slice(1)in t?!1:(r[n]=s,!0)},has({_:{data:t,setupState:n,accessCache:s,ctx:o,appContext:l,propsOptions:r}},a){let i;return!!s[a]||t!==Se&&ve(t,a)||n!==Se&&ve(n,a)||(i=r[0])&&ve(i,a)||ve(o,a)||ve(Do,a)||ve(l.config.globalProperties,a)},defineProperty(t,n,s){return s.get!=null?t._.accessCache[n]=0:ve(s,"value")&&this.set(t,n,s.value,null),Reflect.defineProperty(t,n,s)}};let Pl=!0;function kf(t){const n=Rr(t),s=t.proxy,o=t.ctx;Pl=!1,n.beforeCreate&&Ba(n.beforeCreate,t,"bc");const{data:l,computed:r,methods:a,watch:i,provide:u,inject:p,created:d,beforeMount:f,mounted:h,beforeUpdate:m,updated:y,activated:_,deactivated:w,beforeDestroy:b,beforeUnmount:k,destroyed:D,unmounted:C,render:M,renderTracked:L,renderTriggered:V,errorCaptured:te,serverPrefetch:pe,expose:fe,inheritAttrs:_e,components:We,directives:je,filters:Re}=n;if(p&&Bf(p,o,null,t.appContext.config.unwrapInjectedRef),a)for(const G in a){const oe=a[G];ce(oe)&&(o[G]=oe.bind(s))}if(l){const G=l.call(s,s);Pe(G)&&(t.data=Fe(G))}if(Pl=!0,r)for(const G in r){const oe=r[G],he=ce(oe)?oe.bind(s,s):ce(oe.get)?oe.get.bind(s,s):Ct,De=!ce(oe)&&ce(oe.set)?oe.set.bind(s):Ct,tt=O({get:he,set:De});Object.defineProperty(o,G,{enumerable:!0,configurable:!0,get:()=>tt.value,set:qe=>tt.value=qe})}if(i)for(const G in i)ou(i[G],o,s,G);if(u){const G=ce(u)?u.call(s):u;Reflect.ownKeys(G).forEach(oe=>{ft(oe,G[oe])})}d&&Ba(d,t,"c");function Te(G,oe){le(oe)?oe.forEach(he=>G(he.bind(s))):oe&&G(oe.bind(s))}if(Te(mf,f),Te(cs,h),Te(gf,m),Te(Pr,y),Te(ff,_),Te(hf,w),Te(wf,te),Te(Af,L),Te(_f,V),Te(Ko,k),Te(Yo,C),Te(vf,pe),le(fe))if(fe.length){const G=t.exposed||(t.exposed={});fe.forEach(oe=>{Object.defineProperty(G,oe,{get:()=>s[oe],set:he=>s[oe]=he})})}else t.exposed||(t.exposed={});M&&t.render===Ct&&(t.render=M),_e!=null&&(t.inheritAttrs=_e),We&&(t.components=We),je&&(t.directives=je)}function Bf(t,n,s=Ct,o=!1){le(t)&&(t=Il(t));for(const l in t){const r=t[l];let a;Pe(r)?"default"in r?a=S(r.from||l,r.default,!0):a=S(r.from||l):a=S(r),Ee(a)&&o?Object.defineProperty(n,l,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):n[l]=a}}function Ba(t,n,s){xt(le(t)?t.map(o=>o.bind(n.proxy)):t.bind(n.proxy),n,s)}function ou(t,n,s,o){const l=o.includes(".")?Jc(s,o):()=>s[o];if(Le(t)){const r=n[t];ce(r)&&de(l,r)}else if(ce(t))de(l,t.bind(s));else if(Pe(t))if(le(t))t.forEach(r=>ou(r,n,s,o));else{const r=ce(t.handler)?t.handler.bind(s):n[t.handler];ce(r)&&de(l,r,t)}}function Rr(t){const n=t.type,{mixins:s,extends:o}=n,{mixins:l,optionsCache:r,config:{optionMergeStrategies:a}}=t.appContext,i=r.get(n);let u;return i?u=i:!l.length&&!s&&!o?u=n:(u={},l.length&&l.forEach(p=>ko(u,p,a,!0)),ko(u,n,a)),Pe(n)&&r.set(n,u),u}function ko(t,n,s,o=!1){const{mixins:l,extends:r}=n;r&&ko(t,r,s,!0),l&&l.forEach(a=>ko(t,a,s,!0));for(const a in n)if(!(o&&a==="expose")){const i=Cf[a]||s&&s[a];t[a]=i?i(t[a],n[a]):n[a]}return t}const Cf={data:Ca,props:yn,emits:yn,methods:yn,computed:yn,beforeCreate:nt,created:nt,beforeMount:nt,mounted:nt,beforeUpdate:nt,updated:nt,beforeDestroy:nt,beforeUnmount:nt,destroyed:nt,unmounted:nt,activated:nt,deactivated:nt,errorCaptured:nt,serverPrefetch:nt,components:yn,directives:yn,watch:Sf,provide:Ca,inject:xf};function Ca(t,n){return n?t?function(){return rt(ce(t)?t.call(this,this):t,ce(n)?n.call(this,this):n)}:n:t}function xf(t,n){return yn(Il(t),Il(n))}function Il(t){if(le(t)){const n={};for(let s=0;s<t.length;s++)n[t[s]]=t[s];return n}return t}function nt(t,n){return t?[...new Set([].concat(t,n))]:n}function yn(t,n){return t?rt(rt(Object.create(null),t),n):n}function Sf(t,n){if(!t)return n;if(!n)return t;const s=rt(Object.create(null),t);for(const o in n)s[o]=nt(t[o],n[o]);return s}function Of(t,n,s,o=!1){const l={},r={};Ao(r,Zo,1),t.propsDefaults=Object.create(null),lu(t,n,l,r);for(const a in t.propsOptions[0])a in l||(l[a]=void 0);s?t.props=o?l:Vd(l):t.type.props?t.props=l:t.props=r,t.attrs=r}function $f(t,n,s,o){const{props:l,attrs:r,vnode:{patchFlag:a}}=t,i=be(l),[u]=t.propsOptions;let p=!1;if((o||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(Vo(t.emitsOptions,h))continue;const m=n[h];if(u)if(ve(r,h))m!==r[h]&&(r[h]=m,p=!0);else{const y=qt(h);l[y]=Rl(u,i,y,m,t,!1)}else m!==r[h]&&(r[h]=m,p=!0)}}}else{lu(t,n,l,r)&&(p=!0);let d;for(const f in i)(!n||!ve(n,f)&&((d=Tn(f))===f||!ve(n,d)))&&(u?s&&(s[f]!==void 0||s[d]!==void 0)&&(l[f]=Rl(u,i,f,void 0,t,!0)):delete l[f]);if(r!==i)for(const f in r)(!n||!ve(n,f)&&!0)&&(delete r[f],p=!0)}p&&zt(t,"set","$attrs")}function lu(t,n,s,o){const[l,r]=t.propsOptions;let a=!1,i;if(n)for(let u in n){if(fo(u))continue;const p=n[u];let d;l&&ve(l,d=qt(u))?!r||!r.includes(d)?s[d]=p:(i||(i={}))[d]=p:Vo(t.emitsOptions,u)||(!(u in o)||p!==o[u])&&(o[u]=p,a=!0)}if(r){const u=be(s),p=i||Se;for(let d=0;d<r.length;d++){const f=r[d];s[f]=Rl(l,u,f,p[f],t,!ve(p,f))}}return a}function Rl(t,n,s,o,l,r){const a=t[s];if(a!=null){const i=ve(a,"default");if(i&&o===void 0){const u=a.default;if(a.type!==Function&&ce(u)){const{propsDefaults:p}=l;s in p?o=p[s]:(ns(l),o=p[s]=u.call(null,n),Bn())}else o=u}a[0]&&(r&&!i?o=!1:a[1]&&(o===""||o===Tn(s))&&(o=!0))}return o}function ru(t,n,s=!1){const o=n.propsCache,l=o.get(t);if(l)return l;const r=t.props,a={},i=[];let u=!1;if(!ce(t)){const d=f=>{u=!0;const[h,m]=ru(f,n,!0);rt(a,h),m&&i.push(...m)};!s&&n.mixins.length&&n.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!r&&!u)return Pe(t)&&o.set(t,zn),zn;if(le(r))for(let d=0;d<r.length;d++){const f=qt(r[d]);xa(f)&&(a[f]=Se)}else if(r)for(const d in r){const f=qt(d);if(xa(f)){const h=r[d],m=a[f]=le(h)||ce(h)?{type:h}:h;if(m){const y=$a(Boolean,m.type),_=$a(String,m.type);m[0]=y>-1,m[1]=_<0||y<_,(y>-1||ve(m,"default"))&&i.push(f)}}}const p=[a,i];return Pe(t)&&o.set(t,p),p}function xa(t){return t[0]!=="$"}function Sa(t){const n=t&&t.toString().match(/^\s*function (\w+)/);return n?n[1]:t===null?"null":""}function Oa(t,n){return Sa(t)===Sa(n)}function $a(t,n){return le(n)?n.findIndex(s=>Oa(s,t)):ce(n)&&Oa(n,t)?0:-1}const au=t=>t[0]==="_"||t==="$stable",Mr=t=>le(t)?t.map(Pt):[Pt(t)],Tf=(t,n,s)=>{if(n._n)return n;const o=T((...l)=>Mr(n(...l)),s);return o._c=!1,o},iu=(t,n,s)=>{const o=t._ctx;for(const l in t){if(au(l))continue;const r=t[l];if(ce(r))n[l]=Tf(l,r,o);else if(r!=null){const a=Mr(r);n[l]=()=>a}}},cu=(t,n)=>{const s=Mr(n);t.slots.default=()=>s},Ff=(t,n)=>{if(t.vnode.shapeFlag&32){const s=n._;s?(t.slots=be(n),Ao(n,"_",s)):iu(n,t.slots={})}else t.slots={},n&&cu(t,n);Ao(t.slots,Zo,1)},Pf=(t,n,s)=>{const{vnode:o,slots:l}=t;let r=!0,a=Se;if(o.shapeFlag&32){const i=n._;i?s&&i===1?r=!1:(rt(l,n),!s&&i===1&&delete l._):(r=!n.$stable,iu(n,l)),a=n}else n&&(cu(t,n),a={default:1});if(r)for(const i in l)!au(i)&&!(i in a)&&delete l[i]};function uu(){return{app:null,config:{isNativeTag:ud,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let If=0;function Rf(t,n){return function(o,l=null){ce(o)||(o=Object.assign({},o)),l!=null&&!Pe(l)&&(l=null);const r=uu(),a=new Set;let i=!1;const u=r.app={_uid:If++,_component:o,_props:l,_container:null,_context:r,_instance:null,version:th,get config(){return r.config},set config(p){},use(p,...d){return a.has(p)||(p&&ce(p.install)?(a.add(p),p.install(u,...d)):ce(p)&&(a.add(p),p(u,...d))),u},mixin(p){return r.mixins.includes(p)||r.mixins.push(p),u},component(p,d){return d?(r.components[p]=d,u):r.components[p]},directive(p,d){return d?(r.directives[p]=d,u):r.directives[p]},mount(p,d,f){if(!i){const h=Q(o,l);return h.appContext=r,d&&n?n(h,p):t(h,p,f),i=!0,u._container=p,p.__vue_app__=u,Qo(h.component)||h.component.proxy}},unmount(){i&&(t(null,u._container),delete u._container.__vue_app__)},provide(p,d){return r.provides[p]=d,u}};return u}}function Ml(t,n,s,o,l=!1){if(le(t)){t.forEach((h,m)=>Ml(h,n&&(le(n)?n[m]:n),s,o,l));return}if(Jn(o)&&!l)return;const r=o.shapeFlag&4?Qo(o.component)||o.component.proxy:o.el,a=l?null:r,{i,r:u}=t,p=n&&n.r,d=i.refs===Se?i.refs={}:i.refs,f=i.setupState;if(p!=null&&p!==u&&(Le(p)?(d[p]=null,ve(f,p)&&(f[p]=null)):Ee(p)&&(p.value=null)),ce(u))sn(u,i,12,[a,d]);else{const h=Le(u),m=Ee(u);if(h||m){const y=()=>{if(t.f){const _=h?d[u]:u.value;l?le(_)&&_r(_,r):le(_)?_.includes(r)||_.push(r):h?(d[u]=[r],ve(f,u)&&(f[u]=d[u])):(u.value=[r],t.k&&(d[t.k]=u.value))}else h?(d[u]=a,ve(f,u)&&(f[u]=a)):m&&(u.value=a,t.k&&(d[t.k]=a))};a?(y.id=-1,Ye(y,s)):y()}}}const Ye=uf;function Mf(t){return Lf(t)}function Lf(t,n){const s=md();s.__VUE__=!0;const{insert:o,remove:l,patchProp:r,createElement:a,createText:i,createComment:u,setText:p,setElementText:d,parentNode:f,nextSibling:h,setScopeId:m=Ct,insertStaticContent:y}=t,_=(g,v,B,x=null,I=null,N=null,Z=!1,q=null,W=!!v.dynamicChildren)=>{if(g===v)return;g&&!hs(g,v)&&(x=z(g),qe(g,I,N,!0),g=null),v.patchFlag===-2&&(W=!1,v.dynamicChildren=null);const{type:R,ref:ne,shapeFlag:X}=v;switch(R){case qr:w(g,v,B,x);break;case un:b(g,v,B,x);break;case ll:g==null&&k(v,B,x,Z);break;case Be:We(g,v,B,x,I,N,Z,q,W);break;default:X&1?M(g,v,B,x,I,N,Z,q,W):X&6?je(g,v,B,x,I,N,Z,q,W):(X&64||X&128)&&R.process(g,v,B,x,I,N,Z,q,W,ye)}ne!=null&&I&&Ml(ne,g&&g.ref,N,v||g,!v)},w=(g,v,B,x)=>{if(g==null)o(v.el=i(v.children),B,x);else{const I=v.el=g.el;v.children!==g.children&&p(I,v.children)}},b=(g,v,B,x)=>{g==null?o(v.el=u(v.children||""),B,x):v.el=g.el},k=(g,v,B,x)=>{[g.el,g.anchor]=y(g.children,v,B,x,g.el,g.anchor)},D=({el:g,anchor:v},B,x)=>{let I;for(;g&&g!==v;)I=h(g),o(g,B,x),g=I;o(v,B,x)},C=({el:g,anchor:v})=>{let B;for(;g&&g!==v;)B=h(g),l(g),g=B;l(v)},M=(g,v,B,x,I,N,Z,q,W)=>{Z=Z||v.type==="svg",g==null?L(v,B,x,I,N,Z,q,W):pe(g,v,I,N,Z,q,W)},L=(g,v,B,x,I,N,Z,q)=>{let W,R;const{type:ne,props:X,shapeFlag:se,transition:re,dirs:me}=g;if(W=g.el=a(g.type,N,X&&X.is,X),se&8?d(W,g.children):se&16&&te(g.children,W,null,x,I,N&&ne!=="foreignObject",Z,q),me&&pn(g,null,x,"created"),X){for(const Ce in X)Ce!=="value"&&!fo(Ce)&&r(W,Ce,null,X[Ce],N,g.children,x,I,Y);"value"in X&&r(W,"value",null,X.value),(R=X.onVnodeBeforeMount)&&vt(R,x,g)}V(W,g,g.scopeId,Z,x),me&&pn(g,null,x,"beforeMount");const Oe=(!I||I&&!I.pendingBranch)&&re&&!re.persisted;Oe&&re.beforeEnter(W),o(W,v,B),((R=X&&X.onVnodeMounted)||Oe||me)&&Ye(()=>{R&&vt(R,x,g),Oe&&re.enter(W),me&&pn(g,null,x,"mounted")},I)},V=(g,v,B,x,I)=>{if(B&&m(g,B),x)for(let N=0;N<x.length;N++)m(g,x[N]);if(I){let N=I.subTree;if(v===N){const Z=I.vnode;V(g,Z,Z.scopeId,Z.slotScopeIds,I.parent)}}},te=(g,v,B,x,I,N,Z,q,W=0)=>{for(let R=W;R<g.length;R++){const ne=g[R]=q?Xt(g[R]):Pt(g[R]);_(null,ne,v,B,x,I,N,Z,q)}},pe=(g,v,B,x,I,N,Z)=>{const q=v.el=g.el;let{patchFlag:W,dynamicChildren:R,dirs:ne}=v;W|=g.patchFlag&16;const X=g.props||Se,se=v.props||Se;let re;B&&dn(B,!1),(re=se.onVnodeBeforeUpdate)&&vt(re,B,v,g),ne&&pn(v,g,B,"beforeUpdate"),B&&dn(B,!0);const me=I&&v.type!=="foreignObject";if(R?fe(g.dynamicChildren,R,q,B,x,me,N):Z||oe(g,v,q,null,B,x,me,N,!1),W>0){if(W&16)_e(q,v,X,se,B,x,I);else if(W&2&&X.class!==se.class&&r(q,"class",null,se.class,I),W&4&&r(q,"style",X.style,se.style,I),W&8){const Oe=v.dynamicProps;for(let Ce=0;Ce<Oe.length;Ce++){const Ne=Oe[Ce],wt=X[Ne],Mn=se[Ne];(Mn!==wt||Ne==="value")&&r(q,Ne,wt,Mn,I,g.children,B,x,Y)}}W&1&&g.children!==v.children&&d(q,v.children)}else!Z&&R==null&&_e(q,v,X,se,B,x,I);((re=se.onVnodeUpdated)||ne)&&Ye(()=>{re&&vt(re,B,v,g),ne&&pn(v,g,B,"updated")},x)},fe=(g,v,B,x,I,N,Z)=>{for(let q=0;q<v.length;q++){const W=g[q],R=v[q],ne=W.el&&(W.type===Be||!hs(W,R)||W.shapeFlag&70)?f(W.el):B;_(W,R,ne,null,x,I,N,Z,!0)}},_e=(g,v,B,x,I,N,Z)=>{if(B!==x){if(B!==Se)for(const q in B)!fo(q)&&!(q in x)&&r(g,q,B[q],null,Z,v.children,I,N,Y);for(const q in x){if(fo(q))continue;const W=x[q],R=B[q];W!==R&&q!=="value"&&r(g,q,R,W,Z,v.children,I,N,Y)}"value"in x&&r(g,"value",B.value,x.value)}},We=(g,v,B,x,I,N,Z,q,W)=>{const R=v.el=g?g.el:i(""),ne=v.anchor=g?g.anchor:i("");let{patchFlag:X,dynamicChildren:se,slotScopeIds:re}=v;re&&(q=q?q.concat(re):re),g==null?(o(R,B,x),o(ne,B,x),te(v.children,B,ne,I,N,Z,q,W)):X>0&&X&64&&se&&g.dynamicChildren?(fe(g.dynamicChildren,se,B,I,N,Z,q),(v.key!=null||I&&v===I.subTree)&&Lr(g,v,!0)):oe(g,v,B,ne,I,N,Z,q,W)},je=(g,v,B,x,I,N,Z,q,W)=>{v.slotScopeIds=q,g==null?v.shapeFlag&512?I.ctx.activate(v,B,x,Z,W):Re(v,B,x,I,N,Z,W):$e(g,v,W)},Re=(g,v,B,x,I,N,Z)=>{const q=g.component=Yf(g,x,I);if(Xc(g)&&(q.ctx.renderer=ye),Zf(q),q.asyncDep){if(I&&I.registerDep(q,Te),!g.el){const W=q.subTree=Q(un);b(null,W,v,B)}return}Te(q,g,v,B,I,N,Z)},$e=(g,v,B)=>{const x=v.component=g.component;if(af(g,v,B))if(x.asyncDep&&!x.asyncResolved){G(x,v,B);return}else x.next=v,tf(x.update),x.update();else v.el=g.el,x.vnode=v},Te=(g,v,B,x,I,N,Z)=>{const q=()=>{if(g.isMounted){let{next:ne,bu:X,u:se,parent:re,vnode:me}=g,Oe=ne,Ce;dn(g,!1),ne?(ne.el=me.el,G(g,ne,Z)):ne=me,X&&Yn(X),(Ce=ne.props&&ne.props.onVnodeBeforeUpdate)&&vt(Ce,re,ne,me),dn(g,!0);const Ne=nl(g),wt=g.subTree;g.subTree=Ne,_(wt,Ne,f(wt.el),z(wt),g,I,N),ne.el=Ne.el,Oe===null&&cf(g,Ne.el),se&&Ye(se,I),(Ce=ne.props&&ne.props.onVnodeUpdated)&&Ye(()=>vt(Ce,re,ne,me),I)}else{let ne;const{el:X,props:se}=v,{bm:re,m:me,parent:Oe}=g,Ce=Jn(v);if(dn(g,!1),re&&Yn(re),!Ce&&(ne=se&&se.onVnodeBeforeMount)&&vt(ne,Oe,v),dn(g,!0),X&&ae){const Ne=()=>{g.subTree=nl(g),ae(X,g.subTree,g,I,null)};Ce?v.type.__asyncLoader().then(()=>!g.isUnmounted&&Ne()):Ne()}else{const Ne=g.subTree=nl(g);_(null,Ne,B,x,g,I,N),v.el=Ne.el}if(me&&Ye(me,I),!Ce&&(ne=se&&se.onVnodeMounted)){const Ne=v;Ye(()=>vt(ne,Oe,Ne),I)}(v.shapeFlag&256||Oe&&Jn(Oe.vnode)&&Oe.vnode.shapeFlag&256)&&g.a&&Ye(g.a,I),g.isMounted=!0,v=B=x=null}},W=g.effect=new Er(q,()=>Tr(R),g.scope),R=g.update=()=>W.run();R.id=g.uid,dn(g,!0),R()},G=(g,v,B)=>{v.component=g;const x=g.vnode.props;g.vnode=v,g.next=null,$f(g,v.props,x,B),Pf(g,v.children,B),rs(),ba(),as()},oe=(g,v,B,x,I,N,Z,q,W=!1)=>{const R=g&&g.children,ne=g?g.shapeFlag:0,X=v.children,{patchFlag:se,shapeFlag:re}=v;if(se>0){if(se&128){De(R,X,B,x,I,N,Z,q,W);return}else if(se&256){he(R,X,B,x,I,N,Z,q,W);return}}re&8?(ne&16&&Y(R,I,N),X!==R&&d(B,X)):ne&16?re&16?De(R,X,B,x,I,N,Z,q,W):Y(R,I,N,!0):(ne&8&&d(B,""),re&16&&te(X,B,x,I,N,Z,q,W))},he=(g,v,B,x,I,N,Z,q,W)=>{g=g||zn,v=v||zn;const R=g.length,ne=v.length,X=Math.min(R,ne);let se;for(se=0;se<X;se++){const re=v[se]=W?Xt(v[se]):Pt(v[se]);_(g[se],re,B,null,I,N,Z,q,W)}R>ne?Y(g,I,N,!0,!1,X):te(v,B,x,I,N,Z,q,W,X)},De=(g,v,B,x,I,N,Z,q,W)=>{let R=0;const ne=v.length;let X=g.length-1,se=ne-1;for(;R<=X&&R<=se;){const re=g[R],me=v[R]=W?Xt(v[R]):Pt(v[R]);if(hs(re,me))_(re,me,B,null,I,N,Z,q,W);else break;R++}for(;R<=X&&R<=se;){const re=g[X],me=v[se]=W?Xt(v[se]):Pt(v[se]);if(hs(re,me))_(re,me,B,null,I,N,Z,q,W);else break;X--,se--}if(R>X){if(R<=se){const re=se+1,me=re<ne?v[re].el:x;for(;R<=se;)_(null,v[R]=W?Xt(v[R]):Pt(v[R]),B,me,I,N,Z,q,W),R++}}else if(R>se)for(;R<=X;)qe(g[R],I,N,!0),R++;else{const re=R,me=R,Oe=new Map;for(R=me;R<=se;R++){const it=v[R]=W?Xt(v[R]):Pt(v[R]);it.key!=null&&Oe.set(it.key,R)}let Ce,Ne=0;const wt=se-me+1;let Mn=!1,pa=0;const fs=new Array(wt);for(R=0;R<wt;R++)fs[R]=0;for(R=re;R<=X;R++){const it=g[R];if(Ne>=wt){qe(it,I,N,!0);continue}let Ft;if(it.key!=null)Ft=Oe.get(it.key);else for(Ce=me;Ce<=se;Ce++)if(fs[Ce-me]===0&&hs(it,v[Ce])){Ft=Ce;break}Ft===void 0?qe(it,I,N,!0):(fs[Ft-me]=R+1,Ft>=pa?pa=Ft:Mn=!0,_(it,v[Ft],B,null,I,N,Z,q,W),Ne++)}const da=Mn?qf(fs):zn;for(Ce=da.length-1,R=wt-1;R>=0;R--){const it=me+R,Ft=v[it],fa=it+1<ne?v[it+1].el:x;fs[R]===0?_(null,Ft,B,fa,I,N,Z,q,W):Mn&&(Ce<0||R!==da[Ce]?tt(Ft,B,fa,2):Ce--)}}},tt=(g,v,B,x,I=null)=>{const{el:N,type:Z,transition:q,children:W,shapeFlag:R}=g;if(R&6){tt(g.component.subTree,v,B,x);return}if(R&128){g.suspense.move(v,B,x);return}if(R&64){Z.move(g,v,B,ye);return}if(Z===Be){o(N,v,B);for(let X=0;X<W.length;X++)tt(W[X],v,B,x);o(g.anchor,v,B);return}if(Z===ll){D(g,v,B);return}if(x!==2&&R&1&&q)if(x===0)q.beforeEnter(N),o(N,v,B),Ye(()=>q.enter(N),I);else{const{leave:X,delayLeave:se,afterLeave:re}=q,me=()=>o(N,v,B),Oe=()=>{X(N,()=>{me(),re&&re()})};se?se(N,me,Oe):Oe()}else o(N,v,B)},qe=(g,v,B,x=!1,I=!1)=>{const{type:N,props:Z,ref:q,children:W,dynamicChildren:R,shapeFlag:ne,patchFlag:X,dirs:se}=g;if(q!=null&&Ml(q,null,B,g,!0),ne&256){v.ctx.deactivate(g);return}const re=ne&1&&se,me=!Jn(g);let Oe;if(me&&(Oe=Z&&Z.onVnodeBeforeUnmount)&&vt(Oe,v,g),ne&6)$(g.component,B,x);else{if(ne&128){g.suspense.unmount(B,x);return}re&&pn(g,null,v,"beforeUnmount"),ne&64?g.type.remove(g,v,B,I,ye,x):R&&(N!==Be||X>0&&X&64)?Y(R,v,B,!1,!0):(N===Be&&X&384||!I&&ne&16)&&Y(W,v,B),x&&Qt(g)}(me&&(Oe=Z&&Z.onVnodeUnmounted)||re)&&Ye(()=>{Oe&&vt(Oe,v,g),re&&pn(g,null,v,"unmounted")},B)},Qt=g=>{const{type:v,el:B,anchor:x,transition:I}=g;if(v===Be){Rn(B,x);return}if(v===ll){C(g);return}const N=()=>{l(B),I&&!I.persisted&&I.afterLeave&&I.afterLeave()};if(g.shapeFlag&1&&I&&!I.persisted){const{leave:Z,delayLeave:q}=I,W=()=>Z(B,N);q?q(g.el,N,W):W()}else N()},Rn=(g,v)=>{let B;for(;g!==v;)B=h(g),l(g),g=B;l(v)},$=(g,v,B)=>{const{bum:x,scope:I,update:N,subTree:Z,um:q}=g;x&&Yn(x),I.stop(),N&&(N.active=!1,qe(Z,g,v,B)),q&&Ye(q,v),Ye(()=>{g.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},Y=(g,v,B,x=!1,I=!1,N=0)=>{for(let Z=N;Z<g.length;Z++)qe(g[Z],v,B,x,I)},z=g=>g.shapeFlag&6?z(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),ee=(g,v,B)=>{g==null?v._vnode&&qe(v._vnode,null,null,!0):_(v._vnode||null,g,v,null,null,null,B),ba(),Kc(),v._vnode=g},ye={p:_,um:qe,m:tt,r:Qt,mt:Re,mc:te,pc:oe,pbc:fe,n:z,o:t};let Ae,ae;return n&&([Ae,ae]=n(ye)),{render:ee,hydrate:Ae,createApp:Rf(ee,Ae)}}function dn({effect:t,update:n},s){t.allowRecurse=n.allowRecurse=s}function Lr(t,n,s=!1){const o=t.children,l=n.children;if(le(o)&&le(l))for(let r=0;r<o.length;r++){const a=o[r];let i=l[r];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=l[r]=Xt(l[r]),i.el=a.el),s||Lr(a,i))}}function qf(t){const n=t.slice(),s=[0];let o,l,r,a,i;const u=t.length;for(o=0;o<u;o++){const p=t[o];if(p!==0){if(l=s[s.length-1],t[l]<p){n[o]=l,s.push(o);continue}for(r=0,a=s.length-1;r<a;)i=r+a>>1,t[s[i]]<p?r=i+1:a=i;p<t[s[r]]&&(r>0&&(n[o]=s[r-1]),s[r]=o)}}for(r=s.length,a=s[r-1];r-- >0;)s[r]=a,a=n[a];return s}const Nf=t=>t.__isTeleport,Ds=t=>t&&(t.disabled||t.disabled===""),Ta=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Ll=(t,n)=>{const s=t&&t.to;return Le(s)?n?n(s):null:s},jf={__isTeleport:!0,process(t,n,s,o,l,r,a,i,u,p){const{mc:d,pc:f,pbc:h,o:{insert:m,querySelector:y,createText:_,createComment:w}}=p,b=Ds(n.props);let{shapeFlag:k,children:D,dynamicChildren:C}=n;if(t==null){const M=n.el=_(""),L=n.anchor=_("");m(M,s,o),m(L,s,o);const V=n.target=Ll(n.props,y),te=n.targetAnchor=_("");V&&(m(te,V),a=a||Ta(V));const pe=(fe,_e)=>{k&16&&d(D,fe,_e,l,r,a,i,u)};b?pe(s,L):V&&pe(V,te)}else{n.el=t.el;const M=n.anchor=t.anchor,L=n.target=t.target,V=n.targetAnchor=t.targetAnchor,te=Ds(t.props),pe=te?s:L,fe=te?M:V;if(a=a||Ta(L),C?(h(t.dynamicChildren,C,pe,l,r,a,i),Lr(t,n,!0)):u||f(t,n,pe,fe,l,r,a,i,!1),b)te||ao(n,s,M,p,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const _e=n.target=Ll(n.props,y);_e&&ao(n,_e,null,p,0)}else te&&ao(n,L,V,p,1)}},remove(t,n,s,o,{um:l,o:{remove:r}},a){const{shapeFlag:i,children:u,anchor:p,targetAnchor:d,target:f,props:h}=t;if(f&&r(d),(a||!Ds(h))&&(r(p),i&16))for(let m=0;m<u.length;m++){const y=u[m];l(y,n,s,!0,!!y.dynamicChildren)}},move:ao,hydrate:Hf};function ao(t,n,s,{o:{insert:o},m:l},r=2){r===0&&o(t.targetAnchor,n,s);const{el:a,anchor:i,shapeFlag:u,children:p,props:d}=t,f=r===2;if(f&&o(a,n,s),(!f||Ds(d))&&u&16)for(let h=0;h<p.length;h++)l(p[h],n,s,2);f&&o(i,n,s)}function Hf(t,n,s,o,l,r,{o:{nextSibling:a,parentNode:i,querySelector:u}},p){const d=n.target=Ll(n.props,u);if(d){const f=d._lpa||d.firstChild;if(n.shapeFlag&16)if(Ds(n.props))n.anchor=p(a(t),n,i(t),s,o,l,r),n.targetAnchor=f;else{n.anchor=a(t);let h=f;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){n.targetAnchor=h,d._lpa=n.targetAnchor&&a(n.targetAnchor);break}p(f,n,d,s,o,l,r)}}return n.anchor&&a(n.anchor)}const Uf=jf,Be=Symbol(void 0),qr=Symbol(void 0),un=Symbol(void 0),ll=Symbol(void 0),ks=[];let kt=null;function A(t=!1){ks.push(kt=t?null:[])}function Vf(){ks.pop(),kt=ks[ks.length-1]||null}let Ns=1;function Fa(t){Ns+=t}function pu(t){return t.dynamicChildren=Ns>0?kt||zn:null,Vf(),Ns>0&&kt&&kt.push(t),t}function J(t,n,s,o,l,r){return pu(e(t,n,s,o,l,r,!0))}function F(t,n,s,o,l){return pu(Q(t,n,s,o,l,!0))}function ts(t){return t?t.__v_isVNode===!0:!1}function hs(t,n){return t.type===n.type&&t.key===n.key}const Zo="__vInternal",du=({key:t})=>t!=null?t:null,ho=({ref:t,ref_key:n,ref_for:s})=>t!=null?Le(t)||Ee(t)||ce(t)?{i:Ge,r:t,k:n,f:!!s}:t:null;function e(t,n=null,s=null,o=0,l=null,r=t===Be?0:1,a=!1,i=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&du(n),ref:n&&ho(n),scopeId:Wo,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:o,dynamicProps:l,dynamicChildren:null,appContext:null};return i?(Nr(u,s),r&128&&t.normalize(u)):s&&(u.shapeFlag|=Le(s)?8:16),Ns>0&&!a&&kt&&(u.patchFlag>0||r&6)&&u.patchFlag!==32&&kt.push(u),u}const Q=Wf;function Wf(t,n=null,s=null,o=0,l=null,r=!1){if((!t||t===bf)&&(t=un),ts(t)){const i=$n(t,n,!0);return s&&Nr(i,s),Ns>0&&!r&&kt&&(i.shapeFlag&6?kt[kt.indexOf(t)]=i:kt.push(i)),i.patchFlag|=-2,i}if(Gf(t)&&(t=t.__vccOpts),n){n=j(n);let{class:i,style:u}=n;i&&!Le(i)&&(n.class=Me(i)),Pe(u)&&(Nc(u)&&!le(u)&&(u=rt({},u)),n.style=lt(u))}const a=Le(t)?1:Qc(t)?128:Nf(t)?64:Pe(t)?4:ce(t)?2:0;return e(t,n,s,o,l,a,r,!0)}function j(t){return t?Nc(t)||Zo in t?rt({},t):t:null}function $n(t,n,s=!1){const{props:o,ref:l,patchFlag:r,children:a}=t,i=n?Ie(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:i,key:i&&du(i),ref:n&&n.ref?s&&l?le(l)?l.concat(ho(n)):[l,ho(n)]:ho(n):l,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Be?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&$n(t.ssContent),ssFallback:t.ssFallback&&$n(t.ssFallback),el:t.el,anchor:t.anchor}}function c(t=" ",n=0){return Q(qr,null,t,n)}function ge(t="",n=!1){return n?(A(),F(un,null,t)):Q(un,null,t)}function Pt(t){return t==null||typeof t=="boolean"?Q(un):le(t)?Q(Be,null,t.slice()):typeof t=="object"?Xt(t):Q(qr,null,String(t))}function Xt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:$n(t)}function Nr(t,n){let s=0;const{shapeFlag:o}=t;if(n==null)n=null;else if(le(n))s=16;else if(typeof n=="object")if(o&65){const l=n.default;l&&(l._c&&(l._d=!1),Nr(t,l()),l._c&&(l._d=!0));return}else{s=32;const l=n._;!l&&!(Zo in n)?n._ctx=Ge:l===3&&Ge&&(Ge.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else ce(n)?(n={default:n,_ctx:Ge},s=32):(n=String(n),o&64?(s=16,n=[c(n)]):s=8);t.children=n,t.shapeFlag|=s}function Ie(...t){const n={};for(let s=0;s<t.length;s++){const o=t[s];for(const l in o)if(l==="class")n.class!==o.class&&(n.class=Me([n.class,o.class]));else if(l==="style")n.style=lt([n.style,o.style]);else if(Mo(l)){const r=n[l],a=o[l];a&&r!==a&&!(le(r)&&r.includes(a))&&(n[l]=r?[].concat(r,a):a)}else l!==""&&(n[l]=o[l])}return n}function vt(t,n,s,o=null){xt(t,n,7,[s,o])}const zf=uu();let Kf=0;function Yf(t,n,s){const o=t.type,l=(n?n.appContext:t.appContext)||zf,r={uid:Kf++,vnode:t,type:o,parent:n,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new Cc(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ru(o,l),emitsOptions:Zc(o,l),emit:null,emitted:null,propsDefaults:Se,inheritAttrs:o.inheritAttrs,ctx:Se,data:Se,props:Se,attrs:Se,slots:Se,refs:Se,setupState:Se,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=n?n.root:r,r.emit=of.bind(null,r),t.ce&&t.ce(r),r}let ze=null;const Fn=()=>ze||Ge,ns=t=>{ze=t,t.scope.on()},Bn=()=>{ze&&ze.scope.off(),ze=null};function fu(t){return t.vnode.shapeFlag&4}let js=!1;function Zf(t,n=!1){js=n;const{props:s,children:o}=t.vnode,l=fu(t);Of(t,s,l,n),Ff(t,o);const r=l?Qf(t,n):void 0;return js=!1,r}function Qf(t,n){const s=t.type;t.accessCache=Object.create(null),t.proxy=Ho(new Proxy(t.ctx,Df));const{setup:o}=s;if(o){const l=t.setupContext=o.length>1?yu(t):null;ns(t),rs();const r=sn(o,t,0,[t.props,l]);if(as(),Bn(),Dc(r)){if(r.then(Bn,Bn),n)return r.then(a=>{Pa(t,a,n)}).catch(a=>{Uo(a,t,0)});t.asyncDep=r}else Pa(t,r,n)}else hu(t,n)}function Pa(t,n,s){ce(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Pe(n)&&(t.setupState=Hc(n)),hu(t,s)}let Ia;function hu(t,n,s){const o=t.type;if(!t.render){if(!n&&Ia&&!o.render){const l=o.template||Rr(t).template;if(l){const{isCustomElement:r,compilerOptions:a}=t.appContext.config,{delimiters:i,compilerOptions:u}=o,p=rt(rt({isCustomElement:r,delimiters:i},a),u);o.render=Ia(l,p)}}t.render=o.render||Ct}ns(t),rs(),kf(t),as(),Bn()}function Jf(t){return new Proxy(t.attrs,{get(n,s){return gt(t,"get","$attrs"),n[s]}})}function yu(t){const n=o=>{t.exposed=o||{}};let s;return{get attrs(){return s||(s=Jf(t))},slots:t.slots,emit:t.emit,expose:n}}function Qo(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Hc(Ho(t.exposed)),{get(n,s){if(s in n)return n[s];if(s in Do)return Do[s](t)}}))}function ql(t,n=!0){return ce(t)?t.displayName||t.name:t.name||n&&t.__name}function Gf(t){return ce(t)&&"__vccOpts"in t}const O=(t,n)=>Gd(t,n,js);function Xf(){return eh().slots}function eh(){const t=Fn();return t.setupContext||(t.setupContext=yu(t))}function ht(t,n,s){const o=arguments.length;return o===2?Pe(n)&&!le(n)?ts(n)?Q(t,null,[n]):Q(t,n):Q(t,null,n):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&ts(s)&&(s=[s]),Q(t,n,s))}const th="3.2.40",nh="http://www.w3.org/2000/svg",vn=typeof document<"u"?document:null,Ra=vn&&vn.createElement("template"),sh={insert:(t,n,s)=>{n.insertBefore(t,s||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,s,o)=>{const l=n?vn.createElementNS(nh,t):vn.createElement(t,s?{is:s}:void 0);return t==="select"&&o&&o.multiple!=null&&l.setAttribute("multiple",o.multiple),l},createText:t=>vn.createTextNode(t),createComment:t=>vn.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vn.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,s,o,l,r){const a=s?s.previousSibling:n.lastChild;if(l&&(l===r||l.nextSibling))for(;n.insertBefore(l.cloneNode(!0),s),!(l===r||!(l=l.nextSibling)););else{Ra.innerHTML=o?`<svg>${t}</svg>`:t;const i=Ra.content;if(o){const u=i.firstChild;for(;u.firstChild;)i.appendChild(u.firstChild);i.removeChild(u)}n.insertBefore(i,s)}return[a?a.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}};function oh(t,n,s){const o=t._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?t.removeAttribute("class"):s?t.setAttribute("class",n):t.className=n}function lh(t,n,s){const o=t.style,l=Le(s);if(s&&!l){for(const r in s)Nl(o,r,s[r]);if(n&&!Le(n))for(const r in n)s[r]==null&&Nl(o,r,"")}else{const r=o.display;l?n!==s&&(o.cssText=s):n&&t.removeAttribute("style"),"_vod"in t&&(o.display=r)}}const Ma=/\s*!important$/;function Nl(t,n,s){if(le(s))s.forEach(o=>Nl(t,n,o));else if(s==null&&(s=""),n.startsWith("--"))t.setProperty(n,s);else{const o=rh(t,n);Ma.test(s)?t.setProperty(Tn(o),s.replace(Ma,""),"important"):t[o]=s}}const La=["Webkit","Moz","ms"],rl={};function rh(t,n){const s=rl[n];if(s)return s;let o=qt(n);if(o!=="filter"&&o in t)return rl[n]=o;o=No(o);for(let l=0;l<La.length;l++){const r=La[l]+o;if(r in t)return rl[n]=r}return n}const qa="http://www.w3.org/1999/xlink";function ah(t,n,s,o,l){if(o&&n.startsWith("xlink:"))s==null?t.removeAttributeNS(qa,n.slice(6,n.length)):t.setAttributeNS(qa,n,s);else{const r=od(n);s==null||r&&!wc(s)?t.removeAttribute(n):t.setAttribute(n,r?"":s)}}function ih(t,n,s,o,l,r,a){if(n==="innerHTML"||n==="textContent"){o&&a(o,l,r),t[n]=s==null?"":s;return}if(n==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=s;const u=s==null?"":s;(t.value!==u||t.tagName==="OPTION")&&(t.value=u),s==null&&t.removeAttribute(n);return}let i=!1;if(s===""||s==null){const u=typeof t[n];u==="boolean"?s=wc(s):s==null&&u==="string"?(s="",i=!0):u==="number"&&(s=0,i=!0)}try{t[n]=s}catch{}i&&t.removeAttribute(n)}const[mu,ch]=(()=>{let t=Date.now,n=!1;if(typeof window<"u"){Date.now()>document.createEvent("Event").timeStamp&&(t=performance.now.bind(performance));const s=navigator.userAgent.match(/firefox\/(\d+)/i);n=!!(s&&Number(s[1])<=53)}return[t,n]})();let jl=0;const uh=Promise.resolve(),ph=()=>{jl=0},dh=()=>jl||(uh.then(ph),jl=mu());function jn(t,n,s,o){t.addEventListener(n,s,o)}function fh(t,n,s,o){t.removeEventListener(n,s,o)}function hh(t,n,s,o,l=null){const r=t._vei||(t._vei={}),a=r[n];if(o&&a)a.value=o;else{const[i,u]=yh(n);if(o){const p=r[n]=mh(o,l);jn(t,i,p,u)}else a&&(fh(t,i,a,u),r[n]=void 0)}}const Na=/(?:Once|Passive|Capture)$/;function yh(t){let n;if(Na.test(t)){n={};let o;for(;o=t.match(Na);)t=t.slice(0,t.length-o[0].length),n[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Tn(t.slice(2)),n]}function mh(t,n){const s=o=>{const l=o.timeStamp||mu();(ch||l>=s.attached-1)&&xt(gh(o,s.value),n,5,[o])};return s.value=t,s.attached=dh(),s}function gh(t,n){if(le(n)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},n.map(o=>l=>!l._stopped&&o&&o(l))}else return n}const ja=/^on[a-z]/,vh=(t,n,s,o,l=!1,r,a,i,u)=>{n==="class"?oh(t,o,l):n==="style"?lh(t,s,o):Mo(n)?vr(n)||hh(t,n,s,o,a):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):_h(t,n,o,l))?ih(t,n,o,r,a,i,u):(n==="true-value"?t._trueValue=o:n==="false-value"&&(t._falseValue=o),ah(t,n,o,l))};function _h(t,n,s,o){return o?!!(n==="innerHTML"||n==="textContent"||n in t&&ja.test(n)&&ce(s)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||ja.test(n)&&Le(s)?!1:n in t}const Ha=t=>{const n=t.props["onUpdate:modelValue"]||!1;return le(n)?s=>Yn(n,s):n};function Ah(t){t.target.composing=!0}function Ua(t){const n=t.target;n.composing&&(n.composing=!1,n.dispatchEvent(new Event("input")))}const wh={created(t,{modifiers:{lazy:n,trim:s,number:o}},l){t._assign=Ha(l);const r=o||l.props&&l.props.type==="number";jn(t,n?"change":"input",a=>{if(a.target.composing)return;let i=t.value;s&&(i=i.trim()),r&&(i=Cl(i)),t._assign(i)}),s&&jn(t,"change",()=>{t.value=t.value.trim()}),n||(jn(t,"compositionstart",Ah),jn(t,"compositionend",Ua),jn(t,"change",Ua))},mounted(t,{value:n}){t.value=n==null?"":n},beforeUpdate(t,{value:n,modifiers:{lazy:s,trim:o,number:l}},r){if(t._assign=Ha(r),t.composing||document.activeElement===t&&t.type!=="range"&&(s||o&&t.value.trim()===n||(l||t.type==="number")&&Cl(t.value)===n))return;const a=n==null?"":n;t.value!==a&&(t.value=a)}},bh={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Va=(t,n)=>s=>{if(!("key"in s))return;const o=Tn(s.key);if(n.some(l=>l===o||bh[l]===o))return t(s)},gu={beforeMount(t,{value:n},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&n?s.beforeEnter(t):ys(t,n)},mounted(t,{value:n},{transition:s}){s&&n&&s.enter(t)},updated(t,{value:n,oldValue:s},{transition:o}){!n!=!s&&(o?n?(o.beforeEnter(t),ys(t,!0),o.enter(t)):o.leave(t,()=>{ys(t,!1)}):ys(t,n))},beforeUnmount(t,{value:n}){ys(t,n)}};function ys(t,n){t.style.display=n?t._vod:"none"}const Eh=rt({patchProp:vh},sh);let Wa;function Dh(){return Wa||(Wa=Mf(Eh))}const kh=(...t)=>{const n=Dh().createApp(...t),{mount:s}=n;return n.mount=o=>{const l=Bh(o);if(!l)return;const r=n._component;!ce(r)&&!r.render&&!r.template&&(r.template=l.innerHTML),l.innerHTML="";const a=s(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),a},n};function Bh(t){return Le(t)?document.querySelector(t):t}var za;const Ot=typeof window<"u",Ch=t=>typeof t<"u",xh=Object.prototype.toString,Bo=t=>typeof t=="function",Sh=t=>typeof t=="number",vu=t=>typeof t=="string",Hl=t=>xh.call(t)==="[object Object]",Ul=()=>+Date.now(),Cn=()=>{};Ot&&((za=window==null?void 0:window.navigator)==null?void 0:za.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Ze(t){return typeof t=="function"?t():E(t)}function Oh(t,n){function s(...o){t(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})}return s}const _u=t=>t();function $h(t=_u){const n=K(!0);function s(){n.value=!1}function o(){n.value=!0}return{isActive:n,pause:s,resume:o,eventFilter:(...r)=>{n.value&&t(...r)}}}function Th(t){return t}function Fh(t,n){var s;if(typeof t=="number")return t+n;const o=((s=t.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:s[0])||"",l=t.slice(o.length),r=parseFloat(o)+n;return Number.isNaN(r)?t:r+l}function Ph(t,n){let s,o,l;const r=K(!0),a=()=>{r.value=!0,l()};de(t,a,{flush:"sync"});const i=Bo(n)?n:n.get,u=Bo(n)?void 0:n.set,p=Uc((d,f)=>(o=d,l=f,{get(){return r.value&&(s=i(),r.value=!1),o(),s},set(h){u==null||u(h)}}));return Object.isExtensible(p)&&(p.trigger=a),p}function Kt(t){return xc()?(Sc(t),!0):!1}function Ih(t){if(!Ee(t))return Fe(t);const n=new Proxy({},{get(s,o,l){return E(Reflect.get(t.value,o,l))},set(s,o,l){return Ee(t.value[o])&&!Ee(l)?t.value[o].value=l:t.value[o]=l,!0},deleteProperty(s,o){return Reflect.deleteProperty(t.value,o)},has(s,o){return Reflect.has(t.value,o)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Fe(n)}function Au(t){return typeof t=="function"?O(t):K(t)}var Rh=Object.defineProperty,Mh=Object.defineProperties,Lh=Object.getOwnPropertyDescriptors,Ka=Object.getOwnPropertySymbols,qh=Object.prototype.hasOwnProperty,Nh=Object.prototype.propertyIsEnumerable,Ya=(t,n,s)=>n in t?Rh(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,jh=(t,n)=>{for(var s in n||(n={}))qh.call(n,s)&&Ya(t,s,n[s]);if(Ka)for(var s of Ka(n))Nh.call(n,s)&&Ya(t,s,n[s]);return t},Hh=(t,n)=>Mh(t,Lh(n));function Uh(t){if(!Ee(t))return Yd(t);const n=Array.isArray(t.value)?new Array(t.value.length):{};for(const s in t.value)n[s]=Uc(()=>({get(){return t.value[s]},set(o){if(Array.isArray(t.value)){const l=[...t.value];l[s]=o,t.value=l}else{const l=Hh(jh({},t.value),{[s]:o});Object.setPrototypeOf(l,t.value),t.value=l}}}));return n}function wu(t,n=!0){Fn()?cs(t):n?t():Je(t)}function Vh(t){Fn()&&Yo(t)}function Wh(t,n=1e3,s={}){const{immediate:o=!0,immediateCallback:l=!1}=s;let r=null;const a=K(!1);function i(){r&&(clearInterval(r),r=null)}function u(){a.value=!1,i()}function p(){E(n)<=0||(a.value=!0,l&&t(),i(),r=setInterval(t,Ze(n)))}if(o&&Ot&&p(),Ee(n)){const d=de(n,()=>{a.value&&Ot&&p()});Kt(d)}return Kt(u),{isActive:a,pause:u,resume:p}}function zh(t,n,s={}){const{immediate:o=!0}=s,l=K(!1);let r=null;function a(){r&&(clearTimeout(r),r=null)}function i(){l.value=!1,a()}function u(...p){a(),l.value=!0,r=setTimeout(()=>{l.value=!1,r=null,t(...p)},Ze(n))}return o&&(l.value=!0,Ot&&u()),Kt(i),{isPending:l,start:u,stop:i}}function bu(t=!1,n={}){const{truthyValue:s=!0,falsyValue:o=!1}=n,l=Ee(t),r=K(t);function a(i){if(arguments.length)return r.value=i,r.value;{const u=Ze(s);return r.value=r.value===u?Ze(o):u,r.value}}return l?a:[r,a]}var Za=Object.getOwnPropertySymbols,Kh=Object.prototype.hasOwnProperty,Yh=Object.prototype.propertyIsEnumerable,Zh=(t,n)=>{var s={};for(var o in t)Kh.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&Za)for(var o of Za(t))n.indexOf(o)<0&&Yh.call(t,o)&&(s[o]=t[o]);return s};function Qh(t,n,s={}){const o=s,{eventFilter:l=_u}=o,r=Zh(o,["eventFilter"]);return de(t,Oh(l,n),r)}var Jh=Object.defineProperty,Gh=Object.defineProperties,Xh=Object.getOwnPropertyDescriptors,Co=Object.getOwnPropertySymbols,Eu=Object.prototype.hasOwnProperty,Du=Object.prototype.propertyIsEnumerable,Qa=(t,n,s)=>n in t?Jh(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,ey=(t,n)=>{for(var s in n||(n={}))Eu.call(n,s)&&Qa(t,s,n[s]);if(Co)for(var s of Co(n))Du.call(n,s)&&Qa(t,s,n[s]);return t},ty=(t,n)=>Gh(t,Xh(n)),ny=(t,n)=>{var s={};for(var o in t)Eu.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&Co)for(var o of Co(t))n.indexOf(o)<0&&Du.call(t,o)&&(s[o]=t[o]);return s};function sy(t,n,s={}){const o=s,{eventFilter:l}=o,r=ny(o,["eventFilter"]),{eventFilter:a,pause:i,resume:u,isActive:p}=$h(l);return{stop:Qh(t,n,ty(ey({},r),{eventFilter:a})),pause:i,resume:u,isActive:p}}var ku="usehead",Ja="head:count",al="data-head-attrs",Bu="data-meta-body",oy=(t,n)=>{const s=o=>{if(o.props.renderPriority)return o.props.renderPriority;switch(o.tag){case"base":return-1;case"meta":return o.props.charset?-2:o.props["http-equiv"]==="content-security-policy"?0:10;default:return 10}};return s(t)-s(n)},ly=t=>{if(!["meta","base","script","link","title"].includes(t.tag))return!1;const{props:n,tag:s}=t;if(s==="base"||s==="title")return s;if(s==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const o=["key","id","name","property","http-equiv"];for(const l of o){let r;if(typeof n.getAttribute=="function"&&n.hasAttribute(l)?r=n.getAttribute(l):r=n[l],r!==void 0)return`${s}-${l}-${r}`}return!1};function Vl(t){const n=Ze(t);return!t||!n?n:Array.isArray(n)?n.map(Vl):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([s,o])=>s==="titleTemplate"?[s,E(o)]:[s,Vl(o)])):n}function ry(t){return{...t,input:Vl(t.input)}}function Ga(t,n){if(t instanceof HTMLElement&&n instanceof HTMLElement){const s=n.getAttribute("nonce");if(s&&!t.getAttribute("nonce")){const o=n.cloneNode(!0);return o.setAttribute("nonce",""),o.nonce=s,s===t.nonce&&t.isEqualNode(o)}}return t.isEqualNode(n)}var Xa=(t,n)=>{const s=t.getAttribute(al);if(s)for(const l of s.split(","))l in n||t.removeAttribute(l);const o=[];for(const l in n){const r=n[l];r!=null&&(r===!1?t.removeAttribute(l):t.setAttribute(l,r),o.push(l))}o.length?t.setAttribute(al,o.join(",")):t.removeAttribute(al)},ay=(t,n,s)=>{const o=s.createElement(t);for(const l of Object.keys(n))if(l==="body"&&n.body===!0)o.setAttribute(Bu,"true");else{const r=n[l];if(l==="renderPriority"||l==="key"||r===!1)continue;l==="children"||l==="textContent"?o.textContent=r:l==="innerHTML"?o.innerHTML=r:o.setAttribute(l,r)}return o},iy=(t=window.document,n,s)=>{var o,l;const r=t.head,a=t.body;let i=r.querySelector(`meta[name="${Ja}"]`);const u=a.querySelectorAll(`[${Bu}]`),p=i?Number(i.getAttribute("content")):0,d=[],f=[];if(u)for(let m=0;m<u.length;m++)u[m]&&((o=u[m].tagName)==null?void 0:o.toLowerCase())===n&&f.push(u[m]);if(i)for(let m=0,y=i.previousElementSibling;m<p;m++,y=(y==null?void 0:y.previousElementSibling)||null)((l=y==null?void 0:y.tagName)==null?void 0:l.toLowerCase())===n&&d.push(y);else i=t.createElement("meta"),i.setAttribute("name",Ja),i.setAttribute("content","0"),r.append(i);let h=s.map(m=>{var y;return{element:ay(m.tag,m.props,t),body:(y=m.props.body)!=null?y:!1}});h=h.filter(m=>{for(let y=0;y<d.length;y++){const _=d[y];if(Ga(_,m.element))return d.splice(y,1),!1}for(let y=0;y<f.length;y++){const _=f[y];if(Ga(_,m.element))return f.splice(y,1),!1}return!0}),f.forEach(m=>{var y;return(y=m.parentNode)==null?void 0:y.removeChild(m)}),d.forEach(m=>{var y;return(y=m.parentNode)==null?void 0:y.removeChild(m)}),h.forEach(m=>{m.body===!0?a.insertAdjacentElement("beforeend",m.element):r.insertBefore(m.element,i)}),i.setAttribute("content",`${p-d.length+h.filter(m=>!m.body).length}`)},cy=({domCtx:t,document:n,previousTags:s})=>{n||(n=window.document),t.title!==void 0&&(n.title=t.title),Xa(n.documentElement,t.htmlAttrs),Xa(n.body,t.bodyAttrs);const o=new Set([...Object.keys(t.actualTags),...s]);for(const l of o)iy(n,l,t.actualTags[l]||[]);s.clear(),Object.keys(t.actualTags).forEach(l=>s.add(l))},uy=()=>{const t=S(ku);if(!t)throw new Error("You may forget to apply app.use(head)");return t},py=["title","meta","link","base","style","script","noscript","htmlAttrs","bodyAttrs"],dy=(t,n)=>t==null?"":typeof t=="function"?t(n):t.replace("%s",n!=null?n:""),fy=t=>{const n=[],s=Object.keys(t),o=l=>(l.hid&&(l.key=l.hid,delete l.hid),l.vmid&&(l.key=l.vmid,delete l.vmid),l);for(const l of s)if(t[l]!=null)switch(l){case"title":n.push({tag:l,props:{textContent:t[l]}});break;case"titleTemplate":break;case"base":n.push({tag:l,props:{key:"default",...t[l]}});break;default:if(py.includes(l)){const r=t[l];Array.isArray(r)?r.forEach(a=>{const i=o(a);n.push({tag:l,props:i})}):r&&n.push({tag:l,props:o(r)})}break}return n},hy=t=>{let n=[];const s=new Set;let o=0;const l=[],r=[];t&&n.push({input:t});let a=null,i;const u={install(p){p.config.globalProperties.$head=u,p.provide(ku,u)},hookBeforeDomUpdate:l,hookTagsResolved:r,get headTags(){const p=[],d={},f=n.map(ry),h=f.map(y=>y.input.titleTemplate).reverse().find(y=>y!=null);f.forEach((y,_)=>{fy(y.input).forEach((b,k)=>{var D;if(b._position=_*1e4+k,b._options&&delete b._options,y.options&&(b._options=y.options),h&&b.tag==="title"&&(b.props.textContent=dy(h,b.props.textContent)),!((D=b._options)!=null&&D.raw)){for(const M in b.props)M.startsWith("on")&&(console.warn("[@vueuse/head] Warning, you must use `useHeadRaw` to set event listeners. See https://github.com/vueuse/head/pull/118",b),delete b.props[M]);b.props.innerHTML&&(console.warn("[@vueuse/head] Warning, you must use `useHeadRaw` to use `innerHTML`",b),delete b.props.innerHTML)}const C=ly(b);C?d[C]=b:p.push(b)})}),p.push(...Object.values(d));const m=p.sort((y,_)=>y._position-_._position);return u.hookTagsResolved.forEach(y=>y(m)),m},addHeadObjs(p,d){const f={input:p,options:d,id:o++};return n.push(f),()=>{n=n.filter(h=>h.id!==f.id)}},removeHeadObjs(p){n=n.filter(d=>d.input!==p)},updateDOM:(p,d)=>{i={title:void 0,htmlAttrs:{},bodyAttrs:{},actualTags:{}};for(const h of u.headTags.sort(oy)){if(h.tag==="title"){i.title=h.props.textContent;continue}if(h.tag==="htmlAttrs"||h.tag==="bodyAttrs"){Object.assign(i[h.tag],h.props);continue}i.actualTags[h.tag]=i.actualTags[h.tag]||[],i.actualTags[h.tag].push(h)}const f=()=>{a=null;for(const h in u.hookBeforeDomUpdate)if(u.hookBeforeDomUpdate[h](i.actualTags)===!1)return;cy({domCtx:i,document:p,previousTags:s})};if(d){f();return}a=a||Je(()=>f())}};return u},yy=typeof window<"u",my=(t,n={})=>{const s=uy(),o=s.addHeadObjs(t,n);yy&&(is(()=>{s.updateDOM()}),Ko(()=>{o(),s.updateDOM()}))},gy=t=>{my(t)};const Bs=Symbol("v-click-clicks"),_n=Symbol("v-click-clicks-elements"),Wl=Symbol("v-click-clicks-order-map"),Cs=Symbol("v-click-clicks-disabled"),Cu=Symbol("slidev-slide-scale"),P=Symbol("slidev-slidev-context"),vy=Symbol("slidev-route"),_y=Symbol("slidev-slide-context"),mn="slidev-vclick-target",il="slidev-vclick-hidden",Ay="slidev-vclick-fade",cl="slidev-vclick-hidden-explicitly",ms="slidev-vclick-current",io="slidev-vclick-prior";function zl(t,n){if(!t)return!1;const s=t.indexOf(n);return s>=0?(t.splice(s,1),!0):!1}function wy(...t){let n,s,o;t.length===1?(n=0,o=1,[s]=t):[n,s,o=1]=t;const l=[];let r=n;for(;r<s;)l.push(r),r+=o||1;return l}function by(t){return t!=null}function Ey(t,n){return Object.fromEntries(Object.entries(t).map(([s,o])=>n(s,o)).filter(by))}const bn={theme:"slidev-theme-nearform",title:"OWASP Top Ten Security Vulnerabilities Workshop",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,info:!1,highlighter:"shiki",lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Poppins"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:['"Poppins"',"ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"PT Mono"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Poppins","PT Mono"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"windicss",layout:"default"},we=bn;var _c;const on=(_c=we.aspectRatio)!=null?_c:16/9;var Ac;const xn=(Ac=we.canvasWidth)!=null?Ac:980,xu=Math.round(xn/on),Su=O(()=>Ey(we.themeConfig||{},(t,n)=>[`--slidev-theme-${t}`,n]));function At(t,n,s){Object.defineProperty(t,n,{value:s,writable:!0,enumerable:!1})}const Pn=Fe({page:0,clicks:0});let Dy=[],ky=[];At(Pn,"$syncUp",!0);At(Pn,"$syncDown",!0);At(Pn,"$paused",!1);At(Pn,"$onSet",t=>Dy.push(t));At(Pn,"$onPatch",t=>ky.push(t));At(Pn,"$patch",async()=>!1);function Ou(t,n,s=!1){const o=[];let l=!1,r=!1,a,i;const u=Fe(n);function p(m){o.push(m)}function d(m,y){clearTimeout(a),l=!0,u[m]=y,a=setTimeout(()=>l=!1,0)}function f(m){l||(clearTimeout(i),r=!0,Object.entries(m).forEach(([y,_])=>{u[y]=_}),i=setTimeout(()=>r=!1,0))}function h(m){let y;s?s&&window.addEventListener("storage",w=>{w&&w.key===m&&w.newValue&&f(JSON.parse(w.newValue))}):(y=new BroadcastChannel(m),y.addEventListener("message",w=>f(w.data)));function _(){!s&&y&&!r?y.postMessage(be(u)):s&&!r&&window.localStorage.setItem(m,JSON.stringify(u)),l||o.forEach(w=>w(u))}if(de(u,_,{deep:!0}),s){const w=window.localStorage.getItem(m);w&&f(JSON.parse(w))}}return{init:h,onPatch:p,patch:d,state:u}}const{init:By,onPatch:Cy,patch:ei,state:ul}=Ou(Pn,{page:1,clicks:0}),In=Fe({});let xy=[],Sy=[];At(In,"$syncUp",!0);At(In,"$syncDown",!0);At(In,"$paused",!1);At(In,"$onSet",t=>xy.push(t));At(In,"$onPatch",t=>Sy.push(t));At(In,"$patch",async()=>!1);const{init:Oy,onPatch:$y,patch:$u,state:xo}=Ou(In,{},!1),Ty="modulepreload",Fy=function(t){return"/owasp-top-ten-workshop/"+t},ti={},us=function(n,s,o){return!s||s.length===0?n():Promise.all(s.map(l=>{if(l=Fy(l),l in ti)return;ti[l]=!0;const r=l.endsWith(".css"),a=r?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${a}`))return;const i=document.createElement("link");if(i.rel=r?"stylesheet":Ty,r||(i.as="script",i.crossOrigin=""),i.href=l,document.head.appendChild(i),r)return new Promise((u,p)=>{i.addEventListener("load",u),i.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>n())};function Bt(t){var n;const s=Ze(t);return(n=s==null?void 0:s.$el)!=null?n:s}const et=Ot?window:void 0,Py=Ot?window.document:void 0,Iy=Ot?window.navigator:void 0;function ue(...t){let n,s,o,l;if(vu(t[0])?([s,o,l]=t,n=et):[n,s,o,l]=t,!n)return Cn;let r=Cn;const a=de(()=>Bt(n),u=>{r(),u&&(u.addEventListener(s,o,l),r=()=>{u.removeEventListener(s,o,l),r=Cn})},{immediate:!0,flush:"post"}),i=()=>{a(),r()};return Kt(i),i}function Ry(t,n,s={}){const{window:o=et,ignore:l,capture:r=!0,detectIframe:a=!1}=s;if(!o)return;const i=K(!0);let u;const p=m=>{o.clearTimeout(u);const y=Bt(t);!y||y===m.target||m.composedPath().includes(y)||!i.value||n(m)},d=m=>l&&l.some(y=>{const _=Bt(y);return _&&(m.target===_||m.composedPath().includes(_))}),f=[ue(o,"click",p,{passive:!0,capture:r}),ue(o,"pointerdown",m=>{const y=Bt(t);i.value=!!y&&!m.composedPath().includes(y)&&!d(m)},{passive:!0}),ue(o,"pointerup",m=>{if(m.button===0){const y=m.composedPath();m.composedPath=()=>y,u=o.setTimeout(()=>p(m),50)}},{passive:!0}),a&&ue(o,"blur",m=>{var y;const _=Bt(t);((y=document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(_!=null&&_.contains(document.activeElement))&&n(m)})].filter(Boolean);return()=>f.forEach(m=>m())}const My=t=>typeof t=="function"?t:typeof t=="string"?n=>n.key===t:Array.isArray(t)?n=>t.includes(n.key):()=>!0;function Ly(...t){let n,s,o={};t.length===3?(n=t[0],s=t[1],o=t[2]):t.length===2?typeof t[1]=="object"?(n=!0,s=t[0],o=t[1]):(n=t[0],s=t[1]):(n=!0,s=t[0]);const{target:l=et,eventName:r="keydown",passive:a=!1}=o,i=My(n);return ue(l,r,p=>{i(p)&&s(p)},a)}function qy(t={}){const{window:n=et}=t,s=Ph(()=>null,()=>n==null?void 0:n.document.activeElement);return n&&(ue(n,"blur",s.trigger,!0),ue(n,"focus",s.trigger,!0)),s}function Js(t,n=!1){const s=K(),o=()=>s.value=Boolean(t());return o(),wu(o,n),s}function Hn(t,n={}){const{window:s=et}=n,o=Js(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let l;const r=K(!1),a=()=>{!l||("removeEventListener"in l?l.removeEventListener("change",i):l.removeListener(i))},i=()=>{!o.value||(a(),l=s.matchMedia(Au(t).value),r.value=l.matches,"addEventListener"in l?l.addEventListener("change",i):l.addListener(i))};return is(i),Kt(()=>a()),r}const Ny={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var jy=Object.defineProperty,ni=Object.getOwnPropertySymbols,Hy=Object.prototype.hasOwnProperty,Uy=Object.prototype.propertyIsEnumerable,si=(t,n,s)=>n in t?jy(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Vy=(t,n)=>{for(var s in n||(n={}))Hy.call(n,s)&&si(t,s,n[s]);if(ni)for(var s of ni(n))Uy.call(n,s)&&si(t,s,n[s]);return t};function Wy(t,n={}){function s(i,u){let p=t[i];return u!=null&&(p=Fh(p,u)),typeof p=="number"&&(p=`${p}px`),p}const{window:o=et}=n;function l(i){return o?o.matchMedia(i).matches:!1}const r=i=>Hn(`(min-width: ${s(i)})`,n),a=Object.keys(t).reduce((i,u)=>(Object.defineProperty(i,u,{get:()=>r(u),enumerable:!0,configurable:!0}),i),{});return Vy({greater(i){return Hn(`(min-width: ${s(i,.1)})`,n)},greaterOrEqual:r,smaller(i){return Hn(`(max-width: ${s(i,-.1)})`,n)},smallerOrEqual(i){return Hn(`(max-width: ${s(i)})`,n)},between(i,u){return Hn(`(min-width: ${s(i)}) and (max-width: ${s(u,-.1)})`,n)},isGreater(i){return l(`(min-width: ${s(i,.1)})`)},isGreaterOrEqual(i){return l(`(min-width: ${s(i)})`)},isSmaller(i){return l(`(max-width: ${s(i,-.1)})`)},isSmallerOrEqual(i){return l(`(max-width: ${s(i)})`)},isInBetween(i,u){return l(`(min-width: ${s(i)}) and (max-width: ${s(u,-.1)})`)}},a)}function zy(t={}){const{navigator:n=Iy,read:s=!1,source:o,copiedDuring:l=1500}=t,r=["copy","cut"],a=Js(()=>n&&"clipboard"in n),i=K(""),u=K(!1),p=zh(()=>u.value=!1,l);function d(){n.clipboard.readText().then(h=>{i.value=h})}if(a.value&&s)for(const h of r)ue(h,d);async function f(h=Ze(o)){a.value&&h!=null&&(await n.clipboard.writeText(h),i.value=h,u.value=!0,p.start())}return{isSupported:a,text:i,copied:u,copy:f}}function Ky(t){return JSON.parse(JSON.stringify(t))}const Kl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Yl="__vueuse_ssr_handlers__";Kl[Yl]=Kl[Yl]||{};const Yy=Kl[Yl];function Zy(t,n){return Yy[t]||n}function Qy(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"||Array.isArray(t)?"object":Number.isNaN(t)?"any":"number"}var Jy=Object.defineProperty,oi=Object.getOwnPropertySymbols,Gy=Object.prototype.hasOwnProperty,Xy=Object.prototype.propertyIsEnumerable,li=(t,n,s)=>n in t?Jy(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,ri=(t,n)=>{for(var s in n||(n={}))Gy.call(n,s)&&li(t,s,n[s]);if(oi)for(var s of oi(n))Xy.call(n,s)&&li(t,s,n[s]);return t};const e9={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}};function Tt(t,n,s,o={}){var l;const{flush:r="pre",deep:a=!0,listenToStorageChanges:i=!0,writeDefaults:u=!0,mergeDefaults:p=!1,shallow:d,window:f=et,eventFilter:h,onError:m=V=>{console.error(V)}}=o,y=(d?Nt:K)(n);if(!s)try{s=Zy("getDefaultStorage",()=>{var V;return(V=et)==null?void 0:V.localStorage})()}catch(V){m(V)}if(!s)return y;const _=Ze(n),w=Qy(_),b=(l=o.serializer)!=null?l:e9[w],{pause:k,resume:D}=sy(y,()=>C(y.value),{flush:r,deep:a,eventFilter:h});return f&&i&&ue(f,"storage",L),L(),y;function C(V){try{V==null?s.removeItem(t):s.setItem(t,b.write(V))}catch(te){m(te)}}function M(V){if(!(V&&V.key!==t)){k();try{const te=V?V.newValue:s.getItem(t);if(te==null)return u&&_!==null&&s.setItem(t,b.write(_)),_;if(!V&&p){const pe=b.read(te);return Bo(p)?p(pe,_):w==="object"&&!Array.isArray(pe)?ri(ri({},_),pe):pe}else return typeof te!="string"?te:b.read(te)}catch(te){m(te)}finally{D()}}}function L(V){V&&V.key!==t||(y.value=M(V))}}function t9(t){return Hn("(prefers-color-scheme: dark)",t)}var n9=Object.defineProperty,s9=Object.defineProperties,o9=Object.getOwnPropertyDescriptors,ai=Object.getOwnPropertySymbols,l9=Object.prototype.hasOwnProperty,r9=Object.prototype.propertyIsEnumerable,ii=(t,n,s)=>n in t?n9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,a9=(t,n)=>{for(var s in n||(n={}))l9.call(n,s)&&ii(t,s,n[s]);if(ai)for(var s of ai(n))r9.call(n,s)&&ii(t,s,n[s]);return t},i9=(t,n)=>s9(t,o9(n));function d4(t,n={}){var s,o,l;const r=(s=n.draggingElement)!=null?s:et,a=(o=n.handle)!=null?o:t,i=K((l=Ze(n.initialValue))!=null?l:{x:0,y:0}),u=K(),p=y=>n.pointerTypes?n.pointerTypes.includes(y.pointerType):!0,d=y=>{Ze(n.preventDefault)&&y.preventDefault(),Ze(n.stopPropagation)&&y.stopPropagation()},f=y=>{var _;if(!p(y)||Ze(n.exact)&&y.target!==Ze(t))return;const w=Ze(t).getBoundingClientRect(),b={x:y.pageX-w.left,y:y.pageY-w.top};((_=n.onStart)==null?void 0:_.call(n,b,y))!==!1&&(u.value=b,d(y))},h=y=>{var _;!p(y)||!u.value||(i.value={x:y.pageX-u.value.x,y:y.pageY-u.value.y},(_=n.onMove)==null||_.call(n,i.value,y),d(y))},m=y=>{var _;!p(y)||!u.value||(u.value=void 0,(_=n.onEnd)==null||_.call(n,i.value,y),d(y))};return Ot&&(ue(a,"pointerdown",f,!0),ue(r,"pointermove",h,!0),ue(r,"pointerup",m,!0)),i9(a9({},Uh(i)),{position:i,isDragging:O(()=>!!u.value),style:O(()=>`left:${i.value.x}px;top:${i.value.y}px;`)})}var ci=Object.getOwnPropertySymbols,c9=Object.prototype.hasOwnProperty,u9=Object.prototype.propertyIsEnumerable,p9=(t,n)=>{var s={};for(var o in t)c9.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&ci)for(var o of ci(t))n.indexOf(o)<0&&u9.call(t,o)&&(s[o]=t[o]);return s};function d9(t,n,s={}){const o=s,{window:l=et}=o,r=p9(o,["window"]);let a;const i=Js(()=>l&&"ResizeObserver"in l),u=()=>{a&&(a.disconnect(),a=void 0)},p=de(()=>Bt(t),f=>{u(),i.value&&l&&f&&(a=new ResizeObserver(n),a.observe(f,r))},{immediate:!0,flush:"post"}),d=()=>{u(),p()};return Kt(d),{isSupported:i,stop:d}}function f9(t,n={}){const{immediate:s=!0,window:o=et}=n,l=K(!1);let r=null;function a(){!l.value||!o||(t(),r=o.requestAnimationFrame(a))}function i(){!l.value&&o&&(l.value=!0,a())}function u(){l.value=!1,r!=null&&o&&(o.cancelAnimationFrame(r),r=null)}return s&&i(),Kt(u),{isActive:l,pause:u,resume:i}}function h9(t,n={width:0,height:0},s={}){const{box:o="content-box"}=s,l=K(n.width),r=K(n.height);return d9(t,([a])=>{const i=o==="border-box"?a.borderBoxSize:o==="content-box"?a.contentBoxSize:a.devicePixelContentBoxSize;i?(l.value=i.reduce((u,{inlineSize:p})=>u+p,0),r.value=i.reduce((u,{blockSize:p})=>u+p,0)):(l.value=a.contentRect.width,r.value=a.contentRect.height)},s),de(()=>Bt(t),a=>{l.value=a?n.width:0,r.value=a?n.height:0}),{width:l,height:r}}const ui=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function y9(t,n={}){const{document:s=Py,autoExit:o=!1}=n,l=t||(s==null?void 0:s.querySelector("html")),r=K(!1);let a=ui[0];const i=Js(()=>{if(s){for(const _ of ui)if(_[1]in s)return a=_,!0}else return!1;return!1}),[u,p,d,,f]=a;async function h(){!i.value||(s!=null&&s[d]&&await s[p](),r.value=!1)}async function m(){if(!i.value)return;await h();const _=Bt(l);_&&(await _[u](),r.value=!0)}async function y(){r.value?await h():await m()}return s&&ue(s,f,()=>{r.value=!!(s!=null&&s[d])},!1),o&&Kt(h),{isSupported:i,isFullscreen:r,enter:m,exit:h,toggle:y}}function m9(t,n,s={}){const{root:o,rootMargin:l="0px",threshold:r=.1,window:a=et}=s,i=Js(()=>a&&"IntersectionObserver"in a);let u=Cn;const p=i.value?de(()=>({el:Bt(t),root:Bt(o)}),({el:f,root:h})=>{if(u(),!f)return;const m=new IntersectionObserver(n,{root:h,rootMargin:l,threshold:r});m.observe(f),u=()=>{m.disconnect(),u=Cn}},{immediate:!0,flush:"post"}):Cn,d=()=>{u(),p()};return Kt(d),{isSupported:i,stop:d}}const g9={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function v9(t={}){const{reactive:n=!1,target:s=et,aliasMap:o=g9,passive:l=!0,onEventFired:r=Cn}=t,a=Fe(new Set),i={toJSON(){return{}},current:a},u=n?Fe(i):i,p=new Set,d=new Set;function f(_,w){_ in u&&(n?u[_]=w:u[_].value=w)}function h(){for(const _ of d)f(_,!1)}function m(_,w){var b,k;const D=(b=_.key)==null?void 0:b.toLowerCase(),M=[(k=_.code)==null?void 0:k.toLowerCase(),D].filter(Boolean);D&&(w?a.add(D):a.delete(D));for(const L of M)d.add(L),f(L,w);D==="meta"&&!w?(p.forEach(L=>{a.delete(L),f(L,!1)}),p.clear()):typeof _.getModifierState=="function"&&_.getModifierState("Meta")&&w&&[...a,...M].forEach(L=>p.add(L))}ue(s,"keydown",_=>(m(_,!0),r(_)),{passive:l}),ue(s,"keyup",_=>(m(_,!1),r(_)),{passive:l}),ue("blur",h,{passive:!0}),ue("focus",h,{passive:!0});const y=new Proxy(u,{get(_,w,b){if(typeof w!="string")return Reflect.get(_,w,b);if(w=w.toLowerCase(),w in o&&(w=o[w]),!(w in u))if(/[+_-]/.test(w)){const D=w.split(/[+_-]/g).map(C=>C.trim());u[w]=O(()=>D.every(C=>E(y[C])))}else u[w]=K(!1);const k=Reflect.get(_,w,b);return n?E(k):k}});return y}function f4(t={}){const{type:n="page",touch:s=!0,resetOnTouchEnds:o=!1,initialValue:l={x:0,y:0},window:r=et,eventFilter:a}=t,i=K(l.x),u=K(l.y),p=K(null),d=_=>{n==="page"?(i.value=_.pageX,u.value=_.pageY):n==="client"&&(i.value=_.clientX,u.value=_.clientY),p.value="mouse"},f=()=>{i.value=l.x,u.value=l.y},h=_=>{if(_.touches.length>0){const w=_.touches[0];n==="page"?(i.value=w.pageX,u.value=w.pageY):n==="client"&&(i.value=w.clientX,u.value=w.clientY),p.value="touch"}},m=_=>a===void 0?d(_):a(()=>d(_),{}),y=_=>a===void 0?h(_):a(()=>h(_),{});return r&&(ue(r,"mousemove",m,{passive:!0}),ue(r,"dragover",m,{passive:!0}),s&&(ue(r,"touchstart",y,{passive:!0}),ue(r,"touchmove",y,{passive:!0}),o&&ue(r,"touchend",f,{passive:!0}))),{x:i,y:u,sourceType:p}}var Wt;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(Wt||(Wt={}));function _9(t,n={}){const s=Au(t),{threshold:o=50,onSwipe:l,onSwipeEnd:r,onSwipeStart:a}=n,i=Fe({x:0,y:0}),u=(L,V)=>{i.x=L,i.y=V},p=Fe({x:0,y:0}),d=(L,V)=>{p.x=L,p.y=V},f=O(()=>i.x-p.x),h=O(()=>i.y-p.y),{max:m,abs:y}=Math,_=O(()=>m(y(f.value),y(h.value))>=o),w=K(!1),b=K(!1),k=O(()=>_.value?y(f.value)>y(h.value)?f.value>0?Wt.LEFT:Wt.RIGHT:h.value>0?Wt.UP:Wt.DOWN:Wt.NONE),D=L=>n.pointerTypes?n.pointerTypes.includes(L.pointerType):!0,C=[ue(t,"pointerdown",L=>{var V,te;if(!D(L))return;b.value=!0,(te=(V=s.value)==null?void 0:V.style)==null||te.setProperty("touch-action","none");const pe=L.target;pe==null||pe.setPointerCapture(L.pointerId);const{clientX:fe,clientY:_e}=L;u(fe,_e),d(fe,_e),a==null||a(L)}),ue(t,"pointermove",L=>{if(!D(L)||!b.value)return;const{clientX:V,clientY:te}=L;d(V,te),!w.value&&_.value&&(w.value=!0),w.value&&(l==null||l(L))}),ue(t,"pointerup",L=>{var V,te;!D(L)||(w.value&&(r==null||r(L,k.value)),b.value=!1,w.value=!1,(te=(V=s.value)==null?void 0:V.style)==null||te.setProperty("touch-action","initial"))})],M=()=>C.forEach(L=>L());return{isSwiping:Vn(w),direction:Vn(k),posStart:Vn(i),posEnd:Vn(p),distanceX:f,distanceY:h,stop:M}}var A9=Object.defineProperty,pi=Object.getOwnPropertySymbols,w9=Object.prototype.hasOwnProperty,b9=Object.prototype.propertyIsEnumerable,di=(t,n,s)=>n in t?A9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,E9=(t,n)=>{for(var s in n||(n={}))w9.call(n,s)&&di(t,s,n[s]);if(pi)for(var s of pi(n))b9.call(n,s)&&di(t,s,n[s]);return t};function h4(t={}){const{controls:n=!1,offset:s=0,immediate:o=!0,interval:l="requestAnimationFrame",callback:r}=t,a=K(Ul()+s),i=()=>a.value=Ul()+s,u=r?()=>{i(),r(a.value)}:i,p=l==="requestAnimationFrame"?f9(u,{immediate:o}):Wh(u,l,{immediate:o});return n?E9({timestamp:a},p):a}var D9=Object.defineProperty,fi=Object.getOwnPropertySymbols,k9=Object.prototype.hasOwnProperty,B9=Object.prototype.propertyIsEnumerable,hi=(t,n,s)=>n in t?D9(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,C9=(t,n)=>{for(var s in n||(n={}))k9.call(n,s)&&hi(t,s,n[s]);if(fi)for(var s of fi(n))B9.call(n,s)&&hi(t,s,n[s]);return t};const x9={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};C9({linear:Th},x9);function Mt(t,n,s,o={}){var l,r,a;const{clone:i=!1,passive:u=!1,eventName:p,deep:d=!1,defaultValue:f}=o,h=Fn(),m=s||(h==null?void 0:h.emit)||((l=h==null?void 0:h.$emit)==null?void 0:l.bind(h))||((a=(r=h==null?void 0:h.proxy)==null?void 0:r.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let y=p;n||(n="modelValue"),y=p||y||`update:${n.toString()}`;const _=b=>i?Bo(i)?i(b):Ky(b):b,w=()=>Ch(t[n])?_(t[n]):f;if(u){const b=w(),k=K(b);return de(()=>t[n],D=>k.value=_(D)),de(k,D=>{(D!==t[n]||d)&&m(y,D)},{deep:d}),k}else return O({get(){return w()},set(b){m(y,b)}})}function y4({window:t=et}={}){if(!t)return K(!1);const n=K(t.document.hasFocus());return ue(t,"blur",()=>{n.value=!1}),ue(t,"focus",()=>{n.value=!0}),n}function S9(t={}){const{window:n=et,initialWidth:s=1/0,initialHeight:o=1/0,listenOrientation:l=!0,includeScrollbar:r=!0}=t,a=K(s),i=K(o),u=()=>{n&&(r?(a.value=n.innerWidth,i.value=n.innerHeight):(a.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};return u(),wu(u),ue("resize",u,{passive:!0}),l&&ue("orientationchange",u,{passive:!0}),{width:a,height:i}}/*!
  * vue-router v4.1.5
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const Un=typeof window<"u";function O9(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const ke=Object.assign;function pl(t,n){const s={};for(const o in n){const l=n[o];s[o]=$t(l)?l.map(t):t(l)}return s}const xs=()=>{},$t=Array.isArray,$9=/\/$/,T9=t=>t.replace($9,"");function dl(t,n,s="/"){let o,l={},r="",a="";const i=n.indexOf("#");let u=n.indexOf("?");return i<u&&i>=0&&(u=-1),u>-1&&(o=n.slice(0,u),r=n.slice(u+1,i>-1?i:n.length),l=t(r)),i>-1&&(o=o||n.slice(0,i),a=n.slice(i,n.length)),o=R9(o!=null?o:n,s),{fullPath:o+(r&&"?")+r+a,path:o,query:l,hash:a}}function F9(t,n){const s=n.query?t(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function yi(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function P9(t,n,s){const o=n.matched.length-1,l=s.matched.length-1;return o>-1&&o===l&&ss(n.matched[o],s.matched[l])&&Tu(n.params,s.params)&&t(n.query)===t(s.query)&&n.hash===s.hash}function ss(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function Tu(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!I9(t[s],n[s]))return!1;return!0}function I9(t,n){return $t(t)?mi(t,n):$t(n)?mi(n,t):t===n}function mi(t,n){return $t(n)?t.length===n.length&&t.every((s,o)=>s===n[o]):t.length===1&&t[0]===n}function R9(t,n){if(t.startsWith("/"))return t;if(!t)return n;const s=n.split("/"),o=t.split("/");let l=s.length-1,r,a;for(r=0;r<o.length;r++)if(a=o[r],a!==".")if(a==="..")l>1&&l--;else break;return s.slice(0,l).join("/")+"/"+o.slice(r-(r===o.length?1:0)).join("/")}var Hs;(function(t){t.pop="pop",t.push="push"})(Hs||(Hs={}));var Ss;(function(t){t.back="back",t.forward="forward",t.unknown=""})(Ss||(Ss={}));function M9(t){if(!t)if(Un){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),T9(t)}const L9=/^[^#]+#/;function q9(t,n){return t.replace(L9,"#")+n}function N9(t,n){const s=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:n.behavior,left:o.left-s.left-(n.left||0),top:o.top-s.top-(n.top||0)}}const Jo=()=>({left:window.pageXOffset,top:window.pageYOffset});function j9(t){let n;if("el"in t){const s=t.el,o=typeof s=="string"&&s.startsWith("#"),l=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!l)return;n=N9(l,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function gi(t,n){return(history.state?history.state.position-n:-1)+t}const Zl=new Map;function H9(t,n){Zl.set(t,n)}function U9(t){const n=Zl.get(t);return Zl.delete(t),n}let V9=()=>location.protocol+"//"+location.host;function Fu(t,n){const{pathname:s,search:o,hash:l}=n,r=t.indexOf("#");if(r>-1){let i=l.includes(t.slice(r))?t.slice(r).length:1,u=l.slice(i);return u[0]!=="/"&&(u="/"+u),yi(u,"")}return yi(s,t)+o+l}function W9(t,n,s,o){let l=[],r=[],a=null;const i=({state:h})=>{const m=Fu(t,location),y=s.value,_=n.value;let w=0;if(h){if(s.value=m,n.value=h,a&&a===y){a=null;return}w=_?h.position-_.position:0}else o(m);l.forEach(b=>{b(s.value,y,{delta:w,type:Hs.pop,direction:w?w>0?Ss.forward:Ss.back:Ss.unknown})})};function u(){a=s.value}function p(h){l.push(h);const m=()=>{const y=l.indexOf(h);y>-1&&l.splice(y,1)};return r.push(m),m}function d(){const{history:h}=window;!h.state||h.replaceState(ke({},h.state,{scroll:Jo()}),"")}function f(){for(const h of r)h();r=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",d),{pauseListeners:u,listen:p,destroy:f}}function vi(t,n,s,o=!1,l=!1){return{back:t,current:n,forward:s,replaced:o,position:window.history.length,scroll:l?Jo():null}}function z9(t){const{history:n,location:s}=window,o={value:Fu(t,s)},l={value:n.state};l.value||r(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function r(u,p,d){const f=t.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?t:t.slice(f))+u:V9()+t+u;try{n[d?"replaceState":"pushState"](p,"",h),l.value=p}catch(m){console.error(m),s[d?"replace":"assign"](h)}}function a(u,p){const d=ke({},n.state,vi(l.value.back,u,l.value.forward,!0),p,{position:l.value.position});r(u,d,!0),o.value=u}function i(u,p){const d=ke({},l.value,n.state,{forward:u,scroll:Jo()});r(d.current,d,!0);const f=ke({},vi(o.value,u,null),{position:d.position+1},p);r(u,f,!1),o.value=u}return{location:o,state:l,push:i,replace:a}}function K9(t){t=M9(t);const n=z9(t),s=W9(t,n.state,n.location,n.replace);function o(r,a=!0){a||s.pauseListeners(),history.go(r)}const l=ke({location:"",base:t,go:o,createHref:q9.bind(null,t)},n,s);return Object.defineProperty(l,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(l,"state",{enumerable:!0,get:()=>n.state.value}),l}function Y9(t){return typeof t=="string"||t&&typeof t=="object"}function Pu(t){return typeof t=="string"||typeof t=="symbol"}const Gt={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Iu=Symbol("");var _i;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(_i||(_i={}));function os(t,n){return ke(new Error,{type:t,[Iu]:!0},n)}function jt(t,n){return t instanceof Error&&Iu in t&&(n==null||!!(t.type&n))}const Ai="[^/]+?",Z9={sensitive:!1,strict:!1,start:!0,end:!0},Q9=/[.+*?^${}()[\]/\\]/g;function J9(t,n){const s=ke({},Z9,n),o=[];let l=s.start?"^":"";const r=[];for(const p of t){const d=p.length?[]:[90];s.strict&&!p.length&&(l+="/");for(let f=0;f<p.length;f++){const h=p[f];let m=40+(s.sensitive?.25:0);if(h.type===0)f||(l+="/"),l+=h.value.replace(Q9,"\\$&"),m+=40;else if(h.type===1){const{value:y,repeatable:_,optional:w,regexp:b}=h;r.push({name:y,repeatable:_,optional:w});const k=b||Ai;if(k!==Ai){m+=10;try{new RegExp(`(${k})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${y}" (${k}): `+C.message)}}let D=_?`((?:${k})(?:/(?:${k}))*)`:`(${k})`;f||(D=w&&p.length<2?`(?:/${D})`:"/"+D),w&&(D+="?"),l+=D,m+=20,w&&(m+=-8),_&&(m+=-20),k===".*"&&(m+=-50)}d.push(m)}o.push(d)}if(s.strict&&s.end){const p=o.length-1;o[p][o[p].length-1]+=.7000000000000001}s.strict||(l+="/?"),s.end?l+="$":s.strict&&(l+="(?:/|$)");const a=new RegExp(l,s.sensitive?"":"i");function i(p){const d=p.match(a),f={};if(!d)return null;for(let h=1;h<d.length;h++){const m=d[h]||"",y=r[h-1];f[y.name]=m&&y.repeatable?m.split("/"):m}return f}function u(p){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const m of h)if(m.type===0)d+=m.value;else if(m.type===1){const{value:y,repeatable:_,optional:w}=m,b=y in p?p[y]:"";if($t(b)&&!_)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const k=$t(b)?b.join("/"):b;if(!k)if(w)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);d+=k}}return d||"/"}return{re:a,score:o,keys:r,parse:i,stringify:u}}function G9(t,n){let s=0;for(;s<t.length&&s<n.length;){const o=n[s]-t[s];if(o)return o;s++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function X9(t,n){let s=0;const o=t.score,l=n.score;for(;s<o.length&&s<l.length;){const r=G9(o[s],l[s]);if(r)return r;s++}if(Math.abs(l.length-o.length)===1){if(wi(o))return 1;if(wi(l))return-1}return l.length-o.length}function wi(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const em={type:0,value:""},tm=/[a-zA-Z0-9_]/;function nm(t){if(!t)return[[]];if(t==="/")return[[em]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function n(m){throw new Error(`ERR (${s})/"${p}": ${m}`)}let s=0,o=s;const l=[];let r;function a(){r&&l.push(r),r=[]}let i=0,u,p="",d="";function f(){!p||(s===0?r.push({type:0,value:p}):s===1||s===2||s===3?(r.length>1&&(u==="*"||u==="+")&&n(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:p,regexp:d,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):n("Invalid state to consume buffer"),p="")}function h(){p+=u}for(;i<t.length;){if(u=t[i++],u==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:u==="/"?(p&&f(),a()):u===":"?(f(),s=1):h();break;case 4:h(),s=o;break;case 1:u==="("?s=2:tm.test(u)?h():(f(),s=0,u!=="*"&&u!=="?"&&u!=="+"&&i--);break;case 2:u===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+u:s=3:d+=u;break;case 3:f(),s=0,u!=="*"&&u!=="?"&&u!=="+"&&i--,d="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${p}"`),f(),a(),l}function sm(t,n,s){const o=J9(nm(t.path),s),l=ke(o,{record:t,parent:n,children:[],alias:[]});return n&&!l.record.aliasOf==!n.record.aliasOf&&n.children.push(l),l}function om(t,n){const s=[],o=new Map;n=Di({strict:!1,end:!0,sensitive:!1},n);function l(d){return o.get(d)}function r(d,f,h){const m=!h,y=lm(d);y.aliasOf=h&&h.record;const _=Di(n,d),w=[y];if("alias"in d){const D=typeof d.alias=="string"?[d.alias]:d.alias;for(const C of D)w.push(ke({},y,{components:h?h.record.components:y.components,path:C,aliasOf:h?h.record:y}))}let b,k;for(const D of w){const{path:C}=D;if(f&&C[0]!=="/"){const M=f.record.path,L=M[M.length-1]==="/"?"":"/";D.path=f.record.path+(C&&L+C)}if(b=sm(D,f,_),h?h.alias.push(b):(k=k||b,k!==b&&k.alias.push(b),m&&d.name&&!Ei(b)&&a(d.name)),y.children){const M=y.children;for(let L=0;L<M.length;L++)r(M[L],b,h&&h.children[L])}h=h||b,u(b)}return k?()=>{a(k)}:xs}function a(d){if(Pu(d)){const f=o.get(d);f&&(o.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&o.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function i(){return s}function u(d){let f=0;for(;f<s.length&&X9(d,s[f])>=0&&(d.record.path!==s[f].record.path||!Ru(d,s[f]));)f++;s.splice(f,0,d),d.record.name&&!Ei(d)&&o.set(d.record.name,d)}function p(d,f){let h,m={},y,_;if("name"in d&&d.name){if(h=o.get(d.name),!h)throw os(1,{location:d});_=h.record.name,m=ke(bi(f.params,h.keys.filter(k=>!k.optional).map(k=>k.name)),d.params&&bi(d.params,h.keys.map(k=>k.name))),y=h.stringify(m)}else if("path"in d)y=d.path,h=s.find(k=>k.re.test(y)),h&&(m=h.parse(y),_=h.record.name);else{if(h=f.name?o.get(f.name):s.find(k=>k.re.test(f.path)),!h)throw os(1,{location:d,currentLocation:f});_=h.record.name,m=ke({},f.params,d.params),y=h.stringify(m)}const w=[];let b=h;for(;b;)w.unshift(b.record),b=b.parent;return{name:_,path:y,params:m,matched:w,meta:am(w)}}return t.forEach(d=>r(d)),{addRoute:r,resolve:p,removeRoute:a,getRoutes:i,getRecordMatcher:l}}function bi(t,n){const s={};for(const o of n)o in t&&(s[o]=t[o]);return s}function lm(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:rm(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function rm(t){const n={},s=t.props||!1;if("component"in t)n.default=s;else for(const o in t.components)n[o]=typeof s=="boolean"?s:s[o];return n}function Ei(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function am(t){return t.reduce((n,s)=>ke(n,s.meta),{})}function Di(t,n){const s={};for(const o in t)s[o]=o in n?n[o]:t[o];return s}function Ru(t,n){return n.children.some(s=>s===t||Ru(t,s))}const Mu=/#/g,im=/&/g,cm=/\//g,um=/=/g,pm=/\?/g,Lu=/\+/g,dm=/%5B/g,fm=/%5D/g,qu=/%5E/g,hm=/%60/g,Nu=/%7B/g,ym=/%7C/g,ju=/%7D/g,mm=/%20/g;function jr(t){return encodeURI(""+t).replace(ym,"|").replace(dm,"[").replace(fm,"]")}function gm(t){return jr(t).replace(Nu,"{").replace(ju,"}").replace(qu,"^")}function Ql(t){return jr(t).replace(Lu,"%2B").replace(mm,"+").replace(Mu,"%23").replace(im,"%26").replace(hm,"`").replace(Nu,"{").replace(ju,"}").replace(qu,"^")}function vm(t){return Ql(t).replace(um,"%3D")}function _m(t){return jr(t).replace(Mu,"%23").replace(pm,"%3F")}function Am(t){return t==null?"":_m(t).replace(cm,"%2F")}function So(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function wm(t){const n={};if(t===""||t==="?")return n;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let l=0;l<o.length;++l){const r=o[l].replace(Lu," "),a=r.indexOf("="),i=So(a<0?r:r.slice(0,a)),u=a<0?null:So(r.slice(a+1));if(i in n){let p=n[i];$t(p)||(p=n[i]=[p]),p.push(u)}else n[i]=u}return n}function ki(t){let n="";for(let s in t){const o=t[s];if(s=vm(s),o==null){o!==void 0&&(n+=(n.length?"&":"")+s);continue}($t(o)?o.map(r=>r&&Ql(r)):[o&&Ql(o)]).forEach(r=>{r!==void 0&&(n+=(n.length?"&":"")+s,r!=null&&(n+="="+r))})}return n}function bm(t){const n={};for(const s in t){const o=t[s];o!==void 0&&(n[s]=$t(o)?o.map(l=>l==null?null:""+l):o==null?o:""+o)}return n}const Em=Symbol(""),Bi=Symbol(""),Hr=Symbol(""),Hu=Symbol(""),Jl=Symbol("");function gs(){let t=[];function n(o){return t.push(o),()=>{const l=t.indexOf(o);l>-1&&t.splice(l,1)}}function s(){t=[]}return{add:n,list:()=>t,reset:s}}function en(t,n,s,o,l){const r=o&&(o.enterCallbacks[l]=o.enterCallbacks[l]||[]);return()=>new Promise((a,i)=>{const u=f=>{f===!1?i(os(4,{from:s,to:n})):f instanceof Error?i(f):Y9(f)?i(os(2,{from:n,to:f})):(r&&o.enterCallbacks[l]===r&&typeof f=="function"&&r.push(f),a())},p=t.call(o&&o.instances[l],n,s,u);let d=Promise.resolve(p);t.length<3&&(d=d.then(u)),d.catch(f=>i(f))})}function fl(t,n,s,o){const l=[];for(const r of t)for(const a in r.components){let i=r.components[a];if(!(n!=="beforeRouteEnter"&&!r.instances[a]))if(Dm(i)){const p=(i.__vccOpts||i)[n];p&&l.push(en(p,s,o,r,a))}else{let u=i();l.push(()=>u.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${r.path}"`));const d=O9(p)?p.default:p;r.components[a]=d;const h=(d.__vccOpts||d)[n];return h&&en(h,s,o,r,a)()}))}}return l}function Dm(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function Ci(t){const n=S(Hr),s=S(Hu),o=O(()=>n.resolve(E(t.to))),l=O(()=>{const{matched:u}=o.value,{length:p}=u,d=u[p-1],f=s.matched;if(!d||!f.length)return-1;const h=f.findIndex(ss.bind(null,d));if(h>-1)return h;const m=xi(u[p-2]);return p>1&&xi(d)===m&&f[f.length-1].path!==m?f.findIndex(ss.bind(null,u[p-2])):h}),r=O(()=>l.value>-1&&xm(s.params,o.value.params)),a=O(()=>l.value>-1&&l.value===s.matched.length-1&&Tu(s.params,o.value.params));function i(u={}){return Cm(u)?n[E(t.replace)?"replace":"push"](E(t.to)).catch(xs):Promise.resolve()}return{route:o,href:O(()=>o.value.href),isActive:r,isExactActive:a,navigate:i}}const km=xe({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Ci,setup(t,{slots:n}){const s=Fe(Ci(t)),{options:o}=S(Hr),l=O(()=>({[Si(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[Si(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const r=n.default&&n.default(s);return t.custom?r:ht("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:l.value},r)}}}),Bm=km;function Cm(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function xm(t,n){for(const s in n){const o=n[s],l=t[s];if(typeof o=="string"){if(o!==l)return!1}else if(!$t(l)||l.length!==o.length||o.some((r,a)=>r!==l[a]))return!1}return!0}function xi(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Si=(t,n,s)=>t!=null?t:n!=null?n:s,Sm=xe({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:s}){const o=S(Jl),l=O(()=>t.route||o.value),r=S(Bi,0),a=O(()=>{let p=E(r);const{matched:d}=l.value;let f;for(;(f=d[p])&&!f.components;)p++;return p}),i=O(()=>l.value.matched[a.value]);ft(Bi,O(()=>a.value+1)),ft(Em,i),ft(Jl,l);const u=K();return de(()=>[u.value,i.value,t.name],([p,d,f],[h,m,y])=>{d&&(d.instances[f]=p,m&&m!==d&&p&&p===h&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),p&&d&&(!m||!ss(d,m)||!h)&&(d.enterCallbacks[f]||[]).forEach(_=>_(p))},{flush:"post"}),()=>{const p=l.value,d=t.name,f=i.value,h=f&&f.components[d];if(!h)return Oi(s.default,{Component:h,route:p});const m=f.props[d],y=m?m===!0?p.params:typeof m=="function"?m(p):m:null,w=ht(h,ke({},y,n,{onVnodeUnmounted:b=>{b.component.isUnmounted&&(f.instances[d]=null)},ref:u}));return Oi(s.default,{Component:w,route:p})||w}}});function Oi(t,n){if(!t)return null;const s=t(n);return s.length===1?s[0]:s}const Om=Sm;function $m(t){const n=om(t.routes,t),s=t.parseQuery||wm,o=t.stringifyQuery||ki,l=t.history,r=gs(),a=gs(),i=gs(),u=Nt(Gt);let p=Gt;Un&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=pl.bind(null,$=>""+$),f=pl.bind(null,Am),h=pl.bind(null,So);function m($,Y){let z,ee;return Pu($)?(z=n.getRecordMatcher($),ee=Y):ee=$,n.addRoute(ee,z)}function y($){const Y=n.getRecordMatcher($);Y&&n.removeRoute(Y)}function _(){return n.getRoutes().map($=>$.record)}function w($){return!!n.getRecordMatcher($)}function b($,Y){if(Y=ke({},Y||u.value),typeof $=="string"){const g=dl(s,$,Y.path),v=n.resolve({path:g.path},Y),B=l.createHref(g.fullPath);return ke(g,v,{params:h(v.params),hash:So(g.hash),redirectedFrom:void 0,href:B})}let z;if("path"in $)z=ke({},$,{path:dl(s,$.path,Y.path).path});else{const g=ke({},$.params);for(const v in g)g[v]==null&&delete g[v];z=ke({},$,{params:f($.params)}),Y.params=f(Y.params)}const ee=n.resolve(z,Y),ye=$.hash||"";ee.params=d(h(ee.params));const Ae=F9(o,ke({},$,{hash:gm(ye),path:ee.path})),ae=l.createHref(Ae);return ke({fullPath:Ae,hash:ye,query:o===ki?bm($.query):$.query||{}},ee,{redirectedFrom:void 0,href:ae})}function k($){return typeof $=="string"?dl(s,$,u.value.path):ke({},$)}function D($,Y){if(p!==$)return os(8,{from:Y,to:$})}function C($){return V($)}function M($){return C(ke(k($),{replace:!0}))}function L($){const Y=$.matched[$.matched.length-1];if(Y&&Y.redirect){const{redirect:z}=Y;let ee=typeof z=="function"?z($):z;return typeof ee=="string"&&(ee=ee.includes("?")||ee.includes("#")?ee=k(ee):{path:ee},ee.params={}),ke({query:$.query,hash:$.hash,params:"path"in ee?{}:$.params},ee)}}function V($,Y){const z=p=b($),ee=u.value,ye=$.state,Ae=$.force,ae=$.replace===!0,g=L(z);if(g)return V(ke(k(g),{state:typeof g=="object"?ke({},ye,g.state):ye,force:Ae,replace:ae}),Y||z);const v=z;v.redirectedFrom=Y;let B;return!Ae&&P9(o,ee,z)&&(B=os(16,{to:v,from:ee}),De(ee,ee,!0,!1)),(B?Promise.resolve(B):pe(v,ee)).catch(x=>jt(x)?jt(x,2)?x:he(x):G(x,v,ee)).then(x=>{if(x){if(jt(x,2))return V(ke({replace:ae},k(x.to),{state:typeof x.to=="object"?ke({},ye,x.to.state):ye,force:Ae}),Y||v)}else x=_e(v,ee,!0,ae,ye);return fe(v,ee,x),x})}function te($,Y){const z=D($,Y);return z?Promise.reject(z):Promise.resolve()}function pe($,Y){let z;const[ee,ye,Ae]=Tm($,Y);z=fl(ee.reverse(),"beforeRouteLeave",$,Y);for(const g of ee)g.leaveGuards.forEach(v=>{z.push(en(v,$,Y))});const ae=te.bind(null,$,Y);return z.push(ae),Ln(z).then(()=>{z=[];for(const g of r.list())z.push(en(g,$,Y));return z.push(ae),Ln(z)}).then(()=>{z=fl(ye,"beforeRouteUpdate",$,Y);for(const g of ye)g.updateGuards.forEach(v=>{z.push(en(v,$,Y))});return z.push(ae),Ln(z)}).then(()=>{z=[];for(const g of $.matched)if(g.beforeEnter&&!Y.matched.includes(g))if($t(g.beforeEnter))for(const v of g.beforeEnter)z.push(en(v,$,Y));else z.push(en(g.beforeEnter,$,Y));return z.push(ae),Ln(z)}).then(()=>($.matched.forEach(g=>g.enterCallbacks={}),z=fl(Ae,"beforeRouteEnter",$,Y),z.push(ae),Ln(z))).then(()=>{z=[];for(const g of a.list())z.push(en(g,$,Y));return z.push(ae),Ln(z)}).catch(g=>jt(g,8)?g:Promise.reject(g))}function fe($,Y,z){for(const ee of i.list())ee($,Y,z)}function _e($,Y,z,ee,ye){const Ae=D($,Y);if(Ae)return Ae;const ae=Y===Gt,g=Un?history.state:{};z&&(ee||ae?l.replace($.fullPath,ke({scroll:ae&&g&&g.scroll},ye)):l.push($.fullPath,ye)),u.value=$,De($,Y,z,ae),he()}let We;function je(){We||(We=l.listen(($,Y,z)=>{if(!Rn.listening)return;const ee=b($),ye=L(ee);if(ye){V(ke(ye,{replace:!0}),ee).catch(xs);return}p=ee;const Ae=u.value;Un&&H9(gi(Ae.fullPath,z.delta),Jo()),pe(ee,Ae).catch(ae=>jt(ae,12)?ae:jt(ae,2)?(V(ae.to,ee).then(g=>{jt(g,20)&&!z.delta&&z.type===Hs.pop&&l.go(-1,!1)}).catch(xs),Promise.reject()):(z.delta&&l.go(-z.delta,!1),G(ae,ee,Ae))).then(ae=>{ae=ae||_e(ee,Ae,!1),ae&&(z.delta&&!jt(ae,8)?l.go(-z.delta,!1):z.type===Hs.pop&&jt(ae,20)&&l.go(-1,!1)),fe(ee,Ae,ae)}).catch(xs)}))}let Re=gs(),$e=gs(),Te;function G($,Y,z){he($);const ee=$e.list();return ee.length?ee.forEach(ye=>ye($,Y,z)):console.error($),Promise.reject($)}function oe(){return Te&&u.value!==Gt?Promise.resolve():new Promise(($,Y)=>{Re.add([$,Y])})}function he($){return Te||(Te=!$,je(),Re.list().forEach(([Y,z])=>$?z($):Y()),Re.reset()),$}function De($,Y,z,ee){const{scrollBehavior:ye}=t;if(!Un||!ye)return Promise.resolve();const Ae=!z&&U9(gi($.fullPath,0))||(ee||!z)&&history.state&&history.state.scroll||null;return Je().then(()=>ye($,Y,Ae)).then(ae=>ae&&j9(ae)).catch(ae=>G(ae,$,Y))}const tt=$=>l.go($);let qe;const Qt=new Set,Rn={currentRoute:u,listening:!0,addRoute:m,removeRoute:y,hasRoute:w,getRoutes:_,resolve:b,options:t,push:C,replace:M,go:tt,back:()=>tt(-1),forward:()=>tt(1),beforeEach:r.add,beforeResolve:a.add,afterEach:i.add,onError:$e.add,isReady:oe,install($){const Y=this;$.component("RouterLink",Bm),$.component("RouterView",Om),$.config.globalProperties.$router=Y,Object.defineProperty($.config.globalProperties,"$route",{enumerable:!0,get:()=>E(u)}),Un&&!qe&&u.value===Gt&&(qe=!0,C(l.location).catch(ye=>{}));const z={};for(const ye in Gt)z[ye]=O(()=>u.value[ye]);$.provide(Hr,Y),$.provide(Hu,Fe(z)),$.provide(Jl,u);const ee=$.unmount;Qt.add($),$.unmount=function(){Qt.delete($),Qt.size<1&&(p=Gt,We&&We(),We=null,u.value=Gt,qe=!1,Te=!1),ee()}}};return Rn}function Ln(t){return t.reduce((n,s)=>n.then(()=>s()),Promise.resolve())}function Tm(t,n){const s=[],o=[],l=[],r=Math.max(n.matched.length,t.matched.length);for(let a=0;a<r;a++){const i=n.matched[a];i&&(t.matched.find(p=>ss(p,i))?o.push(i):s.push(i));const u=t.matched[a];u&&(n.matched.find(p=>ss(p,u))||l.push(u))}return[s,o,l]}const hl=K(!1),Os=K(!1),Wn=K(!1),Fm=K(!0),Gl=Wy({xs:460,...Ny}),Sn=S9(),Uu=v9(),Pm=O(()=>Sn.height.value-Sn.width.value/on>180),Vu=y9(Ot?document.body:null),Gn=qy(),Im=O(()=>{var t,n;return["INPUT","TEXTAREA"].includes(((t=Gn.value)==null?void 0:t.tagName)||"")||((n=Gn.value)==null?void 0:n.classList.contains("CodeMirror-code"))}),Rm=O(()=>{var t;return["BUTTON","A"].includes(((t=Gn.value)==null?void 0:t.tagName)||"")});Tt("slidev-camera","default");Tt("slidev-mic","default");const yo=Tt("slidev-scale",0),st=Tt("slidev-show-overview",!1),yl=Tt("slidev-presenter-cursor",!0),$i=Tt("slidev-show-editor",!1);Tt("slidev-editor-width",Ot?window.innerWidth*.4:100);const Wu=bu(st);function Ti(t,n,s,o=l=>l){return t*o(.5-n*(.5-s))}function Mm(t){return[-t[0],-t[1]]}function Et(t,n){return[t[0]+n[0],t[1]+n[1]]}function _t(t,n){return[t[0]-n[0],t[1]-n[1]]}function bt(t,n){return[t[0]*n,t[1]*n]}function Lm(t,n){return[t[0]/n,t[1]/n]}function vs(t){return[t[1],-t[0]]}function Fi(t,n){return t[0]*n[0]+t[1]*n[1]}function qm(t,n){return t[0]===n[0]&&t[1]===n[1]}function Nm(t){return Math.hypot(t[0],t[1])}function jm(t){return t[0]*t[0]+t[1]*t[1]}function Pi(t,n){return jm(_t(t,n))}function zu(t){return Lm(t,Nm(t))}function Hm(t,n){return Math.hypot(t[1]-n[1],t[0]-n[0])}function _s(t,n,s){let o=Math.sin(s),l=Math.cos(s),r=t[0]-n[0],a=t[1]-n[1],i=r*l-a*o,u=r*o+a*l;return[i+n[0],u+n[1]]}function Xl(t,n,s){return Et(t,bt(_t(n,t),s))}function Ii(t,n,s){return Et(t,bt(n,s))}var{min:qn,PI:Um}=Math,Ri=.275,As=Um+1e-4;function Vm(t,n={}){let{size:s=16,smoothing:o=.5,thinning:l=.5,simulatePressure:r=!0,easing:a=G=>G,start:i={},end:u={},last:p=!1}=n,{cap:d=!0,easing:f=G=>G*(2-G)}=i,{cap:h=!0,easing:m=G=>--G*G*G+1}=u;if(t.length===0||s<=0)return[];let y=t[t.length-1].runningLength,_=i.taper===!1?0:i.taper===!0?Math.max(s,y):i.taper,w=u.taper===!1?0:u.taper===!0?Math.max(s,y):u.taper,b=Math.pow(s*o,2),k=[],D=[],C=t.slice(0,10).reduce((G,oe)=>{let he=oe.pressure;if(r){let De=qn(1,oe.distance/s),tt=qn(1,1-De);he=qn(1,G+(tt-G)*(De*Ri))}return(G+he)/2},t[0].pressure),M=Ti(s,l,t[t.length-1].pressure,a),L,V=t[0].vector,te=t[0].point,pe=te,fe=te,_e=pe,We=!1;for(let G=0;G<t.length;G++){let{pressure:oe}=t[G],{point:he,vector:De,distance:tt,runningLength:qe}=t[G];if(G<t.length-1&&y-qe<3)continue;if(l){if(r){let Ae=qn(1,tt/s),ae=qn(1,1-Ae);oe=qn(1,C+(ae-C)*(Ae*Ri))}M=Ti(s,l,oe,a)}else M=s/2;L===void 0&&(L=M);let Qt=qe<_?f(qe/_):1,Rn=y-qe<w?m((y-qe)/w):1;M=Math.max(.01,M*Math.min(Qt,Rn));let $=(G<t.length-1?t[G+1]:t[G]).vector,Y=G<t.length-1?Fi(De,$):1,z=Fi(De,V)<0&&!We,ee=Y!==null&&Y<0;if(z||ee){let Ae=bt(vs(V),M);for(let ae=1/13,g=0;g<=1;g+=ae)fe=_s(_t(he,Ae),he,As*g),k.push(fe),_e=_s(Et(he,Ae),he,As*-g),D.push(_e);te=fe,pe=_e,ee&&(We=!0);continue}if(We=!1,G===t.length-1){let Ae=bt(vs(De),M);k.push(_t(he,Ae)),D.push(Et(he,Ae));continue}let ye=bt(vs(Xl($,De,Y)),M);fe=_t(he,ye),(G<=1||Pi(te,fe)>b)&&(k.push(fe),te=fe),_e=Et(he,ye),(G<=1||Pi(pe,_e)>b)&&(D.push(_e),pe=_e),C=oe,V=De}let je=t[0].point.slice(0,2),Re=t.length>1?t[t.length-1].point.slice(0,2):Et(t[0].point,[1,1]),$e=[],Te=[];if(t.length===1){if(!(_||w)||p){let G=Ii(je,zu(vs(_t(je,Re))),-(L||M)),oe=[];for(let he=1/13,De=he;De<=1;De+=he)oe.push(_s(G,je,As*2*De));return oe}}else{if(!(_||w&&t.length===1))if(d)for(let oe=1/13,he=oe;he<=1;he+=oe){let De=_s(D[0],je,As*he);$e.push(De)}else{let oe=_t(k[0],D[0]),he=bt(oe,.5),De=bt(oe,.51);$e.push(_t(je,he),_t(je,De),Et(je,De),Et(je,he))}let G=vs(Mm(t[t.length-1].vector));if(w||_&&t.length===1)Te.push(Re);else if(h){let oe=Ii(Re,G,M);for(let he=1/29,De=he;De<1;De+=he)Te.push(_s(oe,Re,As*3*De))}else Te.push(Et(Re,bt(G,M)),Et(Re,bt(G,M*.99)),_t(Re,bt(G,M*.99)),_t(Re,bt(G,M)))}return k.concat(Te,D.reverse(),$e)}function Wm(t,n={}){var s;let{streamline:o=.5,size:l=16,last:r=!1}=n;if(t.length===0)return[];let a=.15+(1-o)*.85,i=Array.isArray(t[0])?t:t.map(({x:m,y,pressure:_=.5})=>[m,y,_]);if(i.length===2){let m=i[1];i=i.slice(0,-1);for(let y=1;y<5;y++)i.push(Xl(i[0],m,y/4))}i.length===1&&(i=[...i,[...Et(i[0],[1,1]),...i[0].slice(2)]]);let u=[{point:[i[0][0],i[0][1]],pressure:i[0][2]>=0?i[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],p=!1,d=0,f=u[0],h=i.length-1;for(let m=1;m<i.length;m++){let y=r&&m===h?i[m].slice(0,2):Xl(f.point,i[m],a);if(qm(f.point,y))continue;let _=Hm(y,f.point);if(d+=_,m<h&&!p){if(d<l)continue;p=!0}f={point:y,pressure:i[m][2]>=0?i[m][2]:.5,vector:zu(_t(f.point,y)),distance:_,runningLength:d},u.push(f)}return u[0].vector=((s=u[1])==null?void 0:s.vector)||[0,0],u}function zm(t,n={}){return Vm(Wm(t,n),n)}var Km=()=>({events:{},emit(t,...n){let s=this.events[t]||[];for(let o=0,l=s.length;o<l;o++)s[o](...n)},on(t,n){var s;return(s=this.events[t])!=null&&s.push(n)||(this.events[t]=[n]),()=>{var o;this.events[t]=(o=this.events[t])==null?void 0:o.filter(l=>n!==l)}}});function Oo(t,n){return t-n}function Ym(t){return t<0?-1:1}function $o(t){return[Math.abs(t),Ym(t)]}function Ku(){const t=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}var Zm=2,Vt=Zm,ps=class{constructor(t){this.drauu=t,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(t){}onUnselected(){}onStart(t){}onMove(t){return!1}onEnd(t){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(t){var l;var n;const s=this.drauu.el,o=(l=this.drauu.options.coordinateScale)!=null?l:1;if(this.drauu.options.coordinateTransform===!1){const r=this.drauu.el.getBoundingClientRect();return{x:(t.pageX-r.left)*o,y:(t.pageY-r.top)*o,pressure:t.pressure}}else{const r=this.drauu.svgPoint;r.x=t.clientX,r.y=t.clientY;const a=r.matrixTransform((n=s.getScreenCTM())==null?void 0:n.inverse());return{x:a.x*o,y:a.y*o,pressure:t.pressure}}}createElement(t,n){var l;const s=document.createElementNS("http://www.w3.org/2000/svg",t),o=n?{...this.brush,...n}:this.brush;return s.setAttribute("fill",(l=o.fill)!=null?l:"transparent"),s.setAttribute("stroke",o.color),s.setAttribute("stroke-width",o.size.toString()),s.setAttribute("stroke-linecap","round"),o.dasharray&&s.setAttribute("stroke-dasharray",o.dasharray),s}attr(t,n){this.el.setAttribute(t,typeof n=="string"?n:n.toFixed(Vt))}_setEvent(t){this.event=t,this.point=this.getMousePosition(t)}_eventDown(t){return this._setEvent(t),this.start=this.point,this.onStart(this.point)}_eventMove(t){return this._setEvent(t),this.onMove(this.point)}_eventUp(t){return this._setEvent(t),this.onEnd(this.point)}},Qm=class extends ps{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){const n=zm(t,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!n.length)return"";const s=n.reduce((o,[l,r],a,i)=>{const[u,p]=i[(a+1)%i.length];return o.push(l,r,(l+u)/2,(r+p)/2),o},["M",...n[0],"Q"]);return s.push("Z"),s.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}},Jm=class extends ps{onStart(t){return this.el=this.createElement("ellipse"),this.attr("cx",t.x),this.attr("cy",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[n,s]=$o(t.x-this.start.x),[o,l]=$o(t.y-this.start.y);if(this.shiftPressed){const r=Math.min(n,o);n=r,o=r}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",n),this.attr("ry",o);else{const[r,a]=[this.start.x,this.start.x+n*s].sort(Oo),[i,u]=[this.start.y,this.start.y+o*l].sort(Oo);this.attr("cx",(r+a)/2),this.attr("cy",(i+u)/2),this.attr("rx",(a-r)/2),this.attr("ry",(u-i)/2)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function Yu(t,n){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=document.createElementNS("http://www.w3.org/2000/svg","marker"),l=document.createElementNS("http://www.w3.org/2000/svg","path");return l.setAttribute("fill",n),o.setAttribute("id",t),o.setAttribute("viewBox","0 -5 10 10"),o.setAttribute("refX","5"),o.setAttribute("refY","0"),o.setAttribute("markerWidth","4"),o.setAttribute("markerHeight","4"),o.setAttribute("orient","auto"),l.setAttribute("d","M0,-5L10,0L0,5"),o.appendChild(l),s.appendChild(o),s}var Gm=class extends ps{onStart(t){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",t.x),this.attr("y1",t.y),this.attr("x2",t.x),this.attr("y2",t.y),this.brush.arrowEnd){const n=Ku(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Yu(n,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${n})`),s}return this.el}onMove(t){if(!this.el)return!1;let{x:n,y:s}=t;if(this.shiftPressed){const o=t.x-this.start.x,l=t.y-this.start.y;if(l!==0){let r=o/l;r=Math.round(r),Math.abs(r)<=1?(n=this.start.x+l*r,s=this.start.y+l):(n=this.start.x+o,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-n),this.attr("y1",this.start.y*2-s),this.attr("x2",n),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",n),this.attr("y2",s)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||t.getTotalLength()<5)}},Xm=class extends ps{onStart(t){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",t.x),this.attr("y",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[n,s]=$o(t.x-this.start.x),[o,l]=$o(t.y-this.start.y);if(this.shiftPressed){const r=Math.min(n,o);n=r,o=r}if(this.altPressed)this.attr("x",this.start.x-n),this.attr("y",this.start.y-o),this.attr("width",n*2),this.attr("height",o*2);else{const[r,a]=[this.start.x,this.start.x+n*s].sort(Oo),[i,u]=[this.start.y,this.start.y+o*l].sort(Oo);this.attr("x",r),this.attr("y",i),this.attr("width",a-r),this.attr("height",u-i)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function e6(t,n){const s=t.x-n.x,o=t.y-n.y;return s*s+o*o}function t6(t,n,s){let o=n.x,l=n.y,r=s.x-o,a=s.y-l;if(r!==0||a!==0){const i=((t.x-o)*r+(t.y-l)*a)/(r*r+a*a);i>1?(o=s.x,l=s.y):i>0&&(o+=r*i,l+=a*i)}return r=t.x-o,a=t.y-l,r*r+a*a}function n6(t,n){let s=t[0];const o=[s];let l;for(let r=1,a=t.length;r<a;r++)l=t[r],e6(l,s)>n&&(o.push(l),s=l);return s!==l&&l&&o.push(l),o}function er(t,n,s,o,l){let r=o,a=0;for(let i=n+1;i<s;i++){const u=t6(t[i],t[n],t[s]);u>r&&(a=i,r=u)}r>o&&(a-n>1&&er(t,n,a,o,l),l.push(t[a]),s-a>1&&er(t,a,s,o,l))}function s6(t,n){const s=t.length-1,o=[t[0]];return er(t,0,s,n,o),o.push(t[s]),o}function Mi(t,n,s=!1){if(t.length<=2)return t;const o=n!==void 0?n*n:1;return t=s?t:n6(t,o),t=s6(t,o),t}var o6=class extends ps{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=Ku();const n=Yu(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=Mi(this.points,1,!0),this.count=0),this.attr("d",qi(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||(t.setAttribute("d",qi(Mi(this.points,1,!0))),!t.getTotalLength()))}};function l6(t,n){const s=n.x-t.x,o=n.y-t.y;return{length:Math.sqrt(s**2+o**2),angle:Math.atan2(o,s)}}function Li(t,n,s,o){const l=n||t,r=s||t,a=.2,i=l6(l,r),u=i.angle+(o?Math.PI:0),p=i.length*a,d=t.x+Math.cos(u)*p,f=t.y+Math.sin(u)*p;return{x:d,y:f}}function r6(t,n,s){const o=Li(s[n-1],s[n-2],t),l=Li(t,s[n-1],s[n+1],!0);return`C ${o.x.toFixed(Vt)},${o.y.toFixed(Vt)} ${l.x.toFixed(Vt)},${l.y.toFixed(Vt)} ${t.x.toFixed(Vt)},${t.y.toFixed(Vt)}`}function qi(t){return t.reduce((n,s,o,l)=>o===0?`M ${s.x.toFixed(Vt)},${s.y.toFixed(Vt)}`:`${n} ${r6(s,o,l)}`,"")}var a6=class extends ps{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(t){const n=(s,o)=>{if(s&&s.length)for(let l=0;l<s.length;l++){const r=s[l];if(r.getTotalLength){const a=r.getTotalLength();for(let i=0;i<this.pathSubFactor;i++){const u=r.getPointAtLength(a*i/this.pathSubFactor),p=r.getPointAtLength(a*(i+1)/this.pathSubFactor);this.pathFragments.push({x1:u.x,x2:p.x,y1:u.y,y2:p.y,segment:i,element:o||r})}}else r.children&&n(r.children,r)}};t&&n(t.children)}onUnselected(){this.pathFragments=[]}onStart(t){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=t.x,this.svgPointPrevious.y=t.y}onMove(t){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=t.x,this.svgPointCurrent.y=t.y;const n=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,n}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const t=[];if(this.pathFragments.length)for(let n=0;n<this.pathFragments.length;n++){const s=this.pathFragments[n],o={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(s,o)&&(s.element.remove(),t.push(n))}return t.length&&(this.pathFragments=this.pathFragments.filter((n,s)=>!t.includes(s))),t.length>0}lineLineIntersect(t,n){const s=t.x1,o=t.x2,l=n.x1,r=n.x2,a=t.y1,i=t.y2,u=n.y1,p=n.y2,d=(s-o)*(u-p)-(a-i)*(l-r),f=(s*i-a*o)*(l-r)-(s-o)*(l*p-u*r),h=(s*i-a*o)*(u-p)-(a-i)*(l*p-u*r),m=(y,_,w)=>y>=_&&y<=w?!0:y>=w&&y<=_;if(d===0)return!1;{const y={x:f/d,y:h/d};return m(y.x,s,o)&&m(y.y,a,i)&&m(y.x,l,r)&&m(y.y,u,p)}}};function i6(t){return{draw:new o6(t),stylus:new Qm(t),line:new Gm(t),rectangle:new Xm(t),ellipse:new Jm(t),eraseLine:new a6(t)}}var c6=class{constructor(t={}){this.options=t,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=Km(),this._models=i6(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),t.el&&this.mount(t.el,t.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(t){this._models[this.mode].onUnselected(),this.options.brush.mode=t,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(t){this.options.brush=t}resolveSelector(t){return typeof t=="string"?document.querySelector(t):t||null}mount(t,n){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(t),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(n)||this.el,o=this.eventStart.bind(this),l=this.eventMove.bind(this),r=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",o,{passive:!1}),window.addEventListener("pointermove",l,{passive:!1}),window.addEventListener("pointerup",r,{passive:!1}),window.addEventListener("pointercancel",r,{passive:!1}),window.addEventListener("keydown",a,!1),window.addEventListener("keyup",a,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",o),window.removeEventListener("pointermove",l),window.removeEventListener("pointerup",r),window.removeEventListener("pointercancel",r),window.removeEventListener("keydown",a,!1),window.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(t=>t()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(t,n){return this._emitter.on(t,n)}undo(){const t=this.el;return t.lastElementChild?(this._undoStack.push(t.lastElementChild.cloneNode(!0)),t.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var t;return!!((t=this.el)!=null&&t.lastElementChild)}eventMove(t){!this.acceptsInput(t)||!this.drawing||this.model._eventMove(t)&&(t.stopPropagation(),t.preventDefault(),this._emitter.emit("changed"))}eventStart(t){!this.acceptsInput(t)||(t.stopPropagation(),t.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(t),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(t){if(!this.acceptsInput(t)||!this.drawing)return;const n=this.model._eventUp(t);n?(n instanceof Element&&n!==this._currentNode&&(this._currentNode=n),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(t){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(t.pointerType)}eventKeyboard(t){this.shiftPressed===t.shiftKey&&this.altPressed===t.altKey||(this.shiftPressed=t.shiftKey,this.altPressed=t.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(t){this.clear(),this.el.innerHTML=t}};function u6(t){return new c6(t)}const tr=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],Lt=Tt("slidev-drawing-enabled",!1),m4=Tt("slidev-drawing-pinned",!1),p6=K(!1),d6=K(!1),f6=K(!1),Us=K(!1),En=Ih(Tt("slidev-drawing-brush",{color:tr[0],size:4,mode:"stylus"})),Ni=K("stylus"),Zu=O(()=>we.drawings.syncAll||Rt.value);let Vs=!1;const ws=O({get(){return Ni.value},set(t){Ni.value=t,t==="arrow"?(En.mode="line",En.arrowEnd=!0):(En.mode=t,En.arrowEnd=!1)}}),h6=Fe({brush:En,acceptsInputTypes:O(()=>Lt.value?void 0:["pen"]),coordinateTransform:!1}),ot=Ho(u6(h6));function y6(){ot.clear(),Zu.value&&$u(Ve.value,"")}function Qu(){var t;d6.value=ot.canRedo(),p6.value=ot.canUndo(),f6.value=!!((t=ot.el)!=null&&t.children.length)}function m6(t){Vs=!0;const n=xo[t||Ve.value];n!=null?ot.load(n):ot.clear(),Vs=!1}ot.on("changed",()=>{if(Qu(),!Vs){const t=ot.dump(),n=Ve.value;(xo[n]||"")!==t&&Zu.value&&$u(n,ot.dump())}});$y(t=>{Vs=!0,t[Ve.value]!=null&&ot.load(t[Ve.value]||""),Vs=!1,Qu()});Je(()=>{de(Ve,()=>{!ot.mounted||m6()},{immediate:!0})});ot.on("start",()=>Us.value=!0);ot.on("end",()=>Us.value=!1);window.addEventListener("keydown",t=>{if(!Lt.value)return;const n=!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey;let s=!0;t.code==="KeyZ"&&(t.ctrlKey||t.metaKey)?t.shiftKey?ot.redo():ot.undo():t.code==="Escape"?Lt.value=!1:t.code==="KeyL"&&n?ws.value="line":t.code==="KeyA"&&n?ws.value="arrow":t.code==="KeyS"&&n?ws.value="stylus":t.code==="KeyR"&&n?ws.value="rectangle":t.code==="KeyE"&&n?ws.value="ellipse":t.code==="KeyC"&&n?y6():t.code.startsWith("Digit")&&n&&+t.code[5]<=tr.length?En.color=tr[+t.code[5]-1]:s=!1,s&&(t.preventDefault(),t.stopPropagation())},!1);function He(...t){return O(()=>t.every(n=>Ze(n)))}function ut(t){return O(()=>!Ze(t))}const ji=t9(),ml=Tt("slidev-color-schema","auto"),nr=O(()=>we.colorSchema!=="auto"),Ur=O({get(){return nr.value?we.colorSchema==="dark":ml.value==="auto"?ji.value:ml.value==="dark"},set(t){nr.value||(ml.value=t===ji.value?"auto":t?"dark":"light")}}),Ju=bu(Ur);Ot&&de(Ur,t=>{const n=document.querySelector("html");n.classList.toggle("dark",t),n.classList.toggle("light",!t)},{immediate:!0});const mo=K(1),go=O(()=>Ue.length-1),yt=K(0),Vr=K(0);function g6(){yt.value>mo.value&&(yt.value-=1)}function v6(){yt.value<go.value&&(yt.value+=1)}function _6(){if(yt.value>mo.value){let t=yt.value-Vr.value;t<mo.value&&(t=mo.value),yt.value=t}}function A6(){if(yt.value<go.value){let t=yt.value+Vr.value;t>go.value&&(t=go.value),yt.value=t}}function w6(){const{escape:t,space:n,shift:s,left:o,right:l,up:r,down:a,enter:i,d:u,g:p,o:d}=Uu;let f=[{name:"next_space",key:He(n,ut(s)),fn:ln,autoRepeat:!0},{name:"prev_space",key:He(n,s),fn:rn,autoRepeat:!0},{name:"next_right",key:He(l,ut(s),ut(st)),fn:ln,autoRepeat:!0},{name:"prev_left",key:He(o,ut(s),ut(st)),fn:rn,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:ln,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:rn,autoRepeat:!0},{name:"next_down",key:He(a,ut(st)),fn:zs,autoRepeat:!0},{name:"prev_up",key:He(r,ut(st)),fn:()=>Ks(!1),autoRepeat:!0},{name:"next_shift",key:He(l,s),fn:zs,autoRepeat:!0},{name:"prev_shift",key:He(o,s),fn:()=>Ks(!1),autoRepeat:!0},{name:"toggle_dark",key:He(u,ut(Lt)),fn:Ju},{name:"toggle_overview",key:He(d,ut(Lt)),fn:Wu},{name:"hide_overview",key:He(t,ut(Lt)),fn:()=>st.value=!1},{name:"goto",key:He(p,ut(Lt)),fn:()=>Wn.value=!Wn.value},{name:"next_overview",key:He(l,st),fn:v6},{name:"prev_overview",key:He(o,st),fn:g6},{name:"up_overview",key:He(r,st),fn:_6},{name:"down_overview",key:He(a,st),fn:A6},{name:"goto_from_overview",key:He(i,st),fn:()=>{ls(yt.value),st.value=!1}}];const h=new Set(f.map(y=>y.name));if(f.filter(y=>y.name&&h.has(y.name)).length===0){const y=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(y),console.warn(y)}return f}const Gu=He(ut(Im),ut(Rm),Fm);function b6(t,n,s=!1){typeof t=="string"&&(t=Uu[t]);const o=He(t,Gu);let l=0,r;const a=()=>{if(clearTimeout(r),!o.value){l=0;return}s&&(r=setTimeout(a,Math.max(1e3-l*250,150)),l++),n()};return de(o,a,{flush:"sync"})}function E6(t,n){return Ly(t,s=>{!Gu.value||s.repeat||n()})}function D6(){const t=w6();new Map(t.map(s=>[s.key,s])).forEach(s=>{s.fn&&b6(s.key,s.fn,s.autoRepeat)}),E6("f",()=>Vu.toggle())}const k6={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},B6=e("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),C6=[B6];function x6(t,n){return A(),J("svg",k6,C6)}const S6={name:"carbon-close",render:x6};function Wr(t){var s,o;const n=(o=(s=t==null?void 0:t.meta)==null?void 0:s.slide)==null?void 0:o.no;return n!=null?`slidev-page-${n}`:""}const Xu=xe({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(t){const n=t;S(P);const s=K(),o=h9(s),l=O(()=>n.width?n.width:o.width.value),r=O(()=>n.width?n.width/on:o.height.value);n.width&&is(()=>{s.value&&(s.value.style.width=`${l.value}px`,s.value.style.height=`${r.value}px`)});const a=O(()=>l.value/r.value),i=O(()=>n.scale?n.scale:a.value<on?l.value/xn:r.value*on/xn),u=O(()=>({height:`${xu}px`,width:`${xn}px`,transform:`translate(-50%, -50%) scale(${i.value})`})),p=O(()=>({"select-none":!we.selectable,"slidev-code-line-numbers":we.lineNumbers}));return ft(Cu,i),(d,f)=>(A(),J("div",{id:"slide-container",ref_key:"root",ref:s,class:Me(E(p))},[e("div",{id:"slide-content",style:lt(E(u))},[cn(d.$slots,"default")],4),cn(d.$slots,"controls")],2))}});const zr=xe({props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(t,{emit:n}){const s=Mt(t,"clicks",n),o=Mt(t,"clicksElements",n),l=Mt(t,"clicksDisabled",n),r=Mt(t,"clicksOrderMap",n);o.value.length=0,ft(vy,t.route),ft(_y,t.context),ft(Bs,s),ft(Cs,l),ft(_n,o),ft(Wl,r)},render(){var t,n;return this.$props.is?ht(this.$props.is):(n=(t=this.$slots)==null?void 0:t.default)==null?void 0:n.call(t)}}),O6=["innerHTML"],$6=xe({__name:"DrawingPreview",props:{page:null},setup(t){return S(P),(n,s)=>E(xo)[t.page]?(A(),J("svg",{key:0,ref:"svg",class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:E(xo)[t.page]},null,8,O6)):ge("v-if",!0)}}),T6={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},F6=["onClick"],P6=xe({__name:"SlidesOverview",props:{modelValue:{type:Boolean}},emits:[],setup(t,{emit:n}){const s=t;S(P);const o=Mt(s,"modelValue",n);function l(){o.value=!1}function r(m){ls(m),l()}function a(m){return m===yt.value}const i=Gl.smaller("xs"),u=Gl.smaller("sm"),p=4*16*2,d=2*16,f=O(()=>i.value?Sn.width.value-p:u.value?(Sn.width.value-p-d)/2:300),h=O(()=>Math.floor((Sn.width.value-p)/(f.value+d)));return is(()=>{yt.value=Ve.value,Vr.value=h.value}),(m,y)=>{const _=S6;return A(),J(Be,null,[Ir(e("div",T6,[e("div",{class:"grid gap-y-4 gap-x-8 w-full",style:lt(`grid-template-columns: repeat(auto-fit,minmax(${E(f)}px,1fr))`)},[(A(!0),J(Be,null,Qs(E(Ue).slice(0,-1),(w,b)=>(A(),J("div",{key:w.path,class:"relative"},[e("div",{class:Me(["inline-block border border-gray-400 rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":a(b+1)}]),onClick:k=>r(+w.path)},[(A(),F(Xu,{key:w.path,width:E(f),"clicks-disabled":!0,class:"pointer-events-none"},{default:T(()=>[Q(E(zr),{is:w==null?void 0:w.component,"clicks-disabled":!0,class:Me(E(Wr)(w)),route:w,context:"overview"},null,8,["is","class","route"]),Q($6,{page:+w.path},null,8,["page"])]),_:2},1032,["width"]))],10,F6),e("div",{class:"absolute top-0 opacity-50",style:lt(`left: ${E(f)+5}px`)},On(b+1),5)]))),128))],4)],512),[[gu,E(o)]]),E(o)?(A(),J("button",{key:0,class:"fixed text-2xl top-4 right-4 icon-btn text-gray-400",onClick:l},[Q(_)])):ge("v-if",!0)],64)}}});const I6="/owasp-top-ten-workshop/assets/logo.b72bde5d.png",R6={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},M6=xe({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(t,{emit:n}){const s=t;S(P);const o=Mt(s,"modelValue",n);function l(){o.value=!1}return(r,a)=>(A(),F(eu,null,[E(o)?(A(),J("div",R6,[e("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=i=>l())}),e("div",{class:Me(["m-auto rounded-md bg-main shadow",s.class]),"dark:border":"~ gray-400 opacity-10"},[cn(r.$slots,"default")],2)])):ge("v-if",!0)],1024))}}),L6={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},q6=["innerHTML"],N6=e("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[e("div",{class:"flex gap-1 children:my-auto"},[e("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),e("img",{class:"w-5 h-5",src:I6,alt:"Slidev"}),e("div",{style:{color:"#2082A6"}},[e("b",null,"Sli"),c("dev ")])])],-1),j6=xe({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(t,{emit:n}){const s=t;S(P);const o=Mt(s,"modelValue",n),l=O(()=>typeof we.info=="string");return(r,a)=>(A(),F(M6,{modelValue:E(o),"onUpdate:modelValue":a[0]||(a[0]=i=>Ee(o)?o.value=i:null),class:"px-6 py-4"},{default:T(()=>[e("div",L6,[E(l)?(A(),J("div",{key:0,class:"mb-4",innerHTML:E(we).info},null,8,q6)):ge("v-if",!0),N6])]),_:1},8,["modelValue"]))}});const H6=["disabled","onKeydown"],U6=xe({__name:"Goto",setup(t){S(P);const n=K(),s=K(""),o=O(()=>{if(s.value.startsWith("/"))return!!Ue.find(a=>a.path===s.value.substring(1));{const a=+s.value;return!isNaN(a)&&a>0&&a<=pp.value}});function l(){o.value&&(s.value.startsWith("/")?ls(s.value.substring(1)):ls(+s.value)),r()}function r(){Wn.value=!1}return de(Wn,async a=>{var i,u;a?(await Je(),s.value="",(i=n.value)==null||i.focus()):(u=n.value)==null||u.blur()}),de(s,a=>{a.match(/^[^0-9/]/)&&(s.value=s.value.substring(1))}),(a,i)=>(A(),J("div",{id:"slidev-goto-dialog",class:Me(["fixed right-5 bg-main transform transition-all",E(Wn)?"top-5":"-top-20"]),shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:gray-400 dark:opacity-25"},[Ir(e("input",{ref_key:"input",ref:n,"onUpdate:modelValue":i[0]||(i[0]=u=>s.value=u),type:"text",disabled:!E(Wn),class:Me(["outline-none bg-transparent",{"text-red-400":!E(o)&&s.value}]),placeholder:"Goto...",onKeydown:[Va(l,["enter"]),Va(r,["escape"])],onBlur:r},null,42,H6),[[wh,s.value]])],2))}}),V6=xe({__name:"Controls",setup(t){S(P);const n=Nt(),s=Nt();return(o,l)=>(A(),J(Be,null,[Q(P6,{modelValue:E(st),"onUpdate:modelValue":l[0]||(l[0]=r=>Ee(st)?st.value=r:null)},null,8,["modelValue"]),Q(U6),E(n)?(A(),F(E(n),{key:0})):ge("v-if",!0),E(s)?(A(),F(E(s),{key:1,modelValue:E(hl),"onUpdate:modelValue":l[1]||(l[1]=r=>Ee(hl)?hl.value=r:null)},null,8,["modelValue"])):ge("v-if",!0),E(we).info?(A(),F(j6,{key:2,modelValue:E(Os),"onUpdate:modelValue":l[2]||(l[2]=r=>Ee(Os)?Os.value=r:null)},null,8,["modelValue"])):ge("v-if",!0)],64))}}),W6={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},z6=e("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),K6=[z6];function Y6(t,n){return A(),J("svg",W6,K6)}const Z6={name:"carbon-settings-adjust",render:Y6},Q6={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},J6=e("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),G6=e("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),X6=[J6,G6];function eg(t,n){return A(),J("svg",Q6,X6)}const tg={name:"carbon-information",render:eg},ng={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},sg=e("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),og=[sg];function lg(t,n){return A(),J("svg",ng,og)}const rg={name:"carbon-download",render:lg},ag={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},ig=e("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),cg=e("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),ug=[ig,cg];function pg(t,n){return A(),J("svg",ag,ug)}const dg={name:"carbon-user-speaker",render:pg},fg={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},hg=e("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),yg=e("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),mg=[hg,yg];function gg(t,n){return A(),J("svg",fg,mg)}const vg={name:"carbon-presentation-file",render:gg},_g={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ag=e("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),wg=[Ag];function bg(t,n){return A(),J("svg",_g,wg)}const Eg={name:"carbon-pen",render:bg},Dg={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},kg=e("path",{fill:"currentColor",d:"m38.2 48.5l58.2 155.2a8 8 0 0 0 15-.1l23.3-64.1a8.1 8.1 0 0 1 4.8-4.8l64.1-23.3a8 8 0 0 0 .1-15L48.5 38.2a8 8 0 0 0-10.3 10.3Z",opacity:".2"},null,-1),Bg=e("path",{fill:"currentColor",d:"m150.5 139.2l55.9-20.3a16 16 0 0 0 .1-30L51.3 30.7a16 16 0 0 0-20.6 20.6l58.2 155.2a15.9 15.9 0 0 0 15 10.4h.1a15.9 15.9 0 0 0 14.9-10.5l20.3-55.9l63.1 63.2a8.5 8.5 0 0 0 5.7 2.3a8.3 8.3 0 0 0 5.7-2.3a8.1 8.1 0 0 0 0-11.4Zm-46.6 61.7L45.7 45.7l155.2 58.2l-64.1 23.3a15.7 15.7 0 0 0-9.6 9.6Z"},null,-1),Cg=[kg,Bg];function xg(t,n){return A(),J("svg",Dg,Cg)}const Sg={name:"ph-cursor-duotone",render:xg},Og={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},$g=e("path",{fill:"currentColor",d:"M213.7 202.3a8.1 8.1 0 0 1 0 11.4a8.3 8.3 0 0 1-5.7 2.3a8.5 8.5 0 0 1-5.7-2.3l-63.1-63.2l-20.3 55.9a15.9 15.9 0 0 1-14.9 10.5h-.1a15.9 15.9 0 0 1-15-10.4L30.7 51.3a16 16 0 0 1 20.6-20.6l155.2 58.2a16 16 0 0 1-.1 30l-55.9 20.3Z"},null,-1),Tg=[$g];function Fg(t,n){return A(),J("svg",Og,Tg)}const ep={name:"ph-cursor-fill",render:Fg},Pg={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ig=e("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),Rg=[Ig];function Mg(t,n){return A(),J("svg",Pg,Rg)}const Lg={name:"carbon-sun",render:Mg},qg={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ng=e("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),jg=[Ng];function Hg(t,n){return A(),J("svg",qg,jg)}const Ug={name:"carbon-moon",render:Hg},Vg={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Wg=e("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),zg=[Wg];function Kg(t,n){return A(),J("svg",Vg,zg)}const Yg={name:"carbon-apps",render:Kg},Zg={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Qg=e("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),Jg=[Qg];function Gg(t,n){return A(),J("svg",Zg,Jg)}const Xg={name:"carbon-arrow-right",render:Gg},ev={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},tv=e("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),nv=[tv];function sv(t,n){return A(),J("svg",ev,nv)}const ov={name:"carbon-arrow-left",render:sv},lv={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},rv=e("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),av=[rv];function iv(t,n){return A(),J("svg",lv,av)}const cv={name:"carbon-maximize",render:iv},uv={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},pv=e("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),dv=[pv];function fv(t,n){return A(),J("svg",uv,dv)}const hv={name:"carbon-minimize",render:fv},yv={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},mv=e("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),gv=[mv];function vv(t,n){return A(),J("svg",yv,gv)}const _v={name:"carbon-checkmark",render:vv},Av={class:"select-list"},wv={class:"title"},bv={class:"items"},Ev=["onClick"],Dv=xe({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(t,{emit:n}){const s=t;S(P);const o=Mt(s,"modelValue",n,{passive:!0});return(l,r)=>{const a=_v;return A(),J("div",Av,[e("div",wv,On(t.title),1),e("div",bv,[(A(!0),J(Be,null,Qs(t.items,i=>(A(),J("div",{key:i.value,class:Me(["item",{active:E(o)===i.value}]),onClick:()=>{var u;o.value=i.value,(u=i.onClick)==null||u.call(i)}},[Q(a,{class:Me(["text-green-500",{"opacity-0":E(o)!==i.value}])},null,8,["class"]),c(" "+On(i.display||i.value),1)],10,Ev))),128))])])}}});const tp=(t,n)=>{const s=t.__vccOpts||t;for(const[o,l]of n)s[o]=l;return s},kv=tp(Dv,[["__scopeId","data-v-7dd0eaca"]]),Bv={class:"text-sm"},Cv=xe({__name:"Settings",setup(t){S(P);const n=[{display:"Fit",value:0},{display:"1:1",value:1}];return(s,o)=>(A(),J("div",Bv,[Q(kv,{modelValue:E(yo),"onUpdate:modelValue":o[0]||(o[0]=l=>Ee(yo)?yo.value=l:null),title:"Scale",items:n},null,8,["modelValue"])]))}}),xv={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ gray-400 opacity-10"},Sv=xe({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(t,{emit:n}){const s=t;S(P);const o=Mt(s,"modelValue",n,{passive:!0}),l=K();return Ry(l,()=>{o.value=!1}),(r,a)=>(A(),J("div",{ref_key:"el",ref:l,class:"flex relative"},[e("button",{class:Me({disabled:t.disabled}),onClick:a[0]||(a[0]=i=>o.value=!E(o))},[cn(r.$slots,"button",{class:Me({disabled:t.disabled})})],2),(A(),F(eu,null,[E(o)?(A(),J("div",xv,[cn(r.$slots,"menu")])):ge("v-if",!0)],1024))],512))}}),Ov={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},co={__name:"VerticalDivider",setup(t){return S(P),(n,s)=>(A(),J("div",Ov))}},$v={render(){return[]}},Tv={class:"icon-btn"},Fv={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},Pv={class:"my-auto"},Iv={class:"opacity-50"},Rv=xe({__name:"NavControls",props:{persist:{default:!1}},setup(t){const n=t;S(P);const s=Gl.smaller("md"),{isFullscreen:o,toggle:l}=Vu,r=O(()=>or.value?`?password=${or.value}`:""),a=O(()=>`/presenter/${Ve.value}${r.value}`),i=O(()=>`/${Ve.value}${r.value}`),u=K(),p=()=>{u.value&&Gn.value&&u.value.contains(Gn.value)&&Gn.value.blur()},d=O(()=>n.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),f=Nt(),h=Nt();return us(()=>import("./DrawingControls.4290e781.js"),["assets/DrawingControls.4290e781.js","assets/DrawingControls.vue_vue_type_script_setup_true_lang.a427bb88.js"]).then(m=>h.value=m.default),(m,y)=>{const _=hv,w=cv,b=ov,k=Xg,D=Yg,C=Ug,M=Lg,L=ep,V=Sg,te=Eg,pe=vg,fe=Eo("RouterLink"),_e=dg,We=rg,je=tg,Re=Z6;return A(),J("nav",{ref_key:"root",ref:u,class:"flex flex-col"},[e("div",{class:Me(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",E(d)]),onMouseleave:p},[E(Ht)?ge("v-if",!0):(A(),J("button",{key:0,class:"icon-btn",onClick:y[0]||(y[0]=(...$e)=>E(l)&&E(l)(...$e))},[E(o)?(A(),F(_,{key:0})):(A(),F(w,{key:1}))])),e("button",{class:Me(["icon-btn",{disabled:!E(Mb)}]),onClick:y[1]||(y[1]=(...$e)=>E(rn)&&E(rn)(...$e))},[Q(b)],2),e("button",{class:Me(["icon-btn",{disabled:!E(Rb)}]),title:"Next",onClick:y[2]||(y[2]=(...$e)=>E(ln)&&E(ln)(...$e))},[Q(k)],2),E(Ht)?ge("v-if",!0):(A(),J("button",{key:1,class:"icon-btn",title:"Slides overview",onClick:y[3]||(y[3]=$e=>E(Wu)())},[Q(D)])),E(nr)?ge("v-if",!0):(A(),J("button",{key:2,class:"icon-btn",title:"Toggle dark mode",onClick:y[4]||(y[4]=$e=>E(Ju)())},[E(Ur)?(A(),F(C,{key:0})):(A(),F(M,{key:1}))])),Q(co),E(Ht)?ge("v-if",!0):(A(),J(Be,{key:3},[!E(Rt)&&!E(s)&&E(f)?(A(),J(Be,{key:0},[Q(E(f)),Q(co)],64)):ge("v-if",!0),E(Rt)?(A(),J("button",{key:1,class:"icon-btn",title:"Show presenter cursor",onClick:y[5]||(y[5]=$e=>yl.value=!E(yl))},[E(yl)?(A(),F(L,{key:0})):(A(),F(V,{key:1,class:"opacity-50"}))])):ge("v-if",!0)],64)),!E(we).drawings.presenterOnly&&!E(Ht)?(A(),J(Be,{key:4},[e("button",{class:"icon-btn relative",title:"Drawing",onClick:y[6]||(y[6]=$e=>Lt.value=!E(Lt))},[Q(te),E(Lt)?(A(),J("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:lt({background:E(En).color})},null,4)):ge("v-if",!0)]),Q(co)],64)):ge("v-if",!0),E(Ht)?ge("v-if",!0):(A(),J(Be,{key:5},[E(Rt)?(A(),F(fe,{key:0,to:E(i),class:"icon-btn",title:"Play Mode"},{default:T(()=>[Q(pe)]),_:1},8,["to"])):ge("v-if",!0),E(Fb)?(A(),F(fe,{key:1,to:E(a),class:"icon-btn",title:"Presenter Mode"},{default:T(()=>[Q(_e)]),_:1},8,["to"])):ge("v-if",!0),ge("v-if",!0)],64)),(A(),J(Be,{key:6},[E(we).download?(A(),J("button",{key:0,class:"icon-btn",onClick:y[8]||(y[8]=(...$e)=>E(lr)&&E(lr)(...$e))},[Q(We)])):ge("v-if",!0)],64)),!E(Rt)&&E(we).info&&!E(Ht)?(A(),J("button",{key:7,class:"icon-btn",onClick:y[9]||(y[9]=$e=>Os.value=!E(Os))},[Q(je)])):ge("v-if",!0),!E(Rt)&&!E(Ht)?(A(),F(Sv,{key:8},{button:T(()=>[e("button",Tv,[Q(Re)])]),menu:T(()=>[Q(Cv)]),_:1})):ge("v-if",!0),E(Ht)?ge("v-if",!0):(A(),F(co,{key:9})),e("div",Fv,[e("div",Pv,[c(On(E(Ve))+" ",1),e("span",Iv,"/ "+On(E(pp)),1)])]),Q(E($v))],34)],512)}}}),np={render(){return[]}},sp={render(){return[]}},Mv={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},Lv=xe({__name:"PresenterMouse",setup(t){return S(P),(n,s)=>{const o=ep;return E(ul).cursor?(A(),J("div",Mv,[Q(o,{class:"absolute",style:lt({left:`${E(ul).cursor.x}%`,top:`${E(ul).cursor.y}%`})},null,8,["style"])])):ge("v-if",!0)}}}),qv=xe({__name:"SlidesShow",props:{context:null},setup(t){S(P),de(dt,()=>{var s,o;((s=dt.value)==null?void 0:s.meta)&&dt.value.meta.preload!==!1&&(dt.value.meta.__preloaded=!0),((o=gl.value)==null?void 0:o.meta)&&gl.value.meta.preload!==!1&&(gl.value.meta.__preloaded=!0)},{immediate:!0});const n=Nt();return us(()=>import("./DrawingLayer.7387144d.js"),[]).then(s=>n.value=s.default),(s,o)=>(A(),J(Be,null,[ge(" Global Bottom "),Q(E(sp)),ge(" Slides "),(A(!0),J(Be,null,Qs(E(Ue),l=>{var r,a;return A(),J(Be,{key:l.path},[((r=l.meta)==null?void 0:r.__preloaded)||l===E(dt)?Ir((A(),F(E(zr),{key:0,is:l==null?void 0:l.component,clicks:l===E(dt)?E(St):0,"clicks-elements":((a=l.meta)==null?void 0:a.__clicksElements)||[],"clicks-disabled":!1,class:Me(E(Wr)(l)),route:l,context:t.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[gu,l===E(dt)]]):ge("v-if",!0)],64)}),128)),ge(" Global Top "),Q(E(np)),E(n)?(A(),F(E(n),{key:0})):ge("v-if",!0),E(Rt)?ge("v-if",!0):(A(),F(Lv,{key:1}))],64))}}),Nv=xe({__name:"Play",setup(t){S(P),D6();const n=K();function s(r){var a;$i.value||((a=r.target)==null?void 0:a.id)==="slide-container"&&(r.screenX/window.innerWidth>.6?ln():rn())}Nb(n);const o=O(()=>Pm.value||$i.value);Nt();const l=Nt();return us(()=>import("./DrawingControls.4290e781.js"),["assets/DrawingControls.4290e781.js","assets/DrawingControls.vue_vue_type_script_setup_true_lang.a427bb88.js"]).then(r=>l.value=r.default),(r,a)=>(A(),J(Be,null,[e("div",{id:"page-root",ref_key:"root",ref:n,class:"grid grid-cols-[1fr_max-content]",style:lt(E(Su))},[Q(Xu,{class:"w-full h-full",style:lt({background:"var(--slidev-slide-container-background, black)"}),width:E(Zr)?E(Sn).width.value:void 0,scale:E(yo),onPointerdown:s},{default:T(()=>[Q(qv,{context:"slide"})]),controls:T(()=>[e("div",{class:Me(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[E(o)?"opacity-100 right-0":"opacity-0 p-2",E(Us)?"pointer-events-none":""]])},[Q(Rv,{class:"m-auto",persist:E(o)},null,8,["persist"])],2),!E(we).drawings.presenterOnly&&!E(Ht)&&E(l)?(A(),F(E(l),{key:0,class:"ml-0"})):ge("v-if",!0)]),_:1},8,["style","width","scale"]),ge("v-if",!0)],4),Q(V6)],64))}});function op(t){const n=O(()=>t.value.path),s=O(()=>Ue.length-1),o=O(()=>parseInt(n.value.split(/\//g).slice(-1)[0])||1),l=O(()=>Go(o.value)),r=O(()=>Ue.find(h=>h.path===`${o.value}`)),a=O(()=>{var h,m,y;return(y=(m=(h=r.value)==null?void 0:h.meta)==null?void 0:m.slide)==null?void 0:y.id}),i=O(()=>{var h,m;return(m=(h=r.value)==null?void 0:h.meta)==null?void 0:m.layout}),u=O(()=>Ue.find(h=>h.path===`${Math.min(Ue.length,o.value+1)}`)),p=O(()=>Ue.filter(h=>{var m,y;return(y=(m=h.meta)==null?void 0:m.slide)==null?void 0:y.title}).reduce((h,m)=>(Qr(h,m),h),[])),d=O(()=>Jr(p.value,r.value)),f=O(()=>Gr(d.value));return{route:t,path:n,total:s,currentPage:o,currentPath:l,currentRoute:r,currentSlideId:a,currentLayout:i,nextRoute:u,rawTree:p,treeWithActiveStatuses:d,tree:f}}function lp(t,n,s){const o=K(0);Je(()=>{mt.afterEach(async()=>{await Je(),o.value+=1})});const l=O(()=>{var u,p;return o.value,((p=(u=n.value)==null?void 0:u.meta)==null?void 0:p.__clicksElements)||[]}),r=O(()=>{var u,p,d;return+((d=(p=(u=n.value)==null?void 0:u.meta)==null?void 0:p.clicks)!=null?d:l.value.length)}),a=O(()=>s.value<Ue.length-1||t.value<r.value),i=O(()=>s.value>1||t.value>0);return{clicks:t,clicksElements:l,clicksTotal:r,hasNext:a,hasPrev:i}}const jv=["id"],Hi=xe({__name:"PrintSlideClick",props:{clicks:null,clicksElements:null,nav:null,route:null},emits:["update:clicksElements"],setup(t,{emit:n}){const s=t,o=Mt(s,"clicksElements",n),l=O(()=>({height:`${xu}px`,width:`${xn}px`})),r=Nt();us(()=>import("./DrawingPreview.e684782d.js"),[]).then(p=>r.value=p.default);const a=O(()=>s.clicks),i=lp(a,s.nav.currentRoute,s.nav.currentPage),u=O(()=>`${s.route.path.toString().padStart(3,"0")}-${(a.value+1).toString().padStart(2,"0")}`);return ft(P,Fe({nav:{...s.nav,...i},configs:we,themeConfigs:O(()=>we.themeConfig)})),(p,d)=>{var f;return A(),J("div",{id:E(u),class:"slide-container",style:lt(E(l))},[Q(E(sp)),Q(E(zr),{is:(f=t.route)==null?void 0:f.component,"clicks-elements":E(o),"onUpdate:clicks-elements":d[0]||(d[0]=h=>Ee(o)?o.value=h:null),clicks:E(a),"clicks-disabled":!1,class:Me(E(Wr)(t.route)),route:t.route},null,8,["is","clicks-elements","clicks","class","route"]),E(r)?(A(),F(E(r),{key:0,page:+t.route.path},null,8,["page"])):ge("v-if",!0),Q(E(np))],12,jv)}}}),Hv=xe({__name:"PrintSlide",props:{route:null},setup(t){var r;const n=t;S(P);const s=Fe(((r=n.route.meta)==null?void 0:r.__clicksElements)||[]),o=O(()=>n.route),l=op(o);return(a,i)=>(A(),J(Be,null,[Q(Hi,{"clicks-elements":s,"onUpdate:clicks-elements":i[0]||(i[0]=u=>Ee(s)?s.value=u:null),clicks:0,nav:E(l),route:E(o)},null,8,["clicks-elements","nav","route"]),E($s)?ge("v-if",!0):(A(!0),J(Be,{key:0},Qs(s.length,u=>(A(),F(Hi,{key:u,clicks:u,nav:E(l),route:E(o)},null,8,["clicks","nav","route"]))),128))],64))}}),Uv={id:"print-content"},Vv=xe({__name:"PrintContainer",props:{width:null},setup(t){const n=t;S(P);const s=O(()=>n.width),o=O(()=>n.width/on),l=O(()=>s.value/o.value),r=O(()=>l.value<on?s.value/xn:o.value*on/xn),a=Ue.slice(0,-1),i=O(()=>({"select-none":!we.selectable,"slidev-code-line-numbers":we.lineNumbers}));return ft(Cu,r),(u,p)=>(A(),J("div",{id:"print-container",class:Me(E(i))},[e("div",Uv,[(A(!0),J(Be,null,Qs(E(a),d=>(A(),F(Hv,{key:d.path,route:d},null,8,["route"]))),128))]),cn(u.$slots,"controls")],2))}});const Wv=xe({__name:"Print",setup(t){S(P);const n=bn.canvasWidth,s=Math.round(n/bn.aspectRatio)+1;function o(l,{slots:r}){if(r.default)return ht("style",r.default())}return is(()=>{Zr?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(l,r)=>(A(),J(Be,null,[Q(o,null,{default:T(()=>[c(" @page { size: "+On(E(n))+"px "+On(s)+"px; margin: 0px; } ",1)]),_:1}),e("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:lt(E(Su))},[Q(Vv,{class:"w-full h-full",style:lt({background:"var(--slidev-slide-container-background, black)"}),width:E(Sn).width.value},null,8,["style","width"])],4)],64))}});const zv={class:"slidev-layout end"},Kv={__name:"end",setup(t){return S(P),(n,s)=>(A(),J("div",zv," END "))}},Yv=tp(Kv,[["__scopeId","data-v-ab32435f"]]),Zv="/owasp-top-ten-workshop/images/nearform.svg",Qv="/owasp-top-ten-workshop/assets/owasp.8902e583.png",Jv={class:"slidev-layout default"},U={__name:"default",setup(t){return S(P),(n,s)=>(A(),J("div",Jv,[cn(n.$slots,"default")]))}},Gv=e("img",{class:"logo",src:Zv},null,-1),Xv=e("h1",null,"OWASP Top Ten Security Vulnerabilities Workshop",-1),e_=e("img",{src:Qv,style:{width:"30%"}},null,-1),t_=e("div",{class:"copyright"},[e("p",null,"\xA9 Copyright 2022 NearForm Ltd. All Rights Reserved.")],-1),n_={__name:"1",setup(t){const n={theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Gv,Xv,e_,t_]),_:1},16))}},s_=e("h1",null,"Introduction: OWASP \u{1F41D}",-1),o_=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("p",null,[c("The Open Web Application Security Project ("),e("strong",null,"OWASP"),c(") is a "),e("strong",null,"non profit"),c(" foundation that works to improve the security of software")])]),e("li",null,[e("p",null,[c("OWASP has community-led "),e("strong",null,"open-source"),c(" software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences")])])])],-1),l_={__name:"2",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[s_,o_]),_:1},16))}},r_=e("h1",null,"Introduction: OWASP Top Ten",-1),a_=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("The "),e("strong",null,[e("a",{href:"https://owasp.org/Top10/",target:"_blank",rel:"noopener"},"OWASP Top Ten")]),c(" is a standard awareness document for developers and web application security")]),e("li",null,"It represents a broad consensus about the most critical security risks to web applications")])],-1),i_={__name:"3",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[r_,a_]),_:1},16))}},c_=e("h1",null,"Workshop Setup",-1),u_=e("div",{class:"dense"},[e("ul",null,[e("li",null,"This workshop will explain each of the 10 vulnerabilities"),e("li",null,"There is a Fastify node.js server demonstrating the security issues"),e("li",null,"At each step you are asked to fix the vulnerability in the server"),e("li",null,[c("You will find the solution to each step in the file "),e("code",null,"solution.js"),c(" inside "),e("code",null,"src/a{n}-{name}"),c(" folder (the actual path may vary)")]),e("li",null,"The \u{1F4A1} icon indicates hints")])],-1),p_={__name:"4",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[c_,u_]),_:1},16))}},d_={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},f_=e("path",{fill:"currentColor",d:"M200 32h-36.3a47.8 47.8 0 0 0-71.4 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32.1 32.1 0 0 1 32 32H96a32.1 32.1 0 0 1 32-32Zm72 184H56V48h26.8A47.2 47.2 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.2 47.2 0 0 0-2.8-16H200Z"},null,-1),h_=[f_];function y_(t,n){return A(),J("svg",d_,h_)}const m_={name:"ph-clipboard",render:y_},g_={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},v_=e("path",{fill:"currentColor",d:"M177.8 98.5a8 8 0 0 1-.3 11.3l-58.6 56a8.1 8.1 0 0 1-5.6 2.2a7.9 7.9 0 0 1-5.5-2.2l-29.3-28a8 8 0 1 1 11-11.6l23.8 22.7l53.2-50.7a8 8 0 0 1 11.3.3ZM232 128A104 104 0 1 1 128 24a104.2 104.2 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),__=[v_];function A_(t,n){return A(),J("svg",g_,__)}const w_={name:"ph-check-circle",render:A_};/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function rp(t){return typeof t>"u"||t===null}function b_(t){return typeof t=="object"&&t!==null}function E_(t){return Array.isArray(t)?t:rp(t)?[]:[t]}function D_(t,n){var s,o,l,r;if(n)for(r=Object.keys(n),s=0,o=r.length;s<o;s+=1)l=r[s],t[l]=n[l];return t}function k_(t,n){var s="",o;for(o=0;o<n;o+=1)s+=t;return s}function B_(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var C_=rp,x_=b_,S_=E_,O_=k_,$_=B_,T_=D_,Kr={isNothing:C_,isObject:x_,toArray:S_,repeat:O_,isNegativeZero:$_,extend:T_};function ap(t,n){var s="",o=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(s+='in "'+t.mark.name+'" '),s+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!n&&t.mark.snippet&&(s+=`

`+t.mark.snippet),o+" "+s):o}function Ws(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=ap(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Ws.prototype=Object.create(Error.prototype);Ws.prototype.constructor=Ws;Ws.prototype.toString=function(n){return this.name+": "+ap(this,n)};var An=Ws,F_=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],P_=["scalar","sequence","mapping"];function I_(t){var n={};return t!==null&&Object.keys(t).forEach(function(s){t[s].forEach(function(o){n[String(o)]=s})}),n}function R_(t,n){if(n=n||{},Object.keys(n).forEach(function(s){if(F_.indexOf(s)===-1)throw new An('Unknown option "'+s+'" is met in definition of "'+t+'" YAML type.')}),this.options=n,this.tag=t,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(s){return s},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=I_(n.styleAliases||null),P_.indexOf(this.kind)===-1)throw new An('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var Xe=R_;function Ui(t,n){var s=[];return t[n].forEach(function(o){var l=s.length;s.forEach(function(r,a){r.tag===o.tag&&r.kind===o.kind&&r.multi===o.multi&&(l=a)}),s[l]=o}),s}function M_(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,s;function o(l){l.multi?(t.multi[l.kind].push(l),t.multi.fallback.push(l)):t[l.kind][l.tag]=t.fallback[l.tag]=l}for(n=0,s=arguments.length;n<s;n+=1)arguments[n].forEach(o);return t}function sr(t){return this.extend(t)}sr.prototype.extend=function(n){var s=[],o=[];if(n instanceof Xe)o.push(n);else if(Array.isArray(n))o=o.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(s=s.concat(n.implicit)),n.explicit&&(o=o.concat(n.explicit));else throw new An("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(r){if(!(r instanceof Xe))throw new An("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(r.loadKind&&r.loadKind!=="scalar")throw new An("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(r.multi)throw new An("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(r){if(!(r instanceof Xe))throw new An("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var l=Object.create(sr.prototype);return l.implicit=(this.implicit||[]).concat(s),l.explicit=(this.explicit||[]).concat(o),l.compiledImplicit=Ui(l,"implicit"),l.compiledExplicit=Ui(l,"explicit"),l.compiledTypeMap=M_(l.compiledImplicit,l.compiledExplicit),l};var L_=sr,q_=new Xe("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),N_=new Xe("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),j_=new Xe("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),H_=new L_({explicit:[q_,N_,j_]});function U_(t){if(t===null)return!0;var n=t.length;return n===1&&t==="~"||n===4&&(t==="null"||t==="Null"||t==="NULL")}function V_(){return null}function W_(t){return t===null}var z_=new Xe("tag:yaml.org,2002:null",{kind:"scalar",resolve:U_,construct:V_,predicate:W_,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function K_(t){if(t===null)return!1;var n=t.length;return n===4&&(t==="true"||t==="True"||t==="TRUE")||n===5&&(t==="false"||t==="False"||t==="FALSE")}function Y_(t){return t==="true"||t==="True"||t==="TRUE"}function Z_(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var Q_=new Xe("tag:yaml.org,2002:bool",{kind:"scalar",resolve:K_,construct:Y_,predicate:Z_,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function J_(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function G_(t){return 48<=t&&t<=55}function X_(t){return 48<=t&&t<=57}function e0(t){if(t===null)return!1;var n=t.length,s=0,o=!1,l;if(!n)return!1;if(l=t[s],(l==="-"||l==="+")&&(l=t[++s]),l==="0"){if(s+1===n)return!0;if(l=t[++s],l==="b"){for(s++;s<n;s++)if(l=t[s],l!=="_"){if(l!=="0"&&l!=="1")return!1;o=!0}return o&&l!=="_"}if(l==="x"){for(s++;s<n;s++)if(l=t[s],l!=="_"){if(!J_(t.charCodeAt(s)))return!1;o=!0}return o&&l!=="_"}if(l==="o"){for(s++;s<n;s++)if(l=t[s],l!=="_"){if(!G_(t.charCodeAt(s)))return!1;o=!0}return o&&l!=="_"}}if(l==="_")return!1;for(;s<n;s++)if(l=t[s],l!=="_"){if(!X_(t.charCodeAt(s)))return!1;o=!0}return!(!o||l==="_")}function t0(t){var n=t,s=1,o;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),o=n[0],(o==="-"||o==="+")&&(o==="-"&&(s=-1),n=n.slice(1),o=n[0]),n==="0")return 0;if(o==="0"){if(n[1]==="b")return s*parseInt(n.slice(2),2);if(n[1]==="x")return s*parseInt(n.slice(2),16);if(n[1]==="o")return s*parseInt(n.slice(2),8)}return s*parseInt(n,10)}function n0(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!Kr.isNegativeZero(t)}var s0=new Xe("tag:yaml.org,2002:int",{kind:"scalar",resolve:e0,construct:t0,predicate:n0,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),o0=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function l0(t){return!(t===null||!o0.test(t)||t[t.length-1]==="_")}function r0(t){var n,s;return n=t.replace(/_/g,"").toLowerCase(),s=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:s*parseFloat(n,10)}var a0=/^[-+]?[0-9]+e/;function i0(t,n){var s;if(isNaN(t))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Kr.isNegativeZero(t))return"-0.0";return s=t.toString(10),a0.test(s)?s.replace("e",".e"):s}function c0(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||Kr.isNegativeZero(t))}var u0=new Xe("tag:yaml.org,2002:float",{kind:"scalar",resolve:l0,construct:r0,predicate:c0,represent:i0,defaultStyle:"lowercase"}),p0=H_.extend({implicit:[z_,Q_,s0,u0]}),d0=p0,ip=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),cp=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function f0(t){return t===null?!1:ip.exec(t)!==null||cp.exec(t)!==null}function h0(t){var n,s,o,l,r,a,i,u=0,p=null,d,f,h;if(n=ip.exec(t),n===null&&(n=cp.exec(t)),n===null)throw new Error("Date resolve error");if(s=+n[1],o=+n[2]-1,l=+n[3],!n[4])return new Date(Date.UTC(s,o,l));if(r=+n[4],a=+n[5],i=+n[6],n[7]){for(u=n[7].slice(0,3);u.length<3;)u+="0";u=+u}return n[9]&&(d=+n[10],f=+(n[11]||0),p=(d*60+f)*6e4,n[9]==="-"&&(p=-p)),h=new Date(Date.UTC(s,o,l,r,a,i,u)),p&&h.setTime(h.getTime()-p),h}function y0(t){return t.toISOString()}var m0=new Xe("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:f0,construct:h0,instanceOf:Date,represent:y0});function g0(t){return t==="<<"||t===null}var v0=new Xe("tag:yaml.org,2002:merge",{kind:"scalar",resolve:g0}),Yr=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function _0(t){if(t===null)return!1;var n,s,o=0,l=t.length,r=Yr;for(s=0;s<l;s++)if(n=r.indexOf(t.charAt(s)),!(n>64)){if(n<0)return!1;o+=6}return o%8===0}function A0(t){var n,s,o=t.replace(/[\r\n=]/g,""),l=o.length,r=Yr,a=0,i=[];for(n=0;n<l;n++)n%4===0&&n&&(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)),a=a<<6|r.indexOf(o.charAt(n));return s=l%4*6,s===0?(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)):s===18?(i.push(a>>10&255),i.push(a>>2&255)):s===12&&i.push(a>>4&255),new Uint8Array(i)}function w0(t){var n="",s=0,o,l,r=t.length,a=Yr;for(o=0;o<r;o++)o%3===0&&o&&(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]),s=(s<<8)+t[o];return l=r%3,l===0?(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]):l===2?(n+=a[s>>10&63],n+=a[s>>4&63],n+=a[s<<2&63],n+=a[64]):l===1&&(n+=a[s>>2&63],n+=a[s<<4&63],n+=a[64],n+=a[64]),n}function b0(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var E0=new Xe("tag:yaml.org,2002:binary",{kind:"scalar",resolve:_0,construct:A0,predicate:b0,represent:w0}),D0=Object.prototype.hasOwnProperty,k0=Object.prototype.toString;function B0(t){if(t===null)return!0;var n=[],s,o,l,r,a,i=t;for(s=0,o=i.length;s<o;s+=1){if(l=i[s],a=!1,k0.call(l)!=="[object Object]")return!1;for(r in l)if(D0.call(l,r))if(!a)a=!0;else return!1;if(!a)return!1;if(n.indexOf(r)===-1)n.push(r);else return!1}return!0}function C0(t){return t!==null?t:[]}var x0=new Xe("tag:yaml.org,2002:omap",{kind:"sequence",resolve:B0,construct:C0}),S0=Object.prototype.toString;function O0(t){if(t===null)return!0;var n,s,o,l,r,a=t;for(r=new Array(a.length),n=0,s=a.length;n<s;n+=1){if(o=a[n],S0.call(o)!=="[object Object]"||(l=Object.keys(o),l.length!==1))return!1;r[n]=[l[0],o[l[0]]]}return!0}function $0(t){if(t===null)return[];var n,s,o,l,r,a=t;for(r=new Array(a.length),n=0,s=a.length;n<s;n+=1)o=a[n],l=Object.keys(o),r[n]=[l[0],o[l[0]]];return r}var T0=new Xe("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:O0,construct:$0}),F0=Object.prototype.hasOwnProperty;function P0(t){if(t===null)return!0;var n,s=t;for(n in s)if(F0.call(s,n)&&s[n]!==null)return!1;return!0}function I0(t){return t!==null?t:{}}var R0=new Xe("tag:yaml.org,2002:set",{kind:"mapping",resolve:P0,construct:I0});d0.extend({implicit:[m0,v0],explicit:[E0,x0,T0,R0]});function Vi(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"\x85":t===95?"\xA0":t===76?"\u2028":t===80?"\u2029":""}var M0=new Array(256),L0=new Array(256);for(var Nn=0;Nn<256;Nn++)M0[Nn]=Vi(Nn)?1:0,L0[Nn]=Vi(Nn);function q0(t){return Array.from(new Set(t))}function Wi(...t){let n,s,o;t.length===1?(n=0,o=1,[s]=t):[n,s,o=1]=t;const l=[];let r=n;for(;r<s;)l.push(r),r+=o||1;return l}function N0(t,n){if(!n||n==="all"||n==="*")return Wi(1,t+1);const s=[];for(const o of n.split(/[,;]/g))if(!o.includes("-"))s.push(+o);else{const[l,r]=o.split("-",2);s.push(...Wi(+l,r?+r+1:t+1))}return q0(s).filter(o=>o<=t).sort((o,l)=>o-l)}const j0=["title"],Ke=xe({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(t){const n=t;S(P);const s=S(Bs),o=S(_n),l=S(Cs);function r(f=5){const h=[],m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",y=m.length;for(let _=0;_<f;_++)h.push(m.charAt(Math.floor(Math.random()*y)));return h.join("")}const a=K(),i=Fn();cs(()=>{const f=n.at==null?o==null?void 0:o.value.length:n.at,h=O(()=>l!=null&&l.value?n.ranges.length-1:Math.min(Math.max(0,((s==null?void 0:s.value)||0)-(f||0)),n.ranges.length-1)),m=O(()=>n.ranges[h.value]||"");if(n.ranges.length>=2&&!(l!=null&&l.value)){const y=r(),_=wy(n.ranges.length-1).map(w=>y+w);o!=null&&o.value&&(o.value.push(..._),Yo(()=>_.forEach(w=>zl(o.value,w)),i))}is(()=>{if(!a.value)return;const _=a.value.querySelector(".shiki-dark")?Array.from(a.value.querySelectorAll(".shiki")):[a.value];for(const w of _){const b=Array.from(w.querySelectorAll(".line")),k=N0(b.length,m.value);if(b.forEach((D,C)=>{const M=k.includes(C+1);D.classList.toggle(mn,!0),D.classList.toggle("highlighted",M),D.classList.toggle("dishonored",!M)}),n.maxHeight){const D=w.querySelector(".line.highlighted");D&&D.scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:u,copy:p}=zy();function d(){var h,m;const f=(m=(h=a.value)==null?void 0:h.querySelector(".slidev-code"))==null?void 0:m.textContent;f&&p(f)}return(f,h)=>{const m=w_,y=m_;return A(),J("div",{ref_key:"el",ref:a,class:"slidev-code-wrapper relative group",style:lt({"max-height":n.maxHeight,"overflow-y":n.maxHeight?"scroll":void 0})},[cn(f.$slots,"default"),E(we).codeCopy?(A(),J("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:E(u)?"Copied":"Copy",onClick:h[0]||(h[0]=_=>d())},[E(u)?(A(),F(m,{key:0,class:"p-2 w-8 h-8"})):(A(),F(y,{key:1,class:"p-2 w-8 h-8"}))],8,j0)):ge("v-if",!0)],4)}}}),H0=e("h1",null,"Getting setup",-1),U0={class:"dense"},V0=e("h4",null,"Requirements",-1),W0=e("br",null,null,-1),z0=e("ul",null,[e("li",null,"Node LTS"),e("li",null,"docker"),e("li",null,"docker-compose"),e("li",null,"Postman (if you want to be able to test vulnerabilities)")],-1),K0=e("h4",null,"Setup",-1),Y0=e("br",null,null,-1),Z0=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"git clone https://github.com/nearform/owasp-top-ten-workshop")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"npm ci")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"npm run db:up")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"npm run db:migrate")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"git clone https://github.com/nearform/owasp-top-ten-workshop")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"npm ci")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"npm run db:up")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"npm run db:migrate")])])])],-1),Q0={__name:"5",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[H0,e("div",U0,[V0,W0,z0,K0,Y0,Q(l,Ie({},{ranges:[""]}),{default:T(()=>[Z0]),_:1},16)])]),_:1},16)}}},J0=e("h1",null,"Running the modules",-1),G0=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("code",null,"cd src/a{x}-step-name")]),e("li",null,[e("code",null,"npm start"),c(" will run the server ready to respond to requests")]),e("li",null,[e("code",null,"npm run verify"),c(" will run automated tests that fail by default until this step\u2019s issue is solved")]),e("li",null,"Check out README.md in the projects for potential additional info")])],-1),X0=e("h3",null,"Example",-1),eA=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#B8A965"}},"cd"),e("span",{style:{color:"#DBD7CAEE"}}," src/a01-access-control")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"npm start")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#998418"}},"cd"),e("span",{style:{color:"#393A34"}}," src/a01-access-control")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"npm start")])])])],-1),tA=e("p",null,[c("The server for that step will run on "),e("a",{href:"http://localhost:3000",target:"_blank",rel:"noopener"},"http://localhost:3000")],-1),nA={__name:"6",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[J0,G0,X0,Q(l,Ie({},{ranges:[""]}),{default:T(()=>[eA]),_:1},16),tA]),_:1},16)}}},sA=e("h1",null,"Testing the vulnerabilities",-1),oA=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests"),e("li",null,[c("The "),e("code",null,"postman"),c(" folder contains a collection that can be imported into Postman to easily send those requests")]),e("li",null,[c("The Postman collection is pre-logged in with user "),e("code",null,"alice"),c(". The "),e("code",null,"Bearer token"),c(" is set that represents "),e("code",null,"alice"),c(".")])])],-1),lA={__name:"7",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[sA,oA]),_:1},16))}},rA=e("h1",null,"Automated testing",-1),aA=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities have automated tests which verify the presence of the vulnerability"),e("li",null,"Those tests will fail until you fix the vulnerability"),e("li",null,[e("code",null,"npm run verify"),c(" in a step\u2019s folder")])])],-1),iA={__name:"8",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[rA,aA]),_:1},16))}},cA=e("h1",null,"A01 Broken Access Control",-1),uA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A01_2021-Broken_Access_Control/",target:"_blank",rel:"noopener"},"AO1:2021 - Broken Access Control")]),e("li",null,"User should only act based on specific permissions"),e("li",null,"Incorrect permissions -> unauthorised access of data")])],-1),pA={__name:"9",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[cA,uA]),_:1},16))}},dA=e("h1",null,"A01 Common vulnerabilities",-1),fA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Not applying principle of "),e("strong",null,"least privilege")]),e("li",null,"Checks can be bypassed by tampering with page or request"),e("li",null,"Allowing access to someone else\u2019s info by knowing the UUID"),e("li",null,"CORS allows untrusted origins")])],-1),hA={__name:"10",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[dA,fA]),_:1},16))}},yA=e("h1",null,"A01 How to Prevent",-1),mA=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Deny access by default"),e("li",null,"Avoid duplication of access control logic"),e("li",null,[c("Enforce "),e("strong",null,"user ownership"),c(" when manipulating data")])])],-1),gA={__name:"11",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[yA,mA]),_:1},16))}},vA=e("h1",null,"A01 Exercise",-1),_A={class:"dense"},AA=e("ul",null,[e("li",null,[c("The "),e("code",null,"/profile"),c(" route returns sensitive user data")]),e("li",null,[c("It takes a "),e("code",null,"username"),c(" query parameter to return the user\u2019s info")])],-1),wA=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#dbd7caee"}},"GET http://localhost:3000/profile?username=alice")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#393a34"}},"GET http://localhost:3000/profile?username=alice")])])])],-1),bA=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"1"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"23")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"1"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"23")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),EA={__name:"12",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[vA,e("div",_A,[AA,wA,Q(l,Ie({},{ranges:[""]}),{default:T(()=>[bA]),_:1},16)])]),_:1},16)}}},DA=e("h1",null,"A01 The problem",-1),kA={class:"dense"},BA=e("ul",null,[e("li",null,[c("Run the server for step 1 ("),e("code",null,"cd src/a01-access-control"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,"In Postman, run the query for A01: Access Control. Observe the data for Alice being returned"),e("li",null,[c("Now change the "),e("code",null,"username"),c(" query parameter to "),e("code",null,"bob"),c(". Result:")])],-1),CA=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"31")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"31")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),xA=e("ul",null,[e("li",null,"Bob\u2019s data is being exposed! Remember we\u2019re logged in as Alice and shouldn\u2019t see Bob\u2019s data")],-1),SA={__name:"13",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[DA,e("div",kA,[BA,Q(l,Ie({},{ranges:[""]}),{default:T(()=>[CA]),_:1},16),xA])]),_:1},16)}}},OA=e("h1",null,"A01 Fixing it \u{1FA84}",-1),$A=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the automated tests for step 1 - "),e("code",null,"npm run verify")]),e("li",null,"The tests fail because the server shouldn\u2019t return Bob\u2019s data"),e("li",null,[c("Edit the "),e("code",null,"/profile"),c(" route in the exercise folder to return only the "),e("code",null,"logged-in"),c(" user\u2019s profile without exposing other people\u2019s profiles")]),e("li",null,[c("\u{1F4A1} The server uses "),e("a",{href:"https://github.com/fastify/fastify-jwt",target:"_blank",rel:"noopener"},"fastify-jwt"),c(" to handle authentication")])])],-1),TA={__name:"14",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[OA,$A]),_:1},16))}},FA=e("h1",null,"A01 Solution \u{1F4A1}",-1),PA={class:"dense"},IA=e("ul",null,[e("li",null,[c("The issue comes from the usage of a user-supplied "),e("code",null,"query"),c(" parameter to choose which profile\u2019s info to check")]),e("li",null,[c("The server should instead fetch the only the "),e("code",null,"logged-in"),c(" user\u2019s info and reply with "),e("code",null,"403"),c(" in other cases")])],-1),RA=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// \u{1F4A1} We get the username from the logged in user, not from the query!")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"query"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Forbidden"),e("span",{style:{color:"#666666"}},"()"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// if does not match with the user's one, return a 403 Forbidden error")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// \u{1F4A1} We get the username from the logged in user, not from the query!")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Forbidden"),e("span",{style:{color:"#999999"}},"()"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// if does not match with the user's one, return a 403 Forbidden error")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),MA={__name:"15",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[FA,e("div",PA,[IA,Q(l,Ie({},{ranges:[""]}),{default:T(()=>[RA]),_:1},16)])]),_:1},16)}}},LA=e("h1",null,"A02 Cryptographic Failures",-1),qA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A02_2021-Cryptographic_Failures/",target:"_blank",rel:"noopener"},"A02: Cryptographic Failures")]),e("li",null,[c("Weak or inexistent "),e("strong",null,"cryptography"),c(" of sensitive data")]),e("li",null,"Passwords, credit card numbers, health records, personal information, business secrets\u2026"),e("li",null,"Anything protected by privacy laws or other regulations")])],-1),NA={__name:"16",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[LA,qA]),_:1},16))}},jA=e("h1",null,"A02 Common vulnerabilities",-1),HA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Weak or outdated cryptographic algorithms like "),e("strong",null,"md5 \u26A0\uFE0F")]),e("li",null,"Weak secret keys, default ones, keys from online tutorials, keys checked in source control\u2026"),e("li",null,[c("Lack of traffic encryption ("),e("strong",null,"HTTPS"),c(")")]),e("li",null,"Insufficient entropy in seed generation")])],-1),UA={__name:"17",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[jA,HA]),_:1},16))}},VA=e("h1",null,"A02 How to Prevent",-1),WA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Check sensitive data is well "),e("strong",null,"encrypted"),c(". Avoid storing sensitive data unnecessarily")]),e("li",null,"Use up to date and strong standard algorithms"),e("li",null,[c("Proper key/secrets management ("),e("strong",null,"private keys in git \u26A0\uFE0F"),c(")")]),e("li",null,"Disable caching for responses that contain sensitive data")])],-1),zA={__name:"18",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[VA,WA]),_:1},16))}},KA=e("h1",null,"A02 A weak hashing algorithm",-1),YA={class:"dense"},ZA=e("ul",null,[e("li",null,[c("The "),e("code",null,"/all-data"),c(" endpoint returns all users and their passwords (encrypted in md5). Imagine this as a data breach")]),e("li",null,[c("Result of the "),e("code",null,"all-data"),c(" endpoint")])],-1),QA=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"[")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#C98A7DAA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#B8A965AA"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#C98A7DAA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"]")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"[")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#B56959AA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#998418AA"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#B56959AA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"]")])])])],-1),JA={__name:"19",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[KA,e("div",YA,[ZA,Q(l,Ie({},{ranges:[""]}),{default:T(()=>[QA]),_:1},16)])]),_:1},16)}}},GA=e("h1",null,"A02 The problem",-1),XA=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Using the "),e("code",null,"/all-data"),c(" route, find Alice\u2019s encrypted password")]),e("li",null,"With this encrypted password hash, try to find the original unencrypted password Alice created"),e("li",null,"the Postman collection contains requests for doing the queries"),e("li",null,"\u{1F4A1} There are websites to decrypt md5")])],-1),e1={__name:"20",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[GA,XA]),_:1},16))}},t1=e("h1",null,"A02 Fixing it \u{1FA84}",-1),n1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"md5 encryption is vulnerable and shouldn\u2019t be used"),e("li",null,[c("In "),e("code",null,"src/a02-cryptographic-failure"),c(", fix the encryption used to be a strong algorithm instead of md5")]),e("li",null,[c("Using "),e("a",{href:"https://www.npmjs.com/package/bcrypt",target:"_blank",rel:"noopener"},"bcrypt"),c(" is a good idea for passwords")]),e("li",null,[c("The application exposes a "),e("code",null,"/change-password"),c(" route used to change a user\u2019s password")])])],-1),s1={__name:"21",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[t1,n1]),_:1},16))}},o1=e("h1",null,"A02 Solution \u{1F4A1}",-1),l1={class:"dense"},r1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// utils/encryption.js")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"import"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"compare"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"from"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"bcrypt"),e("span",{style:{color:"#C98A7DAA"}},"'")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"saltRounds"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"10")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"encryptPassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"hash"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"saltRounds"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// utils/encryption.js")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"import"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"compare"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"from"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"bcrypt"),e("span",{style:{color:"#B56959AA"}},"'")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"10")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"encryptPassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"hash"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),a1={__name:"22",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[o1,e("div",l1,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[r1]),_:1},16)])]),_:1},16)}}},i1=e("h1",null,"A02 Solution \u{1F4A1} (2)",-1),c1={class:"dense"},u1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// utils/encryption.js")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"compare"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"hash"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// utils/encryption.js")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"compare"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),p1={__name:"23",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[i1,e("div",c1,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[u1]),_:1},16)])]),_:1},16)}}},d1=e("h1",null,"A03 Injection \u{1F489}",-1),f1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A03_2021-Injection/",target:"_blank",rel:"noopener"},"A03: Injection")]),e("li",null,"Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server"),e("li",null,"Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover."),e("li",null,[c("Common targets: "),e("strong",null,"SQL, NoSQL, ORM, LDAP, JS eval")])])],-1),h1={__name:"24",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[d1,f1]),_:1},16))}},y1=e("h1",null,"A03 Common vulnerabilities",-1),m1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Lack of validation or "),e("strong",null,"sanitization"),c(" of user input")]),e("li",null,[c("Dynamic queries or non-parameterized calls without context-aware "),e("strong",null,"escaping"),c(" are used directly in the interpreter")]),e("li",null,[c("Hostile data is used within object-relational mapping (ORM) "),e("strong",null,"search parameters"),c(" to extract additional, sensitive records")])])],-1),g1={__name:"25",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[y1,m1]),_:1},16))}},v1=e("h1",null,"A03 Attack",-1),_1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 3 ("),e("code",null,"cd src/a03-injection"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A03: Get customer by name"),c(". Observe the data for "),e("code",null,'name: "alice"'),c(" being returned")]),e("li",null,[c("Try to run the query for "),e("code",null,"A03: SQL Injection"),c(". Observe all the customers being returned")]),e("li",null,[c("The query param value "),e("code",null,"' OR '1'='1"),c(" takes advantage of the unsafe string concatenation to create this SQL query "),e("code",null,"SELECT * FROM customers WHERE name='' OR '1'='1'"),c(" which will return every record in the table")])])],-1),A1={__name:"26",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[v1,_1]),_:1},16))}},w1=e("h1",null,"A03 Fixing it \u{1FA84}",-1),b1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("\u{1F4A1} Prefer using a safe API that "),e("strong",null,"sanitizes input"),c(" e.g "),e("code",null,"@nearform/sql")]),e("li",null,[e("strong",null,"Escape special characters"),c(" using the specific escape syntax for that interpreter")]),e("li",null,"Avoid user-supplied table names or column names as they cannot be escaped"),e("li",null,[e("strong",null,"Automated testing"),c(" of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged")])])],-1),E1={__name:"27",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[w1,b1]),_:1},16))}},D1=e("h1",null,"A03 Solution \u{1F4A1}",-1),k1={class:"dense"},B1=e("ul",null,[e("li",null,[c("The "),e("code",null,"@nearform/sql"),c(" library escapes special characters contained in the user\u2019s input")])],-1),C1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// import SQL from '@nearform/sql'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"customer"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/customer"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"name"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"customers"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"name"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"customers"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#B8A965"}},"length"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"customers")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// import SQL from '@nearform/sql'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"customer"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/customer"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"name"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"name"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#998418"}},"length"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),x1={__name:"28",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[D1,e("div",k1,[B1,Q(l,Ie({},{ranges:[""]}),{default:T(()=>[C1]),_:1},16)])]),_:1},16)}}},S1=e("h1",null,"A04 Insecure Design",-1),O1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A04_2021-Insecure_Design/",target:"_blank",rel:"noopener"},"A04: Insecure Design")]),e("li",null,[c("Fundamental "),e("strong",null,"design flaws"),c(" of the software can cause security issues")]),e("li",null,"Those issues cannot be fixed by a better more secure code implementation"),e("li",null,"Failure to determine the level of security required during design")])],-1),$1={__name:"29",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[S1,O1]),_:1},16))}},T1=e("h1",null,"A04 Examples",-1),F1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("A forgotten password flow with "),e("strong",null,[e("em",null,'"security questions"')]),c(" is insecure by design because more than one person can know the answer")]),e("li",null,"An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)"),e("li",null,[c("A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make "),e("strong",null,"hundreds of small booking requests"),c(" at once to block all seats, causing massive revenue loss")])])],-1),P1={__name:"30",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[T1,F1]),_:1},16))}},I1=e("h1",null,"A04 How to prevent",-1),R1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Model threats for the application, all its flows and business logic"),e("li",null,"Continuously evaluate security requirement and design during the development lifecycle"),e("li",null,"Consider security rules and access controls for every user story"),e("li",null,[e("strong",null,"Use unit and integration tests"),c(" to verify the application is resistant to the threat model")])])],-1),M1={__name:"31",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[I1,R1]),_:1},16))}},L1=e("h1",null,"A04 Exercise",-1),q1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("The "),e("code",null,"/buy-product"),c(" endpoint does not have protection against bots run by scalpers")]),e("li",null,"It means that someone can buy a lot of stock quickly and leave legitimate customers without any")])],-1),N1={__name:"32",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[L1,q1]),_:1},16))}},j1=e("h1",null,"A04 Scalping",-1),H1=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 4 ("),e("code",null,"cd src/a04-insecure-design"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A04: Buy product"),c(". Observe the data for "),e("code",null,"success: true"),c(" being returned")]),e("li",null,"Run the query many times in a row in a short period of time"),e("li",null,"Notice that there is no protection against multiple sequential purchases")])],-1),U1={__name:"33",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[j1,H1]),_:1},16))}},V1=e("h1",null,"A04 Fixing it \u{1FA84}",-1),W1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Prefer using rate limiter for your routes"),e("li",null,[c("\u{1F4A1} Using "),e("a",{href:"https://github.com/fastify/fastify-rate-limit",target:"_blank",rel:"noopener"},[e("code",null,"fastify-rate-limit")]),c(" is a good idea for setting a rate limit")]),e("li",null,"Let\u2019s consider a scenario where a user can buy a maximum of two products per minute"),e("li",null,[c("Edit the "),e("code",null,"/buy-product"),c(" route in the exercise folder considering the scenario above")])])],-1),z1={__name:"34",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[V1,W1]),_:1},16))}},K1=e("h1",null,"A04 Solution \u{1F4A1}",-1),Y1={class:"dense"},Z1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// register the rateLimit plugin in the server.js file")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"register"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"rateLimit"),e("span",{style:{color:"#666666"}},")")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// register the rateLimit plugin in the server.js file")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"register"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"rateLimit"),e("span",{style:{color:"#999999"}},")")])])])],-1),Q1=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// the rate limit is set to a maximum of two purchases per minute")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"ecommerce"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/buy-product"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"config"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"rateLimit"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"max"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"timeWindow"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"1 minute"),e("span",{style:{color:"#C98A7DAA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"reply"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"reply"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"({"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#B8A965"}},"success"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// the rate limit is set to a maximum of two purchases per minute")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"ecommerce"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/buy-product"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"config"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"rateLimit"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"max"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"timeWindow"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"1 minute"),e("span",{style:{color:"#B56959AA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"({"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#998418"}},"success"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),J1={__name:"35",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[K1,e("div",Y1,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[Z1]),_:1},16),Q(l,Ie({},{ranges:[""]}),{default:T(()=>[Q1]),_:1},16)])]),_:1},16)}}},G1=e("h1",null,"A05 Security Misconfiguration",-1),X1=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk"),e("li",null,[e("strong",null,"Badly configured"),c(" servers or services can lead to vulnerabilities")]),e("li",null,"With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration")])],-1),e3={__name:"36",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[G1,X1]),_:1},16))}},t3=e("h1",null,"A05 Common Vulnerabilities",-1),n3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Improperly configured "),e("strong",null,"permissions"),c(" or security settings")]),e("li",null,"Unnecessary features enabled: open ports, services, accounts with elevated accesss\u2026"),e("li",null,[e("strong",null,"Default credentials"),c(" unchanged")]),e("li",null,"Out of date or vulnerable server"),e("li",null,"Stack trace from error handling revealing information to users")])],-1),s3={__name:"37",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[t3,n3]),_:1},16))}},o3=e("h1",null,"A05 How to prevent",-1),l3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Repeatable, automated and fast to deploy environments"),e("li",null,"Different credentials should be used in each environment"),e("li",null,"Frequently review security updates, patches and permissions"),e("li",null,[c("A "),e("strong",null,"segmented architecture"),c(" increases security by separating components, tenants, containers or cloud security groups")]),e("li",null,[c("An automated "),e("strong",null,"test"),c(" to verify the effectiveness of the configurations")])])],-1),r3={__name:"38",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[o3,l3]),_:1},16))}},a3=e("h1",null,"A05 Unsigned Cookies \u{1F36A}",-1),i3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 5 ("),e("code",null,"cd src/a05-security-misconfiguration"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A05: Login"),c(". Observe a cookie with "),e("code",null,"userId=1"),c(" being returned")]),e("li",null,[c("Try to run the query for "),e("code",null,"A05: Profile"),c(". Observe the information about profile with "),e("code",null,"userId=1"),c(" being returned")]),e("li",null,[c("Try to "),e("a",{href:"https://learning.postman.com/docs/sending-requests/cookies/",target:"_blank",rel:"noopener"},"change the value of the cookie"),c(" to "),e("code",null,"userId=2"),c(". Observe information about "),e("code",null,"userId=2"),c(" being returned")])])],-1),c3={__name:"39",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[a3,i3]),_:1},16))}},u3=e("h1",null,"A05 Fixing it \u{1FA84}",-1),p3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("\u{1F4A1} Cookie must always be "),e("strong",null,[e("a",{href:"https://github.com/fastify/fastify-cookie",target:"_blank",rel:"noopener"},"signed")]),c(" to ensure they are not getting tampered with on client-side by an attacker")]),e("li",null,[c("It\u2019s important to use "),e("strong",null,"httpOnly"),c(" cookies to prevent the cookie being accessed through client side script")]),e("li",null,[c("Store the "),e("strong",null,"signing secret"),c(" safely.")]),e("li",null,"Don\u2019t store sentive information in cleartext")])],-1),d3={__name:"40",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[u3,p3]),_:1},16))}},f3=e("h1",null,"A05 Solution \u{1F4A1}",-1),h3={class:"dense"},y3=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"login"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/login"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"schema"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"},"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"rep"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"username"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"No matching user found"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"passwordMatch"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"password"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"passwordMatch"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"Invalid Password"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BF9763"}},"rep"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"setCookie"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"userId"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"stringify"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"id"),e("span",{style:{color:"#666666"}},"),"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"signed"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// \u{1F4A1} signing the cookie")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"httpOnly"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// http only")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"user logged in"),e("span",{style:{color:"#C98A7DAA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"login"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/login"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"schema"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"},"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"username"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"No matching user found"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"Invalid Password"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"setCookie"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"userId"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"stringify"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},"),"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"signed"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// \u{1F4A1} signing the cookie")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"httpOnly"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// http only")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"user logged in"),e("span",{style:{color:"#B56959AA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),m3={__name:"41",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[f3,e("div",h3,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[y3]),_:1},16)])]),_:1},16)}}},g3=e("h1",null,"A05 Solution \u{1F4A1} (2)",-1),v3={class:"dense"},_3=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profile"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"value"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"id"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"valid"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"unsignCookie"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"//unsign the cookie and check validity")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BF9763"}},"cookies"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BF9763"}},"userId"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"||"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"''")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"valid"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"// check if the cookie has been tampered")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"id"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profile"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"value"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"unsignCookie"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"//unsign the cookie and check validity")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"userId"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"||"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"''")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"// check if the cookie has been tampered")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"id"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),A3={__name:"42",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[g3,e("div",v3,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[_3]),_:1},16)])]),_:1},16)}}},w3=e("h1",null,"A06 Vulnerable and Outdated Components",-1),b3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Applications use a variety of components and libraries which can have security issues"),e("li",null,"Vulnerable components can be an attack vector until they are patched"),e("li",null,[c("Particularly relevant in the node.js world with an ever-growing "),e("strong",null,"NPM dependency tree")])])],-1),E3={__name:"43",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[w3,b3]),_:1},16))}},D3=e("h1",null,"A06 Common Vulnerabilities",-1),k3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Not "),e("strong",null,"tracking versions"),c(" of used components, including nested dependencies")]),e("li",null,"Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes\u2026"),e("li",null,[c("Not "),e("strong",null,"scanning for vulnerabilities"),c(" regularly and subscribing to security news for used components")]),e("li",null,"Not fixing vulnerable dependencies in a timely fashion")])],-1),B3={__name:"44",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[D3,k3]),_:1},16))}},C3=e("h1",null,"A06 How to prevent",-1),x3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Remove "),e("strong",null,"unused dependencies"),c(", unnecessary features, components, files, and documentation")]),e("li",null,"Continuously inventory the versions of components and their dependencies"),e("li",null,[c("Monitor for libraries and components that are "),e("strong",null,"unmaintained"),c(" or do not create security patches for older versions")]),e("li",null,[c("Only obtain components from "),e("strong",null,"official"),c(" sources over secure links")])])],-1),S3={__name:"45",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[C3,x3]),_:1},16))}},O3=e("h1",null,"A06 The attack \u{1F977}",-1),$3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 6 ("),e("code",null,"cd src/a06-vulnerable-outdated"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A06: Profile"),c(". Observe error "),e("code",null,"404"),c(" being returned")]),e("li",null,[c("Try to run the query for "),e("code",null,"A06: Exploit vulnerability"),c(". Observe the error message response")])])],-1),T3={__name:"46",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[O3,$3]),_:1},16))}},F3=e("h1",null,"A06 The attack (2)",-1),P3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Because of an outdated version of the HTTP client library "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici",target:"_blank",rel:"noopener"},"undici")]),c(" we can exploit a known "),e("strong",null,[e("a",{href:"https://www.cvedetails.com/cve/CVE-2022-35949/",target:"_blank",rel:"noopener"},"vulnerability")])]),e("li",null,[c("By passing the value "),e("code",null,"//127.0.0.1"),c(" in the username query param, we override the original hostname and we can make the server perform a GET to "),e("code",null,"127.0.0.1:80")])])],-1),I3={__name:"47",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[F3,P3]),_:1},16))}},R3=e("h1",null,"A06 Fixing it \u{1FA84}",-1),M3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"\u{1F4A1} Update the library to a version in which this vulnerability was fixed")])],-1),L3={__name:"48",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[R3,M3]),_:1},16))}},q3=e("h1",null,"A06 The Solution \u{1F4A1}",-1),N3={class:"dense"},j3=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"import"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"request"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"from"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"undici"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"//\u{1F4A1} updated undici version >= 5.8.1")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#4D9375"}},"^"),e("span",{style:{color:"#E6CC77"}},"\\/"),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"test"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},"))"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"        "),e("span",{style:{color:"#758575DD"}},"// check username doesn't start with /")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"({")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"origin"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://example.com"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"pathname"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"username")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"200"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"import"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"request"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"from"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"undici"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"//\u{1F4A1} updated undici version >= 5.8.1")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#1E754F"}},"^"),e("span",{style:{color:"#BDA437"}},"\\/"),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"test"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},"))"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"        "),e("span",{style:{color:"#A0ADA0"}},"// check username doesn't start with /")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"({")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"origin"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"http://example.com"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"pathname"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"200"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),H3={__name:"49",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[q3,e("div",N3,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[j3]),_:1},16)])]),_:1},16)}}},U3=e("h1",null,"A07 Identification and Authentication Failures",-1),V3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Verification of the user\u2019s identity, "),e("strong",null,"authentication"),c(", and session management is crucial to security")]),e("li",null,"Weak or vulnerable authentication systems can be exploited to gain access"),e("li",null,"Systems with broken authentication can lead to data breaches and passwords leak")])],-1),W3={__name:"50",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[U3,V3]),_:1},16))}},z3=e("h1",null,"A07 Common Vulnerabilities",-1),K3=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Application allows for credentials stuffing or brute forcing"),e("li",null,"Allows default, weak or known passwords"),e("li",null,"Exploitable credential recovery processes"),e("li",null,[c("Lack of effective "),e("strong",null,"multi-factor authentication")]),e("li",null,[c("Unencrypted or weakly encrypted "),e("strong",null,"password storage")])])],-1),Y3={__name:"51",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[z3,K3]),_:1},16))}},Z3=e("h1",null,"A07 How to prevent",-1),Q3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Where possible, implement "),e("strong",null,"multi-factor authentication")]),e("li",null,[c("Require "),e("strong",null,"strong passwords"),c(" (length, complexity, rotation policies, and don\u2019t allow leaked passwords use)")]),e("li",null,"Ensure registration and credential recovery use the same messages for all outcomes"),e("li",null,"Limit or increasingly delay failed login attempts"),e("li",null,"Use secure password data store practices (salting + hashing)")])],-1),J3={__name:"52",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Z3,Q3]),_:1},16))}},G3=e("h1",null,"A07 Allowing leaked passwords \u{1F4A7}",-1),X3=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("In 2017 the NIST "),e("strong",null,[e("a",{href:"https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value",target:"_blank",rel:"noopener"},"recommended")]),c(" that websites should check all new passwords against available lists of data breaches.")]),e("li",null,[c("This practice has been adopted by OWASP and became part of their "),e("strong",null,[e("a",{href:"https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.",target:"_blank",rel:"noopener"},"recommendation")]),c(".")]),e("li",null,[c("In the real scenario you should try to use something like "),e("strong",null,[e("a",{href:"https://haveibeenpwned.com/Passwords",target:"_blank",rel:"noopener"},"Have I Been Pwned")])])])],-1),ew={__name:"53",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[G3,X3]),_:1},16))}},tw=e("h1",null,"A07 Allowing leaked passwords \u{1F4A7} (2)",-1),nw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("In the workshop - the database contains the list of leaked passwords in "),e("code",null,"databreachrecords")]),e("li",null,[c("Run the server for step 7 ("),e("code",null,"cd src/a07-authentication-failures"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A07: Register"),c(". Observe a token is succesfully returned")]),e("li",null,[c("In the database check the "),e("code",null,"databreachrecords"),c(" table for password used in the Postman request body")])])],-1),sw={__name:"54",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[tw,nw]),_:1},16))}},ow=e("h1",null,"A07 Allowing leaked passwords \u{1F4A7} (3)",-1),lw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"It should not allow to use passwords that are known to be leaked"),e("li",null,"Instead it should require the user to set a different password indicating what is the reason"),e("li",null,[c("Place your solution in the "),e("code",null,"routes/user/index.js")]),e("li",null,[c("Test it by running "),e("code",null,"npm run verify"),c(" (it will fail initially)")])])],-1),rw={__name:"55",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[ow,lw]),_:1},16))}},aw=e("h1",null,"A07 Fixing it \u{1FA84}",-1),iw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("\u{1F4A1} Using data available in "),e("code",null,"dataBreachRecords"),c(" check if requested password is safe to use")]),e("li",null,[c("Run "),e("code",null,"sql"),c(" query inside the "),e("code",null,"/register"),c(" endpoint to check if the password is there")]),e("li",null,[c("Return a "),e("code",null,"400"),c(" error with "),e("code",null,"message"),c(" indicating the source of the leak: "),e("code",null,"'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'")])])],-1),cw={__name:"56",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[aw,iw]),_:1},16))}},uw=e("h1",null,"A07 Solution \u{1F4A1}",-1),pw={class:"dense"},dw=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"breach"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"password"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"breach"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"res"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"breach"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"source"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"password"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"res"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"breach"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"source"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),fw={__name:"57",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[uw,e("div",pw,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[dw]),_:1},16)])]),_:1},16)}}},hw=e("h1",null,"A08 Software and Data Integrity Failures",-1),yw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Code and infrastructure not protected against "),e("strong",null,"integrity violations")]),e("li",null,"Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users")])],-1),mw={__name:"58",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[hw,yw]),_:1},16))}},gw=e("h1",null,"A08 Common Vulnerabilities",-1),vw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Libraries coming from "),e("strong",null,"untrusted sources"),c(", repos or CDNs")]),e("li",null,[c("Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to "),e("strong",null,"insecure deserialization")]),e("li",null,"An insecure CI/CD pipeline"),e("li",null,"Updates downloaded without sufficient integrity verification")])],-1),_w={__name:"59",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[gw,vw]),_:1},16))}},Aw=e("h1",null,"A08 How to prevent",-1),ww=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Using digital signatures for integrity checks on data and downloaded software"),e("li",null,[c("Ensure "),e("strong",null,"npm dependencies"),c(" are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies")]),e("li",null,"Use automated tools to verify that components don\u2019t contain known vulnerabilities"),e("li",null,"Ensure there are code reviews for changes to minimise the risk of malicious code being introduced")])],-1),bw={__name:"60",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Aw,ww]),_:1},16))}},Ew=e("h1",null,"A08 Exercise: Insecure Deserialization",-1),Dw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 8 ("),e("code",null,"cd src/a08-software-data-integrity-failures"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, try to run the query for "),e("code",null,"A08: Get profile from cookie"),c(". There is a cookie attached to the request "),e("code",null,"/profile"),c(" containing the user\u2019s profile encoded as base64. Observe the request "),e("code",null,"status code 500"),c(" being returned")]),e("li",null,[c("This is happening because the server is deserializing a "),e("code",null,"cookie containing a malicious JavaScript"),c(" code which is forcing the server to throw an exception")])])],-1),kw={__name:"61",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Ew,Dw]),_:1},16))}},Bw=e("h1",null,"A08 Exercise: Insecure Deserialization",-1),Cw={class:"dense"},xw=e("ul",null,[e("li",null,[c("When decoding the cookie attached to the "),e("code",null,"/profile"),c(" request, this is what the output looks like:")])],-1),Sw=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// base64 to ASCII")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"id"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"1"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"username"),e("span",{style:{color:"#666666"}},":")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},'"'),e("span",{style:{color:"#C98A7D"}},"_$$ND_FUNC$$_function () {"),e("span",{style:{color:"#C99076"}},"\\n"),e("span",{style:{color:"#C98A7D"}},"    throw new Error('server error')"),e("span",{style:{color:"#C99076"}},"\\n"),e("span",{style:{color:"#C98A7D"}},"  }()"),e("span",{style:{color:"#C98A7DAA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// base64 to ASCII")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"id"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"1"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"username"),e("span",{style:{color:"#999999"}},":")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},'"'),e("span",{style:{color:"#B56959"}},"_$$ND_FUNC$$_function () {"),e("span",{style:{color:"#A65E2B"}},"\\n"),e("span",{style:{color:"#B56959"}},"    throw new Error('server error')"),e("span",{style:{color:"#A65E2B"}},"\\n"),e("span",{style:{color:"#B56959"}},"  }()"),e("span",{style:{color:"#B56959AA"}},'"')]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Ow=e("ul",null,[e("li",null,[c("Note that there is an "),e("code",null,"IIFE"),c(" at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization")]),e("li",null,[c("The full step by step to serialize a JavaScript code and inject it as a cookie can be found "),e("a",{href:"https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/",target:"_blank",rel:"noopener"},"in this article")])],-1),$w={__name:"62",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[Bw,e("div",Cw,[xw,Q(l,Ie({},{ranges:[""]}),{default:T(()=>[Sw]),_:1},16),Ow])]),_:1},16)}}},Tw=e("h1",null,"A08 Fixing it \u{1FA84}",-1),Fw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the automated tests for step 8 - "),e("code",null,"npm run verify")]),e("li",null,"The tests fail because the server shouldn\u2019t trust a library that provides a way to deserialize strings into executable JavaScript code"),e("li",null,[c("Untrusted data passed into "),e("code",null,"unserialize()"),c(" function in "),e("code",null,"node-serialize"),c(" module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)")]),e("li",null,[c("\u{1F4A1} "),e("code",null,"JSON.parse"),c(" is a safer way to deserialize data")])])],-1),Pw={__name:"63",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Tw,Fw]),_:1},16))}},Iw=e("h1",null,"A08 Solution \u{1F4A1}",-1),Rw={class:"dense"},Mw=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"solution"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"cookieAsStr"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"Buffer"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"from"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"cookies"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"base64"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},")."),e("span",{style:{color:"#80A665"}},"toString"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"ascii"),e("span",{style:{color:"#C98A7DAA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"parse"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"cookieAsStr"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"+"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello guest"),e("span",{style:{color:"#C98A7DAA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"solution"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"Buffer"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"from"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"base64"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},")."),e("span",{style:{color:"#59873A"}},"toString"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"ascii"),e("span",{style:{color:"#B56959AA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"parse"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"Hello "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"+"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"Hello guest"),e("span",{style:{color:"#B56959AA"}},"'")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Lw={__name:"64",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[Iw,e("div",Rw,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[Mw]),_:1},16)])]),_:1},16)}}},qw=e("h1",null,"A09 Security Logging and Monitoring Failures",-1),Nw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Proper logging and monitoring is "),e("strong",null,"critical"),c(" to detecting and responding to breaches")]),e("li",null,"It is important for alerting, accountability, visibility and forensics of security incidents")])],-1),jw={__name:"65",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[qw,Nw]),_:1},16))}},Hw=e("h1",null,"A09 Common Vulnerabilities",-1),Uw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Auditable events, such as logins, failed logins, and "),e("strong",null,"high-value transactions"),c(", are not logged")]),e("li",null,"Warnings and errors generate no, inadequate, or unclear log messages"),e("li",null,[c("Logs of applications and APIs are not monitored for "),e("strong",null,"suspicious activity")]),e("li",null,"The application cannot detect, escalate, or alert for active attacks in real-time or near real-time")])],-1),Vw={__name:"66",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Hw,Uw]),_:1},16))}},Ww=e("h1",null,"A09 How to prevent",-1),zw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Ensure all login, access control, and server-side input validation failures can be logged with "),e("strong",null,"sufficient user context"),c(" to identify suspicious or malicious accounts")]),e("li",null,"Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems"),e("li",null,"Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.")])],-1),Kw={__name:"67",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Ww,zw]),_:1},16))}},Yw=e("h1",null,"A09 Suspicious activity \u{1F928}",-1),Zw=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 5 ("),e("code",null,"cd src/a09-security-logging"),c(", "),e("code",null,"npm run verify"),c(")")]),e("li",null,[c("You can observe a log message "),e("code",null,"something suspicious is happening")]),e("li",null,[c("Note that the application is using a vulnerable version of the http client "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3",target:"_blank",rel:"noopener"},"undici")])])])],-1),Qw={__name:"68",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Yw,Zw]),_:1},16))}},Jw=e("h1",null,"A09 Fixing it \u{1FA84}",-1),Gw=e("div",{class:"dense"},[e("ul",null,[e("li",null,"\u{1F4A1} Log user input to identify suspicious or malicious access"),e("li",null,"Validate user input")])],-1),Xw={__name:"69",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Jw,Gw]),_:1},16))}},eb=e("h1",null,"A09 Solution \u{1F4A1}",-1),tb={class:"dense"},nb=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// profile route handler")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"console"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"log"),e("span",{style:{color:"#666666"}},"({")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// add context to logs to help identify the user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"input"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"headerCharRegex"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#C4704F"}}," "),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#CB7676"}},"^"),e("span",{style:{color:"#C99076"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#666666"}},"]"),e("span",{style:{color:"#C98A7DAA"}},"/"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate user input")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"headerCharRegex"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"exec"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},"])"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"null"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://localhost:3001"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"method"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"GET"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"headers"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// profile route handler")]),c(`
`),e("span",{class:"line"}),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"console"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"log"),e("span",{style:{color:"#999999"}},"({")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// add context to logs to help identify the user")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"input"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#AB5E3F"}}," "),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#AB5959"}},"^"),e("span",{style:{color:"#A65E2B"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#999999"}},"]"),e("span",{style:{color:"#B56959AA"}},"/"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate user input")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"exec"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},"])"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"null"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"http://localhost:3001"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"method"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"GET"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"headers"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),sb={__name:"70",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[eb,e("div",tb,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[nb]),_:1},16)])]),_:1},16)}}},ob=e("h1",null,"A10 Server Side Request Forgery",-1),lb=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("SSRF flaws occur whenever a web application is fetching a remote resource without "),e("strong",null,"validating"),c(" the user-supplied URL")]),e("li",null,[c("It allows an attacker to coerce the application to send a crafted request to an "),e("strong",null,"unexpected destination"),c(", even when protected by a firewall, VPN, or another type of network access control list")])])],-1),rb={__name:"71",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[ob,lb]),_:1},16))}},ab=e("h1",null,"A10 How to prevent",-1),ib=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("strong",null,"Sanitize and validate"),c(" all client-supplied input data")]),e("li",null,"Enforce the URL schema, port, and destination with a positive allow list"),e("li",null,"Do not send raw responses to clients"),e("li",null,"Disable HTTP redirections"),e("li",null,"\u2757 Do not mitigate SSRF via the use of a deny list or regular expression")])],-1),cb={__name:"72",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[ab,ib]),_:1},16))}},ub=e("h1",null,"A10 The Attack \u{1F977}",-1),pb=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("Run the server for step 10 ("),e("code",null,"cd src/a10-server-side-request-forgery"),c(", "),e("code",null,"npm start"),c(")")]),e("li",null,[c("In Postman, run the query for "),e("code",null,"A10: Upload Image"),c(". Observe an image being returned")]),e("li",null,[c("Try to run the query for "),e("code",null,"A10: Malicious Image url"),c(". Observe "),e("code",null,"something suspicious is happening"),c(" being returned")]),e("li",null,"The server is not sanitizing user input so it will send a request to whatever url provided in the payload")])],-1),db={__name:"73",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[ub,pb]),_:1},16))}},fb=e("h1",null,"A10 Fixing it \u{1FA84}",-1),hb=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Sanitize the url making sure it\u2019s valid"),e("li",null,[c("Create a whitelist of allowed domains by adding them in the database column "),e("code",null,"allowedImageDomain")]),e("li",null,"\u{1F4A1} Make sure the requested domain is in the whitelist")])],-1),yb={__name:"74",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[fb,hb]),_:1},16))}},mb=e("h1",null,"A10 Solution \u{1F4A1}",-1),gb={class:"dense"},vb=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark",style:{"background-color":"#121212"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profilePicture"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#C98A7D"}},"/user/image"),e("span",{style:{color:"#C98A7DAA"}},"'"),e("span",{style:{color:"#666666"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"imgUrl"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"url"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"validateUrl"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"imgUrl"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate url using the URL object")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#BF9763"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BF9763"}},"whitelisted"),e("span",{style:{color:"#666666"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7DAA"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"hostname"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7DAA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BF9763"}},"whitelisted"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Forbidden"),e("span",{style:{color:"#666666"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"data"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"axios"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BF9763"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BF9763"}},"href"),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BF9763"}},"data")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light",style:{"background-color":"#ffffff"}},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profilePicture"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#B56959"}},"/user/image"),e("span",{style:{color:"#B56959AA"}},"'"),e("span",{style:{color:"#999999"}},",")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"validateUrl"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate url using the URL object")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},"]")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B56959AA"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"hostname"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959AA"}},"`")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Forbidden"),e("span",{style:{color:"#999999"}},"()")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"axios"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"href"),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),c(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),_b={__name:"75",setup(t){const n={};return S(P),(s,o)=>{const l=Ke;return A(),F(U,H(j(n)),{default:T(()=>[mb,e("div",gb,[Q(l,Ie({},{ranges:[""]}),{default:T(()=>[vb]),_:1},16)])]),_:1},16)}}},Ab=e("h1",null,"Beyond the Top 10",-1),wb=e("div",{class:"dense"},[e("ul",null,[e("li",null,"The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing"),e("li",null,"By its nature, the Top 10 is a series of guidelines but can\u2019t be tested easily as its applications are broad"),e("li",null,[c("On the other hand the "),e("a",{href:"https://owasp.org/www-project-application-security-verification-standard/",target:"_blank",rel:"noopener"},"OWASP Application Security Verification Standard"),c(" is a comprehensive list of security criteria")]),e("li",null,"Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail")])],-1),bb={__name:"76",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Ab,wb]),_:1},16))}},Eb=e("h1",null,"Other useful OWASP resources",-1),Db=e("div",{class:"dense"},[e("ul",null,[e("li",null,[c("The "),e("a",{href:"https://cheatsheetseries.owasp.org",target:"_blank",rel:"noopener"},"OWASP Cheat Sheet Series"),c(" provides condensed information on specific security topics related to OWASP standards")]),e("li",null,[c("The "),e("a",{href:"https://owaspsamm.org",target:"_blank",rel:"noopener"},"OWASP Software Assurance Maturity Model"),c(" can help an organization analyze and improve their software security")])])],-1),kb={__name:"77",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Eb,Db]),_:1},16))}},Bb=e("h1",null,"Thanks For Having Us!",-1),Cb=e("h2",null,"\u{1F44F}\u{1F44F}\u{1F44F}",-1),xb={__name:"78",setup(t){const n={};return S(P),(s,o)=>(A(),F(U,H(j(n)),{default:T(()=>[Bb,Cb]),_:1},16))}},Sb=[{path:"1",name:"page-1",component:n_,meta:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop",slide:{raw:`---
theme: slidev-theme-nearform
layout: default
highlighter: shiki
lineNumbers: false
---

<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

\xA9 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>
`,title:"OWASP Top Ten Security Vulnerabilities Workshop",level:1,content:`<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

\xA9 Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>`,frontmatter:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop"},index:0,start:0,end:19,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:l_,meta:{slide:{raw:`
# Introduction: OWASP \u{1F41D}

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>
`,title:"Introduction: OWASP \u{1F41D}",level:1,content:`# Introduction: OWASP \u{1F41D}

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>`,frontmatter:{},index:1,start:20,end:31,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:i_,meta:{slide:{raw:`
# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>
`,title:"Introduction: OWASP Top Ten",level:1,content:`# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>`,frontmatter:{},index:2,start:32,end:42,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:p_,meta:{slide:{raw:`
# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The \u{1F4A1} icon indicates hints

</div>
`,title:"Workshop Setup",level:1,content:`# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The \u{1F4A1} icon indicates hints

</div>`,frontmatter:{},index:3,start:43,end:56,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:Q0,meta:{slide:{raw:`
# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>
`,title:"Getting setup",level:1,content:`# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>`,frontmatter:{},index:4,start:57,end:84,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:nA,meta:{slide:{raw:`
# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000
`,title:"Running the modules",level:1,content:`# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000`,frontmatter:{},index:5,start:85,end:106,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:lA,meta:{slide:{raw:`
# Testing the vulnerabilities

<div class="dense">

- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests
- The \`postman\` folder contains a collection that can be imported into Postman to easily send those requests
- The Postman collection is pre-logged in with user \`alice\`. The \`Bearer token\` is set that represents \`alice\`.

</div>
`,title:"Testing the vulnerabilities",level:1,content:'# Testing the vulnerabilities\n\n<div class="dense">\n\n- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests\n- The `postman` folder contains a collection that can be imported into Postman to easily send those requests\n- The Postman collection is pre-logged in with user `alice`. The `Bearer token` is set that represents `alice`.\n\n</div>',frontmatter:{},index:6,start:107,end:118,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:iA,meta:{slide:{raw:`
# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>
`,title:"Automated testing",level:1,content:`# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>`,frontmatter:{},index:7,start:119,end:130,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:pA,meta:{slide:{raw:`
# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>
`,title:"A01 Broken Access Control",level:1,content:`# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>`,frontmatter:{},index:8,start:131,end:141,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:hA,meta:{slide:{raw:`
# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>
`,title:"A01 Common vulnerabilities",level:1,content:`# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>`,frontmatter:{},index:9,start:142,end:154,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:gA,meta:{slide:{raw:`
# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>
`,title:"A01 How to Prevent",level:1,content:`# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>`,frontmatter:{},index:10,start:155,end:166,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:EA,meta:{slide:{raw:`
# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>
`,title:"A01 Exercise",level:1,content:`# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>`,frontmatter:{},index:11,start:167,end:189,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:SA,meta:{slide:{raw:`
# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>
`,title:"A01 The problem",level:1,content:`# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>`,frontmatter:{},index:12,start:190,end:211,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:TA,meta:{slide:{raw:`
# A01 Fixing it \u{1FA84}

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
- \u{1F4A1} The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>
`,title:"A01 Fixing it \u{1FA84}",level:1,content:`# A01 Fixing it \u{1FA84}

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
- \u{1F4A1} The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>`,frontmatter:{},index:13,start:212,end:224,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:MA,meta:{slide:{raw:`
# A01 Solution \u{1F4A1}

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username // \u{1F4A1} We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>
`,title:"A01 Solution \u{1F4A1}",level:1,content:`# A01 Solution \u{1F4A1}

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username // \u{1F4A1} We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>`,frontmatter:{},index:14,start:225,end:248,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:NA,meta:{slide:{raw:`
# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>
`,title:"A02 Cryptographic Failures",level:1,content:`# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>`,frontmatter:{},index:15,start:249,end:261,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:UA,meta:{slide:{raw:`
# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 \u26A0\uFE0F**
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>
`,title:"A02 Common vulnerabilities",level:1,content:`# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 \u26A0\uFE0F**
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>`,frontmatter:{},index:16,start:262,end:274,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:zA,meta:{slide:{raw:`
# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git \u26A0\uFE0F**)
- Disable caching for responses that contain sensitive data

</div>
`,title:"A02 How to Prevent",level:1,content:`# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git \u26A0\uFE0F**)
- Disable caching for responses that contain sensitive data

</div>`,frontmatter:{},index:17,start:275,end:287,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:JA,meta:{slide:{raw:`
# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (encrypted in md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>
`,title:"A02 A weak hashing algorithm",level:1,content:`# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (encrypted in md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>`,frontmatter:{},index:18,start:288,end:311,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:e1,meta:{slide:{raw:`
# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's encrypted password
- With this encrypted password hash, try to find the original unencrypted password Alice created
- the Postman collection contains requests for doing the queries
- \u{1F4A1} There are websites to decrypt md5

</div>
`,title:"A02 The problem",level:1,content:`# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's encrypted password
- With this encrypted password hash, try to find the original unencrypted password Alice created
- the Postman collection contains requests for doing the queries
- \u{1F4A1} There are websites to decrypt md5

</div>`,frontmatter:{},index:19,start:312,end:324,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:s1,meta:{slide:{raw:`
# A02 Fixing it \u{1FA84}

<div class="dense">

- md5 encryption is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the encryption used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>
`,title:"A02 Fixing it \u{1FA84}",level:1,content:`# A02 Fixing it \u{1FA84}

<div class="dense">

- md5 encryption is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the encryption used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>`,frontmatter:{},index:20,start:325,end:337,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:a1,meta:{slide:{raw:`
# A02 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
// utils/encryption.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function encryptPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>
`,title:"A02 Solution \u{1F4A1}",level:1,content:`# A02 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
// utils/encryption.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function encryptPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>`,frontmatter:{},index:21,start:338,end:356,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:p1,meta:{slide:{raw:`
# A02 Solution \u{1F4A1} (2)

<div class="dense">

\`\`\`js
// utils/encryption.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>
`,title:"A02 Solution \u{1F4A1} (2)",level:1,content:`# A02 Solution \u{1F4A1} (2)

<div class="dense">

\`\`\`js
// utils/encryption.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>`,frontmatter:{},index:22,start:357,end:371,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:h1,meta:{slide:{raw:`
# A03 Injection \u{1F489}

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>
`,title:"A03 Injection \u{1F489}",level:1,content:`# A03 Injection \u{1F489}

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>`,frontmatter:{},index:23,start:372,end:384,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:g1,meta:{slide:{raw:`
# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>
`,title:"A03 Common vulnerabilities",level:1,content:`# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>`,frontmatter:{},index:24,start:385,end:396,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:A1,meta:{slide:{raw:`
# A03 Attack

<div class="dense">

- Run the server for step 3 (\`cd src/a03-injection\`, \`npm start\`)
- In Postman, run the query for \`A03: Get customer by name\`. Observe the data for \`name: "alice"\` being returned
- Try to run the query for \`A03: SQL Injection\`. Observe all the customers being returned
- The query param value \`' OR '1'='1\` takes advantage of the unsafe string concatenation to create this SQL query
  \`SELECT * FROM customers WHERE name='' OR '1'='1'\` which will return every record in the table

</div>
`,title:"A03 Attack",level:1,content:"# A03 Attack\n\n<div class=\"dense\">\n\n- Run the server for step 3 (`cd src/a03-injection`, `npm start`)\n- In Postman, run the query for `A03: Get customer by name`. Observe the data for `name: \"alice\"` being returned\n- Try to run the query for `A03: SQL Injection`. Observe all the customers being returned\n- The query param value `' OR '1'='1` takes advantage of the unsafe string concatenation to create this SQL query\n  `SELECT * FROM customers WHERE name='' OR '1'='1'` which will return every record in the table\n\n</div>",frontmatter:{},index:25,start:397,end:410,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:E1,meta:{slide:{raw:`
# A03 Fixing it \u{1FA84}

<div class="dense">

- \u{1F4A1} Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>
`,title:"A03 Fixing it \u{1FA84}",level:1,content:`# A03 Fixing it \u{1FA84}

<div class="dense">

- \u{1F4A1} Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>`,frontmatter:{},index:26,start:411,end:423,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:x1,meta:{slide:{raw:`
# A03 Solution \u{1F4A1}

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>
`,title:"A03 Solution \u{1F4A1}",level:1,content:`# A03 Solution \u{1F4A1}

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:27,start:424,end:453,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:$1,meta:{slide:{raw:`
# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>
`,title:"A04 Insecure Design",level:1,content:`# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>`,frontmatter:{},index:28,start:454,end:466,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:P1,meta:{slide:{raw:`
# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>
`,title:"A04 Examples",level:1,content:`# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>`,frontmatter:{},index:29,start:467,end:478,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",name:"page-31",component:M1,meta:{slide:{raw:`
# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>
`,title:"A04 How to prevent",level:1,content:`# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>`,frontmatter:{},index:30,start:479,end:491,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:30,no:31},__clicksElements:[],__preloaded:!1}},{path:"32",name:"page-32",component:N1,meta:{slide:{raw:`
# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>
`,title:"A04 Exercise",level:1,content:`# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>`,frontmatter:{},index:31,start:492,end:502,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:31,no:32},__clicksElements:[],__preloaded:!1}},{path:"33",name:"page-33",component:U1,meta:{slide:{raw:`
# A04 Scalping

<div class="dense">

- Run the server for step 4 (\`cd src/a04-insecure-design\`, \`npm start\`)
- In Postman, run the query for \`A04: Buy product\`. Observe the data for \`success: true\` being returned
- Run the query many times in a row in a short period of time
- Notice that there is no protection against multiple sequential purchases
</div>
`,title:"A04 Scalping",level:1,content:'# A04 Scalping\n\n<div class="dense">\n\n- Run the server for step 4 (`cd src/a04-insecure-design`, `npm start`)\n- In Postman, run the query for `A04: Buy product`. Observe the data for `success: true` being returned\n- Run the query many times in a row in a short period of time\n- Notice that there is no protection against multiple sequential purchases\n</div>',frontmatter:{},index:32,start:503,end:514,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:32,no:33},__clicksElements:[],__preloaded:!1}},{path:"34",name:"page-34",component:z1,meta:{slide:{raw:`
# A04 Fixing it \u{1FA84}

<div class="dense">

- Prefer using rate limiter for your routes
- \u{1F4A1} Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>
`,title:"A04 Fixing it \u{1FA84}",level:1,content:`# A04 Fixing it \u{1FA84}

<div class="dense">

- Prefer using rate limiter for your routes
- \u{1F4A1} Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>`,frontmatter:{},index:33,start:515,end:527,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:33,no:34},__clicksElements:[],__preloaded:!1}},{path:"35",name:"page-35",component:J1,meta:{slide:{raw:`
# A04 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>
`,title:"A04 Solution \u{1F4A1}",level:1,content:`# A04 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:34,start:528,end:560,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:34,no:35},__clicksElements:[],__preloaded:!1}},{path:"36",name:"page-36",component:e3,meta:{slide:{raw:`
# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>
`,title:"A05 Security Misconfiguration",level:1,content:`# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>`,frontmatter:{},index:35,start:561,end:572,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:35,no:36},__clicksElements:[],__preloaded:!1}},{path:"37",name:"page-37",component:s3,meta:{slide:{raw:`
# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>
`,title:"A05 Common Vulnerabilities",level:1,content:`# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>`,frontmatter:{},index:36,start:573,end:586,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:36,no:37},__clicksElements:[],__preloaded:!1}},{path:"38",name:"page-38",component:r3,meta:{slide:{raw:`
# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>
`,title:"A05 How to prevent",level:1,content:`# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>`,frontmatter:{},index:37,start:587,end:600,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:37,no:38},__clicksElements:[],__preloaded:!1}},{path:"39",name:"page-39",component:c3,meta:{slide:{raw:'\n# A05 Unsigned Cookies \u{1F36A}\n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>\n',title:"A05 Unsigned Cookies \u{1F36A}",level:1,content:'# A05 Unsigned Cookies \u{1F36A}\n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>',frontmatter:{},index:38,start:601,end:613,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:38,no:39},__clicksElements:[],__preloaded:!1}},{path:"40",name:"page-40",component:d3,meta:{slide:{raw:`
# A05 Fixing it \u{1FA84}

<div class="dense">

- \u{1F4A1} Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>
`,title:"A05 Fixing it \u{1FA84}",level:1,content:`# A05 Fixing it \u{1FA84}

<div class="dense">

- \u{1F4A1} Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>`,frontmatter:{},index:39,start:614,end:626,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:39,no:40},__clicksElements:[],__preloaded:!1}},{path:"41",name:"page-41",component:m3,meta:{slide:{raw:`
# A05 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, // \u{1F4A1} signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>
`,title:"A05 Solution \u{1F4A1}",level:1,content:`# A05 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, // \u{1F4A1} signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>`,frontmatter:{},index:40,start:627,end:659,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:40,no:41},__clicksElements:[],__preloaded:!1}},{path:"42",name:"page-42",component:A3,meta:{slide:{raw:`
# A05 Solution \u{1F4A1} (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>
`,title:"A05 Solution \u{1F4A1} (2)",level:1,content:`# A05 Solution \u{1F4A1} (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>`,frontmatter:{},index:41,start:660,end:692,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:41,no:42},__clicksElements:[],__preloaded:!1}},{path:"43",name:"page-43",component:E3,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>
`,title:"A06 Vulnerable and Outdated Components",level:1,content:`# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>`,frontmatter:{},index:42,start:693,end:704,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:42,no:43},__clicksElements:[],__preloaded:!1}},{path:"44",name:"page-44",component:B3,meta:{slide:{raw:`
# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>
`,title:"A06 Common Vulnerabilities",level:1,content:`# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>`,frontmatter:{},index:43,start:705,end:717,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:43,no:44},__clicksElements:[],__preloaded:!1}},{path:"45",name:"page-45",component:S3,meta:{slide:{raw:`
# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>
`,title:"A06 How to prevent",level:1,content:`# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>`,frontmatter:{},index:44,start:718,end:730,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:44,no:45},__clicksElements:[],__preloaded:!1}},{path:"46",name:"page-46",component:T3,meta:{slide:{raw:'\n# A06 The attack \u{1F977}\n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>\n',title:"A06 The attack \u{1F977}",level:1,content:'# A06 The attack \u{1F977}\n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>',frontmatter:{},index:45,start:731,end:741,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:45,no:46},__clicksElements:[],__preloaded:!1}},{path:"47",name:"page-47",component:I3,meta:{slide:{raw:`
# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>
`,title:"A06 The attack (2)",level:1,content:`# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>`,frontmatter:{},index:46,start:742,end:751,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:46,no:47},__clicksElements:[],__preloaded:!1}},{path:"48",name:"page-48",component:L3,meta:{slide:{raw:`
# A06 Fixing it \u{1FA84}

<div class="dense">

- \u{1F4A1} Update the library to a version in which this vulnerability was fixed

</div>
`,title:"A06 Fixing it \u{1FA84}",level:1,content:`# A06 Fixing it \u{1FA84}

<div class="dense">

- \u{1F4A1} Update the library to a version in which this vulnerability was fixed

</div>`,frontmatter:{},index:47,start:752,end:761,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:47,no:48},__clicksElements:[],__preloaded:!1}},{path:"49",name:"page-49",component:H3,meta:{slide:{raw:`
# A06 The Solution \u{1F4A1}

<div class="dense">

\`\`\`js
import { request } from 'undici' //\u{1F4A1} updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>
`,title:"A06 The Solution \u{1F4A1}",level:1,content:`# A06 The Solution \u{1F4A1}

<div class="dense">

\`\`\`js
import { request } from 'undici' //\u{1F4A1} updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:48,start:762,end:796,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:48,no:49},__clicksElements:[],__preloaded:!1}},{path:"50",name:"page-50",component:W3,meta:{slide:{raw:`
# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>
`,title:"A07 Identification and Authentication Failures",level:1,content:`# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>`,frontmatter:{},index:49,start:797,end:808,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:49,no:50},__clicksElements:[],__preloaded:!1}},{path:"51",name:"page-51",component:Y3,meta:{slide:{raw:`
# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>
`,title:"A07 Common Vulnerabilities",level:1,content:`# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>`,frontmatter:{},index:50,start:809,end:822,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:50,no:51},__clicksElements:[],__preloaded:!1}},{path:"52",name:"page-52",component:J3,meta:{slide:{raw:`
# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>
`,title:"A07 How to prevent",level:1,content:`# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>`,frontmatter:{},index:51,start:823,end:836,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:51,no:52},__clicksElements:[],__preloaded:!1}},{path:"53",name:"page-53",component:ew,meta:{slide:{raw:`
# A07 Allowing leaked passwords \u{1F4A7}

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>
`,title:"A07 Allowing leaked passwords \u{1F4A7}",level:1,content:`# A07 Allowing leaked passwords \u{1F4A7}

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>`,frontmatter:{},index:52,start:837,end:848,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:52,no:53},__clicksElements:[],__preloaded:!1}},{path:"54",name:"page-54",component:sw,meta:{slide:{raw:`
# A07 Allowing leaked passwords \u{1F4A7} (2)

<div class="dense">

- In the workshop - the database contains the list of leaked passwords in \`databreachrecords\`
- Run the server for step 7 (\`cd src/a07-authentication-failures\`, \`npm start\`)
- In Postman, run the query for \`A07: Register\`. Observe a token is succesfully returned
- In the database check the \`databreachrecords\` table for password used in the Postman request body

</div>
`,title:"A07 Allowing leaked passwords \u{1F4A7} (2)",level:1,content:'# A07 Allowing leaked passwords \u{1F4A7} (2)\n\n<div class="dense">\n\n- In the workshop - the database contains the list of leaked passwords in `databreachrecords`\n- Run the server for step 7 (`cd src/a07-authentication-failures`, `npm start`)\n- In Postman, run the query for `A07: Register`. Observe a token is succesfully returned\n- In the database check the `databreachrecords` table for password used in the Postman request body\n\n</div>',frontmatter:{},index:53,start:849,end:861,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:53,no:54},__clicksElements:[],__preloaded:!1}},{path:"55",name:"page-55",component:rw,meta:{slide:{raw:`
# A07 Allowing leaked passwords \u{1F4A7} (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>
`,title:"A07 Allowing leaked passwords \u{1F4A7} (3)",level:1,content:`# A07 Allowing leaked passwords \u{1F4A7} (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>`,frontmatter:{},index:54,start:862,end:874,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:54,no:55},__clicksElements:[],__preloaded:!1}},{path:"56",name:"page-56",component:cw,meta:{slide:{raw:"\n# A07 Fixing it \u{1FA84}\n\n<div class=\"dense\">\n\n- \u{1F4A1} Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>\n",title:"A07 Fixing it \u{1FA84}",level:1,content:"# A07 Fixing it \u{1FA84}\n\n<div class=\"dense\">\n\n- \u{1F4A1} Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>",frontmatter:{},index:55,start:875,end:886,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:55,no:56},__clicksElements:[],__preloaded:!1}},{path:"57",name:"page-57",component:fw,meta:{slide:{raw:`
# A07 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>
`,title:"A07 Solution \u{1F4A1}",level:1,content:`# A07 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>`,frontmatter:{},index:56,start:887,end:910,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:56,no:57},__clicksElements:[],__preloaded:!1}},{path:"58",name:"page-58",component:mw,meta:{slide:{raw:`
# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>
`,title:"A08 Software and Data Integrity Failures",level:1,content:`# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>`,frontmatter:{},index:57,start:911,end:921,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:57,no:58},__clicksElements:[],__preloaded:!1}},{path:"59",name:"page-59",component:_w,meta:{slide:{raw:`
# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>
`,title:"A08 Common Vulnerabilities",level:1,content:`# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>`,frontmatter:{},index:58,start:922,end:934,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:58,no:59},__clicksElements:[],__preloaded:!1}},{path:"60",name:"page-60",component:bw,meta:{slide:{raw:`
# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>
`,title:"A08 How to prevent",level:1,content:`# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>`,frontmatter:{},index:59,start:935,end:947,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:59,no:60},__clicksElements:[],__preloaded:!1}},{path:"61",name:"page-61",component:kw,meta:{slide:{raw:'\n# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>\n',title:"A08 Exercise: Insecure Deserialization",level:1,content:'# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>',frontmatter:{},index:60,start:948,end:959,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:60,no:61},__clicksElements:[],__preloaded:!1}},{path:"62",name:"page-62",component:$w,meta:{slide:{raw:`
# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>
`,title:"A08 Exercise: Insecure Deserialization",level:1,content:`# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>`,frontmatter:{},index:61,start:960,end:981,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:61,no:62},__clicksElements:[],__preloaded:!1}},{path:"63",name:"page-63",component:Pw,meta:{slide:{raw:`
# A08 Fixing it \u{1FA84}

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
- \u{1F4A1} \`JSON.parse\` is a safer way to deserialize data

</div>
`,title:"A08 Fixing it \u{1FA84}",level:1,content:`# A08 Fixing it \u{1FA84}

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
- \u{1F4A1} \`JSON.parse\` is a safer way to deserialize data

</div>`,frontmatter:{},index:62,start:982,end:994,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:62,no:63},__clicksElements:[],__preloaded:!1}},{path:"64",name:"page-64",component:Lw,meta:{slide:{raw:`
# A08 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>
`,title:"A08 Solution \u{1F4A1}",level:1,content:`# A08 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>`,frontmatter:{},index:63,start:995,end:1020,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:63,no:64},__clicksElements:[],__preloaded:!1}},{path:"65",name:"page-65",component:jw,meta:{slide:{raw:`
# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>
`,title:"A09 Security Logging and Monitoring Failures",level:1,content:`# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>`,frontmatter:{},index:64,start:1021,end:1031,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:64,no:65},__clicksElements:[],__preloaded:!1}},{path:"66",name:"page-66",component:Vw,meta:{slide:{raw:`
# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>
`,title:"A09 Common Vulnerabilities",level:1,content:`# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>`,frontmatter:{},index:65,start:1032,end:1044,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:65,no:66},__clicksElements:[],__preloaded:!1}},{path:"67",name:"page-67",component:Kw,meta:{slide:{raw:`
# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>
`,title:"A09 How to prevent",level:1,content:`# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>`,frontmatter:{},index:66,start:1045,end:1056,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:66,no:67},__clicksElements:[],__preloaded:!1}},{path:"68",name:"page-68",component:Qw,meta:{slide:{raw:`
# A09 Suspicious activity \u{1F928}

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>
`,title:"A09 Suspicious activity \u{1F928}",level:1,content:`# A09 Suspicious activity \u{1F928}

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>`,frontmatter:{},index:67,start:1057,end:1068,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:67,no:68},__clicksElements:[],__preloaded:!1}},{path:"69",name:"page-69",component:Xw,meta:{slide:{raw:`
# A09 Fixing it \u{1FA84}

<div class="dense">

- \u{1F4A1} Log user input to identify suspicious or malicious access
- Validate user input

</div>
`,title:"A09 Fixing it \u{1FA84}",level:1,content:`# A09 Fixing it \u{1FA84}

<div class="dense">

- \u{1F4A1} Log user input to identify suspicious or malicious access
- Validate user input

</div>`,frontmatter:{},index:68,start:1069,end:1079,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:68,no:69},__clicksElements:[],__preloaded:!1}},{path:"70",name:"page-70",component:sb,meta:{slide:{raw:`
# A09 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>
`,title:"A09 Solution \u{1F4A1}",level:1,content:`# A09 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>`,frontmatter:{},index:69,start:1080,end:1109,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:69,no:70},__clicksElements:[],__preloaded:!1}},{path:"71",name:"page-71",component:rb,meta:{slide:{raw:`
# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>
`,title:"A10 Server Side Request Forgery",level:1,content:`# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>`,frontmatter:{},index:70,start:1110,end:1120,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:70,no:71},__clicksElements:[],__preloaded:!1}},{path:"72",name:"page-72",component:cb,meta:{slide:{raw:`
# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
- \u2757 Do not mitigate SSRF via the use of a deny list or regular expression

</div>
`,title:"A10 How to prevent",level:1,content:`# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
- \u2757 Do not mitigate SSRF via the use of a deny list or regular expression

</div>`,frontmatter:{},index:71,start:1121,end:1134,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:71,no:72},__clicksElements:[],__preloaded:!1}},{path:"73",name:"page-73",component:db,meta:{slide:{raw:`
# A10 The Attack \u{1F977}

<div class="dense">

- Run the server for step 10 (\`cd src/a10-server-side-request-forgery\`, \`npm start\`)
- In Postman, run the query for \`A10: Upload Image\`. Observe an image being returned
- Try to run the query for \`A10: Malicious Image url\`. Observe \`something suspicious is happening\` being returned
- The server is not sanitizing user input so it will send a request to whatever url provided in the payload

</div>
`,title:"A10 The Attack \u{1F977}",level:1,content:'# A10 The Attack \u{1F977}\n\n<div class="dense">\n\n- Run the server for step 10 (`cd src/a10-server-side-request-forgery`, `npm start`)\n- In Postman, run the query for `A10: Upload Image`. Observe an image being returned\n- Try to run the query for `A10: Malicious Image url`. Observe `something suspicious is happening` being returned\n- The server is not sanitizing user input so it will send a request to whatever url provided in the payload\n\n</div>',frontmatter:{},index:72,start:1135,end:1147,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:72,no:73},__clicksElements:[],__preloaded:!1}},{path:"74",name:"page-74",component:yb,meta:{slide:{raw:`
# A10 Fixing it \u{1FA84}

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
- \u{1F4A1} Make sure the requested domain is in the whitelist

</div>
`,title:"A10 Fixing it \u{1FA84}",level:1,content:`# A10 Fixing it \u{1FA84}

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
- \u{1F4A1} Make sure the requested domain is in the whitelist

</div>`,frontmatter:{},index:73,start:1148,end:1159,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:73,no:74},__clicksElements:[],__preloaded:!1}},{path:"75",name:"page-75",component:_b,meta:{slide:{raw:`
# A10 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>
`,title:"A10 Solution \u{1F4A1}",level:1,content:`# A10 Solution \u{1F4A1}

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:74,start:1160,end:1192,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:74,no:75},__clicksElements:[],__preloaded:!1}},{path:"76",name:"page-76",component:bb,meta:{slide:{raw:`
# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>
`,title:"Beyond the Top 10",level:1,content:`# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>`,frontmatter:{},index:75,start:1193,end:1205,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:75,no:76},__clicksElements:[],__preloaded:!1}},{path:"77",name:"page-77",component:kb,meta:{slide:{raw:`
# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>
`,title:"Other useful OWASP resources",level:1,content:`# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>`,frontmatter:{},index:76,start:1206,end:1216,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:76,no:77},__clicksElements:[],__preloaded:!1}},{path:"78",name:"page-78",component:xb,meta:{slide:{raw:`
# Thanks For Having Us!

## \u{1F44F}\u{1F44F}\u{1F44F}
`,title:"Thanks For Having Us!",level:1,content:`# Thanks For Having Us!

## \u{1F44F}\u{1F44F}\u{1F44F}`,frontmatter:{},index:77,start:1217,end:1222,notesHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:77,no:78},__clicksElements:[],__preloaded:!1}},{path:"79",component:Yv,meta:{layout:"end"}}],Ue=Sb,Ob=[{name:"play",path:"/",component:Nv,children:[...Ue]},{name:"print",path:"/print",component:Wv},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}},{name:"presenter",path:"/presenter/:no",component:()=>us(()=>import("./Presenter.e4d61b14.js"),["assets/Presenter.e4d61b14.js","assets/Presenter.2b62ea14.css","assets/DrawingControls.vue_vue_type_script_setup_true_lang.a427bb88.js"]),beforeEnter:t=>{if(!bn.remote||bn.remote===t.query.password)return!0;if(bn.remote&&t.query.password===void 0){const n=prompt("Enter password");if(bn.remote===n)return!0}return t.params.no?{path:`/${t.params.no}`}:{path:""}}},{path:"/presenter",redirect:{path:"/presenter/1"}}],mt=$m({history:K9("/owasp-top-ten-workshop/"),routes:Ob});function $b(t,n,{mode:s="replace"}={}){return O({get(){const o=mt.currentRoute.value.query[t];return o==null?n!=null?n:null:Array.isArray(o)?o.filter(Boolean):o},set(o){Je(()=>{mt[E(s)]({query:{...mt.currentRoute.value.query,[t]:o}})})}})}const up=K(0);Je(()=>{mt.afterEach(async()=>{await Je(),up.value+=1})});const Zt=O(()=>mt.currentRoute.value),Zr=O(()=>Zt.value.query.print!==void 0),Tb=O(()=>Zt.value.query.print==="clicks"),Ht=O(()=>Zt.value.query.embedded!==void 0),Rt=O(()=>Zt.value.path.startsWith("/presenter")),$s=O(()=>Zr.value&&!Tb.value),or=O(()=>Zt.value.query.password),Fb=O(()=>!Rt.value&&(!we.remote||or.value===we.remote)),zi=$b("clicks","0"),pp=O(()=>Ue.length-1),Pb=O(()=>Zt.value.path),Ve=O(()=>parseInt(Pb.value.split(/\//g).slice(-1)[0])||1);O(()=>Go(Ve.value));const dt=O(()=>Ue.find(t=>t.path===`${Ve.value}`));O(()=>{var t,n,s;return(s=(n=(t=dt.value)==null?void 0:t.meta)==null?void 0:n.slide)==null?void 0:s.id});O(()=>{var t,n;return(n=(t=dt.value)==null?void 0:t.meta)==null?void 0:n.layout});const gl=O(()=>Ue.find(t=>t.path===`${Math.min(Ue.length,Ve.value+1)}`)),Ib=O(()=>{var t,n;return up.value,((n=(t=dt.value)==null?void 0:t.meta)==null?void 0:n.__clicksElements)||[]}),St=O({get(){if($s.value)return 99999;let t=+(zi.value||0);return isNaN(t)&&(t=0),t},set(t){zi.value=t.toString()}}),To=O(()=>{var t,n,s;return+((s=(n=(t=dt.value)==null?void 0:t.meta)==null?void 0:n.clicks)!=null?s:Ib.value.length)}),Rb=O(()=>Ve.value<Ue.length-1||St.value<To.value),Mb=O(()=>Ve.value>1||St.value>0),Lb=O(()=>Ue.filter(t=>{var n,s;return(s=(n=t.meta)==null?void 0:n.slide)==null?void 0:s.title}).reduce((t,n)=>(Qr(t,n),t),[])),qb=O(()=>Jr(Lb.value,dt.value));O(()=>Gr(qb.value));function ln(){To.value<=St.value?zs():St.value+=1}async function rn(){St.value<=0?await Ks():St.value-=1}function Go(t){return Rt.value?`/presenter/${t}`:`/${t}`}function zs(){const t=Math.min(Ue.length,Ve.value+1);return ls(t)}async function Ks(t=!0){const n=Math.max(1,Ve.value-1);await ls(n),t&&To.value&&mt.replace({query:{...Zt.value.query,clicks:To.value}})}function ls(t,n){return mt.push({path:Go(t),query:{...Zt.value.query,clicks:n}})}function Nb(t){const n=K(0),{direction:s,distanceX:o,distanceY:l}=_9(t,{onSwipeStart(r){r.pointerType==="touch"&&(Us.value||(n.value=Ul()))},onSwipeEnd(r){if(r.pointerType!=="touch"||!n.value||Us.value)return;const a=Math.abs(o.value),i=Math.abs(l.value);a/window.innerWidth>.3||a>100?s.value===Wt.LEFT?ln():rn():(i/window.innerHeight>.4||i>200)&&(s.value===Wt.DOWN?Ks():zs())}})}async function lr(){const{saveAs:t}=await us(()=>import("./FileSaver.min.7f56e709.js").then(n=>n.F),[]);t(vu(we.download)?we.download:we.exportFilename?`${we.exportFilename}.pdf`:"/owasp-top-ten-workshop/slidev-exported.pdf",`${we.title}.pdf`)}async function jb(t){var n,s;if(t==null){const o=(s=(n=dt.value)==null?void 0:n.meta)==null?void 0:s.slide;if(!(o!=null&&o.filepath))return!1;t=`${o.filepath}:${o.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(t)}`),!0}function Qr(t,n,s=1){var l,r,a,i,u;const o=(r=(l=n.meta)==null?void 0:l.slide)==null?void 0:r.level;o&&o>s&&t.length>0?Qr(t[t.length-1].children,n,s+1):t.push({children:[],level:s,path:n.path,hideInToc:Boolean((a=n.meta)==null?void 0:a.hideInToc),title:(u=(i=n.meta)==null?void 0:i.slide)==null?void 0:u.title})}function Jr(t,n,s=!1,o){return t.map(l=>{const r={...l,active:l.path===(n==null?void 0:n.path),hasActiveParent:s};return r.children.length>0&&(r.children=Jr(r.children,n,r.active||r.hasActiveParent,r)),o&&(r.active||r.activeParent)&&(o.activeParent=!0),r})}function Gr(t,n=1){return t.filter(s=>!s.hideInToc).map(s=>({...s,children:Gr(s.children,n+1)}))}function Hb(){const t=we.titleTemplate.replace("%s",we.title||"Slidev");gy({title:t}),By(`${t} - shared`),Oy(`${t} - drawings`);function n(){Rt.value&&(ei("page",+Ve.value),ei("clicks",St.value))}mt.afterEach(n),de(St,n),Cy(s=>{(+s.page!=+Ve.value||St.value!==s.clicks)&&mt.replace({path:Go(s.page),query:{...mt.currentRoute.value.query,clicks:s.clicks||0}})})}const Ub=xe({__name:"App",setup(t){return S(P),Hb(),(n,s)=>{const o=Eo("RouterView"),l=Eo("StarportCarrier");return A(),J(Be,null,[Q(o),Q(l)],64)}}});function vl(t){return t!==null&&typeof t=="object"}function rr(t,n,s=".",o){if(!vl(n))return rr(t,{},s,o);const l=Object.assign({},n);for(const r in t){if(r==="__proto__"||r==="constructor")continue;const a=t[r];a!=null&&(o&&o(l,r,a,s)||(Array.isArray(a)&&Array.isArray(l[r])?l[r]=a.concat(l[r]):vl(a)&&vl(l[r])?l[r]=rr(a,l[r],(s?`${s}.`:"")+r.toString(),o):l[r]=a))}return l}function Vb(t){return(...n)=>n.reduce((s,o)=>rr(s,o,"",t),{})}const Wb=Vb(),dp=1/60*1e3,zb=typeof performance<"u"?()=>performance.now():()=>Date.now(),fp=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(zb()),dp);function Kb(t){let n=[],s=[],o=0,l=!1,r=!1;const a=new WeakSet,i={schedule:(u,p=!1,d=!1)=>{const f=d&&l,h=f?n:s;return p&&a.add(u),h.indexOf(u)===-1&&(h.push(u),f&&l&&(o=n.length)),u},cancel:u=>{const p=s.indexOf(u);p!==-1&&s.splice(p,1),a.delete(u)},process:u=>{if(l){r=!0;return}if(l=!0,[n,s]=[s,n],s.length=0,o=n.length,o)for(let p=0;p<o;p++){const d=n[p];d(u),a.has(d)&&(i.schedule(d),t())}l=!1,r&&(r=!1,i.process(u))}};return i}const Yb=40;let ar=!0,Ys=!1,ir=!1;const Xn={delta:0,timestamp:0},Gs=["read","update","preRender","render","postRender"],Xo=Gs.reduce((t,n)=>(t[n]=Kb(()=>Ys=!0),t),{}),cr=Gs.reduce((t,n)=>{const s=Xo[n];return t[n]=(o,l=!1,r=!1)=>(Ys||Jb(),s.schedule(o,l,r)),t},{}),Zb=Gs.reduce((t,n)=>(t[n]=Xo[n].cancel,t),{});Gs.reduce((t,n)=>(t[n]=()=>Xo[n].process(Xn),t),{});const Qb=t=>Xo[t].process(Xn),hp=t=>{Ys=!1,Xn.delta=ar?dp:Math.max(Math.min(t-Xn.timestamp,Yb),1),Xn.timestamp=t,ir=!0,Gs.forEach(Qb),ir=!1,Ys&&(ar=!1,fp(hp))},Jb=()=>{Ys=!0,ar=!0,ir||fp(hp)},yp=()=>Xn;function mp(t,n){var s={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,o=Object.getOwnPropertySymbols(t);l<o.length;l++)n.indexOf(o[l])<0&&Object.prototype.propertyIsEnumerable.call(t,o[l])&&(s[o[l]]=t[o[l]]);return s}var Gb=function(){},Ki=function(){};const ur=(t,n,s)=>Math.min(Math.max(s,t),n),_l=.001,Xb=.01,Yi=10,eE=.05,tE=1;function nE({duration:t=800,bounce:n=.25,velocity:s=0,mass:o=1}){let l,r;Gb(t<=Yi*1e3);let a=1-n;a=ur(eE,tE,a),t=ur(Xb,Yi,t/1e3),a<1?(l=p=>{const d=p*a,f=d*t,h=d-s,m=pr(p,a),y=Math.exp(-f);return _l-h/m*y},r=p=>{const f=p*a*t,h=f*s+s,m=Math.pow(a,2)*Math.pow(p,2)*t,y=Math.exp(-f),_=pr(Math.pow(p,2),a);return(-l(p)+_l>0?-1:1)*((h-m)*y)/_}):(l=p=>{const d=Math.exp(-p*t),f=(p-s)*t+1;return-_l+d*f},r=p=>{const d=Math.exp(-p*t),f=(s-p)*(t*t);return d*f});const i=5/t,u=oE(l,r,i);if(t=t*1e3,isNaN(u))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(u,2)*o;return{stiffness:p,damping:a*2*Math.sqrt(o*p),duration:t}}}const sE=12;function oE(t,n,s){let o=s;for(let l=1;l<sE;l++)o=o-t(o)/n(o);return o}function pr(t,n){return t*Math.sqrt(1-n*n)}const lE=["duration","bounce"],rE=["stiffness","damping","mass"];function Zi(t,n){return n.some(s=>t[s]!==void 0)}function aE(t){let n=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Zi(t,rE)&&Zi(t,lE)){const s=nE(t);n=Object.assign(Object.assign(Object.assign({},n),s),{velocity:0,mass:1}),n.isResolvedFromDuration=!0}return n}function Xr(t){var{from:n=0,to:s=1,restSpeed:o=2,restDelta:l}=t,r=mp(t,["from","to","restSpeed","restDelta"]);const a={done:!1,value:n};let{stiffness:i,damping:u,mass:p,velocity:d,duration:f,isResolvedFromDuration:h}=aE(r),m=Qi,y=Qi;function _(){const w=d?-(d/1e3):0,b=s-n,k=u/(2*Math.sqrt(i*p)),D=Math.sqrt(i/p)/1e3;if(l===void 0&&(l=Math.min(Math.abs(s-n)/100,.4)),k<1){const C=pr(D,k);m=M=>{const L=Math.exp(-k*D*M);return s-L*((w+k*D*b)/C*Math.sin(C*M)+b*Math.cos(C*M))},y=M=>{const L=Math.exp(-k*D*M);return k*D*L*(Math.sin(C*M)*(w+k*D*b)/C+b*Math.cos(C*M))-L*(Math.cos(C*M)*(w+k*D*b)-C*b*Math.sin(C*M))}}else if(k===1)m=C=>s-Math.exp(-D*C)*(b+(w+D*b)*C);else{const C=D*Math.sqrt(k*k-1);m=M=>{const L=Math.exp(-k*D*M),V=Math.min(C*M,300);return s-L*((w+k*D*b)*Math.sinh(V)+C*b*Math.cosh(V))/C}}}return _(),{next:w=>{const b=m(w);if(h)a.done=w>=f;else{const k=y(w)*1e3,D=Math.abs(k)<=o,C=Math.abs(s-b)<=l;a.done=D&&C}return a.value=a.done?s:b,a},flipTarget:()=>{d=-d,[n,s]=[s,n],_()}}}Xr.needsInterpolation=(t,n)=>typeof t=="string"||typeof n=="string";const Qi=t=>0,gp=(t,n,s)=>{const o=n-t;return o===0?1:(s-t)/o},ea=(t,n,s)=>-s*t+s*n+t,vp=(t,n)=>s=>Math.max(Math.min(s,n),t),Ts=t=>t%1?Number(t.toFixed(5)):t,Zs=/(-)?([\d]*\.?[\d])+/g,dr=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,iE=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Xs(t){return typeof t=="string"}const eo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fs=Object.assign(Object.assign({},eo),{transform:vp(0,1)}),uo=Object.assign(Object.assign({},eo),{default:1}),ta=t=>({test:n=>Xs(n)&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),fn=ta("deg"),Ps=ta("%"),ie=ta("px"),Ji=Object.assign(Object.assign({},Ps),{parse:t=>Ps.parse(t)/100,transform:t=>Ps.transform(t*100)}),na=(t,n)=>s=>Boolean(Xs(s)&&iE.test(s)&&s.startsWith(t)||n&&Object.prototype.hasOwnProperty.call(s,n)),_p=(t,n,s)=>o=>{if(!Xs(o))return o;const[l,r,a,i]=o.match(Zs);return{[t]:parseFloat(l),[n]:parseFloat(r),[s]:parseFloat(a),alpha:i!==void 0?parseFloat(i):1}},Dn={test:na("hsl","hue"),parse:_p("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:s,alpha:o=1})=>"hsla("+Math.round(t)+", "+Ps.transform(Ts(n))+", "+Ps.transform(Ts(s))+", "+Ts(Fs.transform(o))+")"},cE=vp(0,255),Al=Object.assign(Object.assign({},eo),{transform:t=>Math.round(cE(t))}),tn={test:na("rgb","red"),parse:_p("red","green","blue"),transform:({red:t,green:n,blue:s,alpha:o=1})=>"rgba("+Al.transform(t)+", "+Al.transform(n)+", "+Al.transform(s)+", "+Ts(Fs.transform(o))+")"};function uE(t){let n="",s="",o="",l="";return t.length>5?(n=t.substr(1,2),s=t.substr(3,2),o=t.substr(5,2),l=t.substr(7,2)):(n=t.substr(1,1),s=t.substr(2,1),o=t.substr(3,1),l=t.substr(4,1),n+=n,s+=s,o+=o,l+=l),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:l?parseInt(l,16)/255:1}}const fr={test:na("#"),parse:uE,transform:tn.transform},at={test:t=>tn.test(t)||fr.test(t)||Dn.test(t),parse:t=>tn.test(t)?tn.parse(t):Dn.test(t)?Dn.parse(t):fr.parse(t),transform:t=>Xs(t)?t:t.hasOwnProperty("red")?tn.transform(t):Dn.transform(t)},Ap="${c}",wp="${n}";function pE(t){var n,s,o,l;return isNaN(t)&&Xs(t)&&((s=(n=t.match(Zs))===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0)+((l=(o=t.match(dr))===null||o===void 0?void 0:o.length)!==null&&l!==void 0?l:0)>0}function bp(t){typeof t=="number"&&(t=`${t}`);const n=[];let s=0;const o=t.match(dr);o&&(s=o.length,t=t.replace(dr,Ap),n.push(...o.map(at.parse)));const l=t.match(Zs);return l&&(t=t.replace(Zs,wp),n.push(...l.map(eo.parse))),{values:n,numColors:s,tokenised:t}}function Ep(t){return bp(t).values}function Dp(t){const{values:n,numColors:s,tokenised:o}=bp(t),l=n.length;return r=>{let a=o;for(let i=0;i<l;i++)a=a.replace(i<s?Ap:wp,i<s?at.transform(r[i]):Ts(r[i]));return a}}const dE=t=>typeof t=="number"?0:t;function fE(t){const n=Ep(t);return Dp(t)(n.map(dE))}const to={test:pE,parse:Ep,createTransformer:Dp,getAnimatableNone:fE},hE=new Set(["brightness","contrast","saturate","opacity"]);function yE(t){let[n,s]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[o]=s.match(Zs)||[];if(!o)return t;const l=s.replace(o,"");let r=hE.has(n)?1:0;return o!==s&&(r*=100),n+"("+r+l+")"}const mE=/([a-z-]*)\(.*?\)/g,hr=Object.assign(Object.assign({},to),{getAnimatableNone:t=>{const n=t.match(mE);return n?n.map(yE).join(" "):t}});function wl(t,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(n-t)*6*s:s<1/2?n:s<2/3?t+(n-t)*(2/3-s)*6:t}function Gi({hue:t,saturation:n,lightness:s,alpha:o}){t/=360,n/=100,s/=100;let l=0,r=0,a=0;if(!n)l=r=a=s;else{const i=s<.5?s*(1+n):s+n-s*n,u=2*s-i;l=wl(u,i,t+1/3),r=wl(u,i,t),a=wl(u,i,t-1/3)}return{red:Math.round(l*255),green:Math.round(r*255),blue:Math.round(a*255),alpha:o}}const gE=(t,n,s)=>{const o=t*t,l=n*n;return Math.sqrt(Math.max(0,s*(l-o)+o))},vE=[fr,tn,Dn],Xi=t=>vE.find(n=>n.test(t)),kp=(t,n)=>{let s=Xi(t),o=Xi(n),l=s.parse(t),r=o.parse(n);s===Dn&&(l=Gi(l),s=tn),o===Dn&&(r=Gi(r),o=tn);const a=Object.assign({},l);return i=>{for(const u in a)u!=="alpha"&&(a[u]=gE(l[u],r[u],i));return a.alpha=ea(l.alpha,r.alpha,i),s.transform(a)}},_E=t=>typeof t=="number",AE=(t,n)=>s=>n(t(s)),Bp=(...t)=>t.reduce(AE);function Cp(t,n){return _E(t)?s=>ea(t,n,s):at.test(t)?kp(t,n):Sp(t,n)}const xp=(t,n)=>{const s=[...t],o=s.length,l=t.map((r,a)=>Cp(r,n[a]));return r=>{for(let a=0;a<o;a++)s[a]=l[a](r);return s}},wE=(t,n)=>{const s=Object.assign(Object.assign({},t),n),o={};for(const l in s)t[l]!==void 0&&n[l]!==void 0&&(o[l]=Cp(t[l],n[l]));return l=>{for(const r in o)s[r]=o[r](l);return s}};function ec(t){const n=to.parse(t),s=n.length;let o=0,l=0,r=0;for(let a=0;a<s;a++)o||typeof n[a]=="number"?o++:n[a].hue!==void 0?r++:l++;return{parsed:n,numNumbers:o,numRGB:l,numHSL:r}}const Sp=(t,n)=>{const s=to.createTransformer(n),o=ec(t),l=ec(n);return o.numHSL===l.numHSL&&o.numRGB===l.numRGB&&o.numNumbers>=l.numNumbers?Bp(xp(o.parsed,l.parsed),s):a=>`${a>0?n:t}`},bE=(t,n)=>s=>ea(t,n,s);function EE(t){if(typeof t=="number")return bE;if(typeof t=="string")return at.test(t)?kp:Sp;if(Array.isArray(t))return xp;if(typeof t=="object")return wE}function DE(t,n,s){const o=[],l=s||EE(t[0]),r=t.length-1;for(let a=0;a<r;a++){let i=l(t[a],t[a+1]);if(n){const u=Array.isArray(n)?n[a]:n;i=Bp(u,i)}o.push(i)}return o}function kE([t,n],[s]){return o=>s(gp(t,n,o))}function BE(t,n){const s=t.length,o=s-1;return l=>{let r=0,a=!1;if(l<=t[0]?a=!0:l>=t[o]&&(r=o-1,a=!0),!a){let u=1;for(;u<s&&!(t[u]>l||u===o);u++);r=u-1}const i=gp(t[r],t[r+1],l);return n[r](i)}}function Op(t,n,{clamp:s=!0,ease:o,mixer:l}={}){const r=t.length;Ki(r===n.length),Ki(!o||!Array.isArray(o)||o.length===r-1),t[0]>t[r-1]&&(t=[].concat(t),n=[].concat(n),t.reverse(),n.reverse());const a=DE(n,o,l),i=r===2?kE(t,a):BE(t,a);return s?u=>i(ur(t[0],t[r-1],u)):i}const el=t=>n=>1-t(1-n),sa=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,CE=t=>n=>Math.pow(n,t),$p=t=>n=>n*n*((t+1)*n-t),xE=t=>{const n=$p(t);return s=>(s*=2)<1?.5*n(s):.5*(2-Math.pow(2,-10*(s-1)))},Tp=1.525,SE=4/11,OE=8/11,$E=9/10,Fp=t=>t,oa=CE(2),TE=el(oa),Pp=sa(oa),Ip=t=>1-Math.sin(Math.acos(t)),Rp=el(Ip),FE=sa(Rp),la=$p(Tp),PE=el(la),IE=sa(la),RE=xE(Tp),ME=4356/361,LE=35442/1805,qE=16061/1805,Fo=t=>{if(t===1||t===0)return t;const n=t*t;return t<SE?7.5625*n:t<OE?9.075*n-9.9*t+3.4:t<$E?ME*n-LE*t+qE:10.8*t*t-20.52*t+10.72},NE=el(Fo),jE=t=>t<.5?.5*(1-Fo(1-t*2)):.5*Fo(t*2-1)+.5;function HE(t,n){return t.map(()=>n||Pp).splice(0,t.length-1)}function UE(t){const n=t.length;return t.map((s,o)=>o!==0?o/(n-1):0)}function VE(t,n){return t.map(s=>s*n)}function vo({from:t=0,to:n=1,ease:s,offset:o,duration:l=300}){const r={done:!1,value:t},a=Array.isArray(n)?n:[t,n],i=VE(o&&o.length===a.length?o:UE(a),l);function u(){return Op(i,a,{ease:Array.isArray(s)?s:HE(a,s)})}let p=u();return{next:d=>(r.value=p(d),r.done=d>=l,r),flipTarget:()=>{a.reverse(),p=u()}}}function WE({velocity:t=0,from:n=0,power:s=.8,timeConstant:o=350,restDelta:l=.5,modifyTarget:r}){const a={done:!1,value:n};let i=s*t;const u=n+i,p=r===void 0?u:r(u);return p!==u&&(i=p-n),{next:d=>{const f=-i*Math.exp(-d/o);return a.done=!(f>l||f<-l),a.value=a.done?p:p+f,a},flipTarget:()=>{}}}const tc={keyframes:vo,spring:Xr,decay:WE};function zE(t){if(Array.isArray(t.to))return vo;if(tc[t.type])return tc[t.type];const n=new Set(Object.keys(t));return n.has("ease")||n.has("duration")&&!n.has("dampingRatio")?vo:n.has("dampingRatio")||n.has("stiffness")||n.has("mass")||n.has("damping")||n.has("restSpeed")||n.has("restDelta")?Xr:vo}function Mp(t,n,s=0){return t-n-s}function KE(t,n,s=0,o=!0){return o?Mp(n+-t,n,s):n-(t-n)+s}function YE(t,n,s,o){return o?t>=n+s:t<=-s}const ZE=t=>{const n=({delta:s})=>t(s);return{start:()=>cr.update(n,!0),stop:()=>Zb.update(n)}};function Lp(t){var n,s,{from:o,autoplay:l=!0,driver:r=ZE,elapsed:a=0,repeat:i=0,repeatType:u="loop",repeatDelay:p=0,onPlay:d,onStop:f,onComplete:h,onRepeat:m,onUpdate:y}=t,_=mp(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:w}=_,b,k=0,D=_.duration,C,M=!1,L=!0,V;const te=zE(_);!((s=(n=te).needsInterpolation)===null||s===void 0)&&s.call(n,o,w)&&(V=Op([0,100],[o,w],{clamp:!1}),o=0,w=100);const pe=te(Object.assign(Object.assign({},_),{from:o,to:w}));function fe(){k++,u==="reverse"?(L=k%2===0,a=KE(a,D,p,L)):(a=Mp(a,D,p),u==="mirror"&&pe.flipTarget()),M=!1,m&&m()}function _e(){b.stop(),h&&h()}function We(Re){if(L||(Re=-Re),a+=Re,!M){const $e=pe.next(Math.max(0,a));C=$e.value,V&&(C=V(C)),M=L?$e.done:a<=0}y==null||y(C),M&&(k===0&&(D!=null||(D=a)),k<i?YE(a,D,p,L)&&fe():_e())}function je(){d==null||d(),b=r(We),b.start()}return l&&je(),{stop:()=>{f==null||f(),b.stop()}}}function qp(t,n){return n?t*(1e3/n):0}function QE({from:t=0,velocity:n=0,min:s,max:o,power:l=.8,timeConstant:r=750,bounceStiffness:a=500,bounceDamping:i=10,restDelta:u=1,modifyTarget:p,driver:d,onUpdate:f,onComplete:h,onStop:m}){let y;function _(D){return s!==void 0&&D<s||o!==void 0&&D>o}function w(D){return s===void 0?o:o===void 0||Math.abs(s-D)<Math.abs(o-D)?s:o}function b(D){y==null||y.stop(),y=Lp(Object.assign(Object.assign({},D),{driver:d,onUpdate:C=>{var M;f==null||f(C),(M=D.onUpdate)===null||M===void 0||M.call(D,C)},onComplete:h,onStop:m}))}function k(D){b(Object.assign({type:"spring",stiffness:a,damping:i,restDelta:u},D))}if(_(t))k({from:t,velocity:n,to:w(t)});else{let D=l*n+t;typeof p<"u"&&(D=p(D));const C=w(D),M=C===s?-1:1;let L,V;const te=pe=>{L=V,V=pe,n=qp(pe-L,yp().delta),(M===1&&pe>C||M===-1&&pe<C)&&k({from:pe,to:C,velocity:n})};b({type:"decay",from:t,velocity:n,timeConstant:r,power:l,restDelta:u,modifyTarget:p,onUpdate:_(D)?te:void 0})}return{stop:()=>y==null?void 0:y.stop()}}const Np=(t,n)=>1-3*n+3*t,jp=(t,n)=>3*n-6*t,Hp=t=>3*t,Po=(t,n,s)=>((Np(n,s)*t+jp(n,s))*t+Hp(n))*t,Up=(t,n,s)=>3*Np(n,s)*t*t+2*jp(n,s)*t+Hp(n),JE=1e-7,GE=10;function XE(t,n,s,o,l){let r,a,i=0;do a=n+(s-n)/2,r=Po(a,o,l)-t,r>0?s=a:n=a;while(Math.abs(r)>JE&&++i<GE);return a}const e7=8,t7=.001;function n7(t,n,s,o){for(let l=0;l<e7;++l){const r=Up(n,s,o);if(r===0)return n;n-=(Po(n,s,o)-t)/r}return n}const _o=11,po=1/(_o-1);function s7(t,n,s,o){if(t===n&&s===o)return Fp;const l=new Float32Array(_o);for(let a=0;a<_o;++a)l[a]=Po(a*po,t,s);function r(a){let i=0,u=1;const p=_o-1;for(;u!==p&&l[u]<=a;++u)i+=po;--u;const d=(a-l[u])/(l[u+1]-l[u]),f=i+d*po,h=Up(f,t,s);return h>=t7?n7(a,f,t,s):h===0?f:XE(a,i,i+po,t,s)}return a=>a===0||a===1?a:Po(r(a),n,o)}const bl={};class o7{constructor(){this.subscriptions=new Set}add(n){return this.subscriptions.add(n),()=>this.subscriptions.delete(n)}notify(n,s,o){if(!!this.subscriptions.size)for(const l of this.subscriptions)l(n,s,o)}clear(){this.subscriptions.clear()}}const nc=t=>!isNaN(parseFloat(t));class l7{constructor(n){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new o7,this.canTrackVelocity=!1,this.updateAndNotify=s=>{this.prev=this.current,this.current=s;const{delta:o,timestamp:l}=yp();this.lastUpdated!==l&&(this.timeDelta=o,this.lastUpdated=l),cr.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>cr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{this.canTrackVelocity||(this.canTrackVelocity=nc(this.current)),s!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=n,this.canTrackVelocity=nc(this.current)}onChange(n){return this.updateSubscribers.add(n)}clearListeners(){this.updateSubscribers.clear()}set(n){this.updateAndNotify(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?qp(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(n){return this.stop(),new Promise(s=>{const{stop:o}=n(s);this.stopAnimation=o}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function r7(t){return new l7(t)}const{isArray:a7}=Array;function i7(){const t=K({}),n=o=>{const l=r=>{!t.value[r]||(t.value[r].stop(),t.value[r].destroy(),delete t.value[r])};o?a7(o)?o.forEach(l):l(o):Object.keys(t.value).forEach(l)},s=(o,l,r)=>{if(t.value[o])return t.value[o];const a=r7(l);return a.onChange(i=>r[o]=i),t.value[o]=a,a};return Vh(n),{motionValues:t,get:s,stop:n}}const c7=t=>Array.isArray(t),hn=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),El=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),u7=t=>({type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}),Dl=()=>({type:"keyframes",ease:"linear",duration:300}),p7=t=>({type:"keyframes",duration:800,values:t}),sc={default:u7,x:hn,y:hn,z:hn,rotate:hn,rotateX:hn,rotateY:hn,rotateZ:hn,scaleX:El,scaleY:El,scale:El,backgroundColor:Dl,color:Dl,opacity:Dl},Vp=(t,n)=>{let s;return c7(n)?s=p7:s=sc[t]||sc.default,{to:n,...s(n)}},oc={...eo,transform:Math.round},Wp={color:at,backgroundColor:at,outlineColor:at,fill:at,stroke:at,borderColor:at,borderTopColor:at,borderRightColor:at,borderBottomColor:at,borderLeftColor:at,borderWidth:ie,borderTopWidth:ie,borderRightWidth:ie,borderBottomWidth:ie,borderLeftWidth:ie,borderRadius:ie,radius:ie,borderTopLeftRadius:ie,borderTopRightRadius:ie,borderBottomRightRadius:ie,borderBottomLeftRadius:ie,width:ie,maxWidth:ie,height:ie,maxHeight:ie,size:ie,top:ie,right:ie,bottom:ie,left:ie,padding:ie,paddingTop:ie,paddingRight:ie,paddingBottom:ie,paddingLeft:ie,margin:ie,marginTop:ie,marginRight:ie,marginBottom:ie,marginLeft:ie,rotate:fn,rotateX:fn,rotateY:fn,rotateZ:fn,scale:uo,scaleX:uo,scaleY:uo,scaleZ:uo,skew:fn,skewX:fn,skewY:fn,distance:ie,translateX:ie,translateY:ie,translateZ:ie,x:ie,y:ie,z:ie,perspective:ie,transformPerspective:ie,opacity:Fs,originX:Ji,originY:Ji,originZ:ie,zIndex:oc,filter:hr,WebkitFilter:hr,fillOpacity:Fs,strokeOpacity:Fs,numOctaves:oc},ra=t=>Wp[t],zp=(t,n)=>n&&typeof t=="number"&&n.transform?n.transform(t):t;function d7(t,n){let s=ra(t);return s!==hr&&(s=to),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const f7={linear:Fp,easeIn:oa,easeInOut:Pp,easeOut:TE,circIn:Ip,circInOut:FE,circOut:Rp,backIn:la,backInOut:IE,backOut:PE,anticipate:RE,bounceIn:NE,bounceInOut:jE,bounceOut:Fo},lc=t=>{if(Array.isArray(t)){const[n,s,o,l]=t;return s7(n,s,o,l)}else if(typeof t=="string")return f7[t];return t},h7=t=>Array.isArray(t)&&typeof t[0]!="number",rc=(t,n)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&to.test(n)&&!n.startsWith("url("));function y7(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function m7({ease:t,times:n,delay:s,...o}){const l={...o};return n&&(l.offset=n),t&&(l.ease=h7(t)?t.map(lc):lc(t)),s&&(l.elapsed=-s),l}function g7(t,n,s){return Array.isArray(n.to)&&(t.duration||(t.duration=800)),y7(n),v7(t)||(t={...t,...Vp(s,n.to)}),{...n,...m7(t)}}function v7({delay:t,repeat:n,repeatType:s,repeatDelay:o,from:l,...r}){return!!Object.keys(r).length}function _7(t,n){return t[n]||t.default||t}function A7(t,n,s,o,l){const r=_7(o,t);let a=r.from===null||r.from===void 0?n.get():r.from;const i=rc(t,s);a==="none"&&i&&typeof s=="string"&&(a=d7(t,s));const u=rc(t,a);function p(f){const h={from:a,to:s,velocity:o.velocity?o.velocity:n.getVelocity(),onUpdate:m=>n.set(m)};return r.type==="inertia"||r.type==="decay"?QE({...h,...r}):Lp({...g7(r,h,t),onUpdate:m=>{h.onUpdate(m),r.onUpdate&&r.onUpdate(m)},onComplete:()=>{o.onComplete&&o.onComplete(),l&&l(),f&&f()}})}function d(f){return n.set(s),o.onComplete&&o.onComplete(),l&&l(),f&&f(),{stop:()=>{}}}return!u||!i||r.type===!1?d:p}function w7(){const{motionValues:t,stop:n,get:s}=i7();return{motionValues:t,stop:n,push:(l,r,a,i={},u)=>{const p=a[l],d=s(l,p,a);if(i&&i.immediate){d.set(r);return}const f=A7(l,d,r,i,u);d.start(f)}}}function b7(t,n={},{motionValues:s,push:o,stop:l}=w7()){const r=E(n),a=K(!1);de(s,f=>{a.value=Object.values(f).filter(h=>h.isAnimating()).length>0},{immediate:!0,deep:!0});const i=f=>{if(!r||!r[f])throw new Error(`The variant ${f} does not exist.`);return r[f]},u=f=>(typeof f=="string"&&(f=i(f)),Promise.all(Object.entries(f).map(([h,m])=>{if(h!=="transition")return new Promise(y=>{o(h,m,t,f.transition||Vp(h,f[h]),y)})}).filter(Boolean)));return{isAnimating:a,apply:u,set:f=>{const h=Hl(f)?f:i(f);Object.entries(h).forEach(([m,y])=>{m!=="transition"&&o(m,y,t,{immediate:!0})})},leave:async f=>{let h;if(r&&(r.leave&&(h=r.leave),!r.leave&&r.initial&&(h=r.initial)),!h){f();return}await u(h),f()},stop:l}}const aa=typeof window<"u",E7=()=>aa&&window.onpointerdown===null,D7=()=>aa&&window.ontouchstart===null,k7=()=>aa&&window.onmousedown===null;function B7({target:t,state:n,variants:s,apply:o}){const l=E(s),r=K(!1),a=K(!1),i=K(!1),u=O(()=>{let d=[];return l&&(l.hovered&&(d=[...d,...Object.keys(l.hovered)]),l.tapped&&(d=[...d,...Object.keys(l.tapped)]),l.focused&&(d=[...d,...Object.keys(l.focused)])),d}),p=O(()=>{const d={};Object.assign(d,n.value),r.value&&l.hovered&&Object.assign(d,l.hovered),a.value&&l.tapped&&Object.assign(d,l.tapped),i.value&&l.focused&&Object.assign(d,l.focused);for(const f in d)u.value.includes(f)||delete d[f];return d});l.hovered&&(ue(t,"mouseenter",()=>r.value=!0),ue(t,"mouseleave",()=>{r.value=!1,a.value=!1}),ue(t,"mouseout",()=>{r.value=!1,a.value=!1})),l.tapped&&(k7()&&(ue(t,"mousedown",()=>a.value=!0),ue(t,"mouseup",()=>a.value=!1)),E7()&&(ue(t,"pointerdown",()=>a.value=!0),ue(t,"pointerup",()=>a.value=!1)),D7()&&(ue(t,"touchstart",()=>a.value=!0),ue(t,"touchend",()=>a.value=!1))),l.focused&&(ue(t,"focus",()=>i.value=!0),ue(t,"blur",()=>i.value=!1)),de(p,o)}function C7({set:t,target:n,apply:s,variants:o,variant:l}){const r=E(o);de(()=>n,()=>{!r||(r.initial&&t("initial"),r.enter&&(l.value="enter"))},{immediate:!0,flush:"pre"})}function x7({state:t,apply:n}){de(t,s=>{s&&n(s)},{immediate:!0})}function S7({target:t,variants:n,variant:s}){const o=E(n);o&&(o.visible||o.visibleOnce)&&m9(t,([{isIntersecting:l}])=>{o.visible?l?s.value="visible":s.value="initial":o.visibleOnce&&(l&&s.value!=="visibleOnce"?s.value="visibleOnce":s.value||(s.value="initial"))})}function O7(t,n={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){n.lifeCycleHooks&&C7(t),n.syncVariants&&x7(t),n.visibilityHooks&&S7(t),n.eventListeners&&B7(t)}function Kp(t={}){const n=Fe({...t}),s=K({});return de(n,()=>{const o={};for(const[l,r]of Object.entries(n)){const a=ra(l),i=zp(r,a);o[l]=i}s.value=o},{immediate:!0,deep:!0}),{state:n,style:s}}function ia(t,n){de(()=>Bt(t),s=>{!s||n(s)},{immediate:!0})}const $7={x:"translateX",y:"translateY",z:"translateZ"};function Yp(t={},n=!0){const s=Fe({...t}),o=K("");return de(s,l=>{let r="",a=!1;n&&(l.x||l.y||l.z)&&(r+=`translate3d(${[l.x||0,l.y||0,l.z||0].map(ie.transform).join(",")}) `,a=!0);for(const[i,u]of Object.entries(l)){if(n&&(i==="x"||i==="y"||i==="z"))continue;const p=ra(i),d=zp(u,p);r+=`${$7[i]||i}(${d}) `}n&&!a&&(r+="translateZ(0px) "),o.value=r.trim()},{immediate:!0,deep:!0}),{state:s,transform:o}}const T7=["","X","Y","Z"],F7=["perspective","translate","scale","rotate","skew"],Zp=["transformPerspective","x","y","z"];F7.forEach(t=>{T7.forEach(n=>{const s=t+n;Zp.push(s)})});const P7=new Set(Zp);function ca(t){return P7.has(t)}const I7=new Set(["originX","originY","originZ"]);function Qp(t){return I7.has(t)}function R7(t){const n={},s={};return Object.entries(t).forEach(([o,l])=>{ca(o)||Qp(o)?n[o]=l:s[o]=l}),{transform:n,style:s}}function Jp(t){const{transform:n,style:s}=R7(t),{transform:o}=Yp(n),{style:l}=Kp(s);return o.value&&(l.value.transform=o.value),l.value}function M7(t,n){let s,o;const{state:l,style:r}=Kp();return ia(t,a=>{o=a;for(const i of Object.keys(Wp))a.style[i]===null||a.style[i]===""||ca(i)||Qp(i)||(l[i]=a.style[i]);s&&Object.entries(s).forEach(([i,u])=>a.style[i]=u),n&&n(l)}),de(r,a=>{if(!o){s=a;return}for(const i in a)o.style[i]=a[i]},{immediate:!0}),{style:l}}function L7(t){const n=t.trim().split(/\) |\)/);if(n.length===1)return{};const s=o=>o.endsWith("px")||o.endsWith("deg")?parseFloat(o):isNaN(Number(o))?Number(o):o;return n.reduce((o,l)=>{if(!l)return o;const[r,a]=l.split("("),u=a.split(",").map(d=>s(d.endsWith(")")?d.replace(")",""):d.trim())),p=u.length===1?u[0]:u;return{...o,[r]:p}},{})}function q7(t,n){Object.entries(L7(n)).forEach(([s,o])=>{const l=["x","y","z"];if(s==="translate3d"){if(o===0){l.forEach(r=>t[r]=0);return}o.forEach((r,a)=>t[l[a]]=r);return}if(o=parseFloat(o),s==="translateX"){t.x=o;return}if(s==="translateY"){t.y=o;return}if(s==="translateZ"){t.z=o;return}t[s]=o})}function N7(t,n){let s,o;const{state:l,transform:r}=Yp();return ia(t,a=>{o=a,a.style.transform&&q7(l,a.style.transform),s&&(a.style.transform=s),n&&n(l)}),de(r,a=>{if(!o){s=a;return}o.style.transform=a},{immediate:!0}),{transform:l}}function j7(t,n){const s=Fe({}),o=a=>Object.entries(a).forEach(([i,u])=>s[i]=u),{style:l}=M7(t,o),{transform:r}=N7(t,o);return de(s,a=>{Object.entries(a).forEach(([i,u])=>{const p=ca(i)?r:l;p[i]&&p[i]===u||(p[i]=u)})},{immediate:!0,deep:!0}),ia(t,()=>n&&o(n)),{motionProperties:s,style:l,transform:r}}function H7(t={}){const n=E(t),s=K();return{state:O(()=>{if(!!s.value)return n[s.value]}),variant:s}}function Gp(t,n={},s){const{motionProperties:o}=j7(t),{variant:l,state:r}=H7(n),a=b7(o,n),i={target:t,variant:l,variants:n,state:r,motionProperties:o,...a};return O7(i,s),i}const U7=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"],V7=(t,n)=>{const s=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};s&&(s.variants&&Hl(s.variants)&&(n.value={...n.value,...s.variants}),U7.forEach(o=>{if(o==="delay"){if(s&&s[o]&&Sh(s[o])){const l=s[o];n&&n.value&&(n.value.enter&&(n.value.enter.transition||(n.value.enter.transition={}),n.value.enter.transition={delay:l,...n.value.enter.transition}),n.value.visible&&(n.value.visible.transition||(n.value.visible.transition={}),n.value.visible.transition={delay:l,...n.value.visible.transition}),n.value.visibleOnce&&(n.value.visibleOnce.transition||(n.value.visibleOnce.transition={}),n.value.visibleOnce.transition={delay:l,...n.value.visibleOnce.transition}))}return}o==="visible-once"&&(o="visibleOnce"),s&&s[o]&&Hl(s[o])&&(n.value[o]=s[o])}))},kl=t=>({created:(o,l,r)=>{const a=l.value&&typeof l.value=="string"?l.value:r.key;a&&bl[a]&&bl[a].stop();const i=K(t||{});typeof l.value=="object"&&(i.value=l.value),V7(r,i);const u=Gp(o,i);o.motionInstance=u,a&&(bl[a]=u)},unmounted:o=>{o.motionInstance&&o.motionInstance.stop()},getSSRProps(o,l){let{initial:r}=o.value||l&&(l==null?void 0:l.props)||{};r=E(r);const a=Wb((t==null?void 0:t.initial)||{},r||{});return!a||Object.keys(a).length===0?void 0:{style:Jp(a)}}}),W7={initial:{opacity:0},enter:{opacity:1}},z7={initial:{opacity:0},visible:{opacity:1}},K7={initial:{opacity:0},visibleOnce:{opacity:1}},Y7={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},Z7={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},Q7={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},J7={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},G7={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},X7={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},eD={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},tD={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},nD={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},sD={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},oD={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},lD={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},rD={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},aD={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},iD={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},cD={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},uD={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},pD={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},dD={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},fD={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},hD={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},yD={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},mD={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},gD={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},vD={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},_D={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},AD={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},yr={__proto__:null,fade:W7,fadeVisible:z7,fadeVisibleOnce:K7,pop:Y7,popVisible:Z7,popVisibleOnce:Q7,rollBottom:rD,rollLeft:J7,rollRight:eD,rollTop:sD,rollVisibleBottom:aD,rollVisibleLeft:G7,rollVisibleRight:tD,rollVisibleTop:oD,rollVisibleOnceBottom:iD,rollVisibleOnceLeft:X7,rollVisibleOnceRight:nD,rollVisibleOnceTop:lD,slideBottom:vD,slideLeft:cD,slideRight:dD,slideTop:yD,slideVisibleBottom:_D,slideVisibleLeft:uD,slideVisibleRight:fD,slideVisibleTop:mD,slideVisibleOnceBottom:AD,slideVisibleOnceLeft:pD,slideVisibleOnceRight:hD,slideVisibleOnceTop:gD},wD=xe({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(t){var i;const n=Xf(),s=Fe({});if(!t.is&&!n.default)return()=>ht("div",{});const o=O(()=>{let u;return t.preset&&(u=yr[t.preset]),u}),l=O(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused})),r=O(()=>{const u={...l.value,...o.value||{},...t.variants||{}};return t.delay&&(u.enter.transition={...u.enter.transition},u.enter.transition.delay=parseInt(t.delay)),u}),a=O(()=>{if(!t.is)return;let u=t.is;return typeof a.value=="string"&&!cd(u)&&(u=Eo(u)),u});if(((i=process==null?void 0:process.env)==null?void 0:i.NODE_ENV)==="development"||(process==null?void 0:process.dev)){const u=p=>{var d;(d=p.variants)!=null&&d.initial&&p.set("initial"),setTimeout(()=>{var f,h,m;(f=p.variants)!=null&&f.enter&&p.apply("enter"),(h=p.variants)!=null&&h.visible&&p.apply("visible"),(m=p.variants)!=null&&m.visibleOnce&&p.apply("visibleOnce")},10)};Pr(()=>Object.entries(s).forEach(([p,d])=>u(d)))}return{slots:n,component:a,motionConfig:r,instances:s}},render({slots:t,motionConfig:n,instances:s,component:o}){var i;const l=Jp(n.initial||{}),r=(u,p)=>(u.props||(u.props={}),u.props.style=l,u.props.onVnodeMounted=({el:d})=>{const f=Gp(d,n);s[p]=f},u);if(o){const u=ht(o,void 0,t);return r(u,0),u}return(((i=t.default)==null?void 0:i.call(t))||[]).map((u,p)=>r(u,p))}});function bD(t){const n="\xE0\xE1\xE2\xE4\xE6\xE3\xE5\u0101\u0103\u0105\xE7\u0107\u010D\u0111\u010F\xE8\xE9\xEA\xEB\u0113\u0117\u0119\u011B\u011F\u01F5\u1E27\xEE\xEF\xED\u012B\u012F\xEC\u0142\u1E3F\xF1\u0144\u01F9\u0148\xF4\xF6\xF2\xF3\u0153\xF8\u014D\xF5\u0151\u1E55\u0155\u0159\xDF\u015B\u0161\u015F\u0219\u0165\u021B\xFB\xFC\xF9\xFA\u016B\u01D8\u016F\u0171\u0173\u1E83\u1E8D\xFF\xFD\u017E\u017A\u017C\xB7/_,:;",s="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",o=new RegExp(n.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,l=>`-${l}`).toLowerCase().replace(/\s+/g,"-").replace(o,l=>s.charAt(n.indexOf(l))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const ED={install(t,n){if(t.directive("motion",kl()),t.component("Motion",wD),!n||n&&!n.excludePresets)for(const s in yr){const o=yr[s];t.directive(`motion-${bD(s)}`,kl(o))}if(n&&n.directives)for(const s in n.directives){const o=n.directives[s];o.initial,t.directive(`motion-${s}`,kl(o))}}};var ac;const Is=typeof window<"u",DD=Object.prototype.toString,kD=t=>DD.call(t)==="[object Object]";Is&&((ac=window==null?void 0:window.navigator)==null?void 0:ac.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function BD(t){return xc()?(Sc(t),!0):!1}function CD(t){var n;const s=E(t);return(n=s==null?void 0:s.$el)!=null?n:s}const xD=Is?window:void 0,mr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gr="__vueuse_ssr_handlers__";mr[gr]=mr[gr]||{};mr[gr];function SD(t,n={}){const{immediate:s=!0,window:o=xD}=n,l=K(!1);let r=null;function a(){!l.value||!o||(t(),r=o.requestAnimationFrame(a))}function i(){!l.value&&o&&(l.value=!0,a())}function u(){l.value=!1,r!=null&&o&&(o.cancelAnimationFrame(r),r=null)}return s&&i(),BD(u),{isActive:l,pause:u,resume:i}}var ic;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(ic||(ic={}));const ua="vue-starport-injection",Xp="vue-starport-options",OD={duration:800,easing:"cubic-bezier(0.45, 0, 0.55, 1)",keepAlive:!1},ed={port:{type:String,required:!0},duration:{type:Number,required:!1},easing:{type:String,required:!1},keepAlive:{type:Boolean,required:!1,default:void 0},mountedProps:{type:Object,required:!1},initialProps:{type:Object,required:!1}};var $D=Object.defineProperty,Io=Object.getOwnPropertySymbols,td=Object.prototype.hasOwnProperty,nd=Object.prototype.propertyIsEnumerable,cc=(t,n,s)=>n in t?$D(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,TD=(t,n)=>{for(var s in n||(n={}))td.call(n,s)&&cc(t,s,n[s]);if(Io)for(var s of Io(n))nd.call(n,s)&&cc(t,s,n[s]);return t},uc=(t,n)=>{var s={};for(var o in t)td.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&Io)for(var o of Io(t))n.indexOf(o)<0&&nd.call(t,o)&&(s[o]=t[o]);return s};const FD=xe({name:"StarportProxy",props:TD({props:{type:Object,default:()=>({})},component:{type:Object,required:!0}},ed),setup(t,n){const s=S(ua),o=O(()=>s.getInstance(t.port,t.component)),l=K(),r=o.value.generateId(),a=K(!1);return o.value.isVisible||(o.value.land(),a.value=!0),cs(async()=>{o.value.el||(o.value.el=l.value,await Je(),a.value=!0,o.value.rect.update())}),Ko(async()=>{o.value.rect.update(),o.value.liftOff(),o.value.el=void 0,a.value=!1,!o.value.options.keepAlive&&(await Je(),await Je(),!o.value.el&&s.dispose(o.value.port))}),de(()=>t,async()=>{o.value.props&&await Je();const i=t,{props:u}=i,p=uc(i,["props"]);o.value.props=u||{},o.value.setLocalOptions(p)},{deep:!0,immediate:!0}),()=>{const i=t,{initialProps:u,mountedProps:p}=i,d=uc(i,["initialProps","mountedProps"]),f=Ie(d,(a.value?p:u)||{});return ht("div",Ie(f,{id:r,ref:l,"data-starport-proxy":o.value.componentId,"data-starport-landed":o.value.isLanded?"true":void 0,"data-starport-floating":o.value.isLanded?void 0:"true"}),n.slots.default?ht(n.slots.default):void 0)}}});var PD=Object.defineProperty,ID=Object.defineProperties,RD=Object.getOwnPropertyDescriptors,pc=Object.getOwnPropertySymbols,MD=Object.prototype.hasOwnProperty,LD=Object.prototype.propertyIsEnumerable,dc=(t,n,s)=>n in t?PD(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,qD=(t,n)=>{for(var s in n||(n={}))MD.call(n,s)&&dc(t,s,n[s]);if(pc)for(var s of pc(n))LD.call(n,s)&&dc(t,s,n[s]);return t},ND=(t,n)=>ID(t,RD(n));const jD=xe({name:"Starport",inheritAttrs:!0,props:ed,setup(t,n){const s=K(!1);return cs(()=>{s.value=!0}),()=>{var a,i;const o=(i=(a=n.slots).default)==null?void 0:i.call(a);if(!o)throw new Error("[Vue Starport] Slot is required to use <Starport>");if(o.length!==1)throw new Error(`[Vue Starport] <Starport> requires exactly one slot, but got ${o.length}`);const l=o[0];let r=l.type;return(!kD(r)||ts(r))&&(r={render(){return o}}),ht(FD,ND(qD({},t),{key:t.port,component:Ho(r),props:l.props}))}}});function HD(t){const n=Fe({height:0,width:0,left:0,top:0,update:o,listen:r,pause:a,margin:"0px",padding:"0px"}),s=Is?document.documentElement||document.body:void 0;function o(){if(!Is)return;const i=CD(t);if(!i)return;const{height:u,width:p,left:d,top:f}=i.getBoundingClientRect(),h=window.getComputedStyle(i),m=h.margin,y=h.padding;Object.assign(n,{height:u,width:p,left:d,top:s.scrollTop+f,margin:m,padding:y})}const l=SD(o,{immediate:!1});function r(){!Is||(o(),l.resume())}function a(){l.pause()}return n}let UD=(t,n=21)=>(s=n)=>{let o="",l=s;for(;l--;)o+=t[Math.random()*t.length|0];return o};const fc=UD("abcdefghijklmnopqrstuvwxyz",5);function hc(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^\w\d_-]/g,"")}function VD(t){var n;return t.name||((n=t.__file)==null?void 0:n.split(/[\/\\.]/).slice(-2)[0])||""}var WD=Object.defineProperty,yc=Object.getOwnPropertySymbols,zD=Object.prototype.hasOwnProperty,KD=Object.prototype.propertyIsEnumerable,mc=(t,n,s)=>n in t?WD(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Bl=(t,n)=>{for(var s in n||(n={}))zD.call(n,s)&&mc(t,s,n[s]);if(yc)for(var s of yc(n))KD.call(n,s)&&mc(t,s,n[s]);return t};function YD(t,n,s={}){const o=VD(n),l=hc(o)||fc(),r=K(),a=K(null),i=K(!1),u=K(!1),p=gd(!0),d=K({}),f=O(()=>Bl(Bl(Bl({},OD),s),d.value)),h=K(0);let m;p.run(()=>{m=HD(r),de(r,async b=>{b&&(u.value=!0),await Je(),r.value||(u.value=!1)})});const y=hc(t);function _(){return`starport-${l}-${y}-${fc()}`}const w=_();return Fe({el:r,id:w,port:t,props:a,rect:m,scope:p,isLanded:i,isVisible:u,options:f,liftOffTime:h,component:n,componentName:o,componentId:l,generateId:_,setLocalOptions(b={}){d.value=JSON.parse(JSON.stringify(b))},elRef(){return r},liftOff(){!i.value||(i.value=!1,h.value=Date.now(),m.listen())},land(){i.value||(i.value=!0,m.pause())}})}function ZD(t){const n=Fe(new Map);function s(l,r){let a=n.get(l);return a||(a=YD(l,r,t),n.set(l,a)),a.component=r,a}function o(l){var r;(r=n.get(l))==null||r.scope.stop(),n.delete(l)}return{portMap:n,dispose:o,getInstance:s}}var QD=Object.defineProperty,JD=Object.defineProperties,GD=Object.getOwnPropertyDescriptors,gc=Object.getOwnPropertySymbols,XD=Object.prototype.hasOwnProperty,e4=Object.prototype.propertyIsEnumerable,vc=(t,n,s)=>n in t?QD(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,t4=(t,n)=>{for(var s in n||(n={}))XD.call(n,s)&&vc(t,s,n[s]);if(gc)for(var s of gc(n))e4.call(n,s)&&vc(t,s,n[s]);return t},n4=(t,n)=>JD(t,GD(n));const s4=xe({name:"StarportCraft",props:{port:{type:String,required:!0},component:{type:Object,required:!0}},setup(t){const n=S(ua);if(!n)throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.");const s=O(()=>n.getInstance(t.port,t.component)),o=O(()=>{var a;return((a=s.value.el)==null?void 0:a.id)||s.value.id}),l=O(()=>{const a=Date.now()-s.value.liftOffTime,i=Math.max(0,s.value.options.duration-a),u=s.value.rect,p={position:"absolute",left:0,top:0,width:`${u.width}px`,height:`${u.height}px`,margin:u.margin,padding:u.padding,transform:`translate3d(${u.left}px,${u.top}px,0px)`};return!s.value.isVisible||!s.value.el?n4(t4({},p),{zIndex:-1,display:"none"}):(s.value.isLanded?p.display="none":Object.assign(p,{transitionProperty:"all",transitionDuration:`${i}ms`,transitionTimingFunction:s.value.options.easing}),p)}),r={};return()=>{const a=!!(s.value.isLanded&&s.value.el);return ht("div",{style:l.value,"data-starport-craft":s.value.componentId,"data-starport-landed":s.value.isLanded?"true":void 0,"data-starport-floating":s.value.isLanded?void 0:"true",onTransitionend:s.value.land},ht(Uf,{to:a?`#${o.value}`:"body",disabled:!a},ht(s.value.component,Ie(r,s.value.props))))}}}),o4=xe({name:"StarportCarrier",setup(t,{slots:n}){const s=ZD(S(Xp,{}));return Fn().appContext.app.provide(ua,s),()=>{var l;return[(l=n.default)==null?void 0:l.call(n),Array.from(s.portMap.entries()).map(([r,{component:a}])=>ht(s4,{key:r,port:r,component:a}))]}}});function l4(t={}){return{install(n){n.provide(Xp,t),n.component("Starport",jD),n.component("StarportCarrier",o4)}}}function r4(t){function n(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}n(),window.addEventListener("resize",n),t.app.use(ED),t.app.use(l4({keepAlive:!0}))}function ct(t,n,s){var o,l;return(l=((o=t.instance)==null?void 0:o.$).provides[n])!=null?l:s}function a4(){return{install(t){t.directive("click",{name:"v-click",mounted(n,s){var d,f,h,m;if($s.value||((d=ct(s,Cs))==null?void 0:d.value))return;const o=ct(s,_n),l=ct(s,Bs),r=ct(s,Wl),a=s.modifiers.hide!==!1&&s.modifiers.hide!=null,i=s.modifiers.fade!==!1&&s.modifiers.fade!=null,u=((f=o==null?void 0:o.value)==null?void 0:f.length)||0,p=i?Ay:il;if(o&&!((h=o==null?void 0:o.value)!=null&&h.includes(n))&&o.value.push(n),s.value==null&&(s.value=o==null?void 0:o.value.length),!(r!=null&&r.value.has(s.value)))r==null||r.value.set(s.value,[n]);else if(!((m=r==null?void 0:r.value.get(s.value))!=null&&m.includes(n))){const y=(r==null?void 0:r.value.get(s.value))||[];r==null||r.value.set(s.value,[n].concat(y))}n==null||n.classList.toggle(mn,!0),l&&de(l,()=>{var b;const y=(b=l==null?void 0:l.value)!=null?b:0,_=s.value!=null?y>=s.value:y>u;n.classList.contains(cl)||n.classList.toggle(p,!_),a!==!1&&a!==void 0&&n.classList.toggle(p,_),n.classList.toggle(ms,!1);const w=r==null?void 0:r.value.get(y);w==null||w.forEach((k,D)=>{k.classList.toggle(io,!1),D===w.length-1?k.classList.toggle(ms,!0):k.classList.toggle(io,!0)}),n.classList.contains(ms)||n.classList.toggle(io,_)},{immediate:!0})},unmounted(n,s){n==null||n.classList.toggle(mn,!1);const o=ct(s,_n);o!=null&&o.value&&zl(o.value,n)}}),t.directive("after",{name:"v-after",mounted(n,s){var i,u;if($s.value||((i=ct(s,Cs))==null?void 0:i.value))return;const o=ct(s,_n),l=ct(s,Bs),r=ct(s,Wl),a=o==null?void 0:o.value.length;s.value==null&&(s.value=o==null?void 0:o.value.length),r!=null&&r.value.has(s.value)?(u=r==null?void 0:r.value.get(s.value))==null||u.push(n):r==null||r.value.set(s.value,[n]),n==null||n.classList.toggle(mn,!0),l&&de(l,()=>{var d,f,h;const p=((d=l.value)!=null?d:0)>=((h=(f=s.value)!=null?f:a)!=null?h:0);n.classList.contains(cl)||n.classList.toggle(il,!p),n.classList.toggle(ms,!1),n.classList.contains(ms)||n.classList.toggle(io,p)},{immediate:!0})},unmounted(n){n==null||n.classList.toggle(mn,!0)}}),t.directive("click-hide",{name:"v-click-hide",mounted(n,s){var a,i,u;if($s.value||((a=ct(s,Cs))==null?void 0:a.value))return;const o=ct(s,_n),l=ct(s,Bs),r=((i=o==null?void 0:o.value)==null?void 0:i.length)||0;o&&!((u=o==null?void 0:o.value)!=null&&u.includes(n))&&o.value.push(n),n==null||n.classList.toggle(mn,!0),l&&de(l,()=>{var f;const p=(f=l==null?void 0:l.value)!=null?f:0,d=s.value!=null?p>=s.value:p>r;n.classList.toggle(il,d),n.classList.toggle(cl,d)},{immediate:!0})},unmounted(n,s){n==null||n.classList.toggle(mn,!1);const o=ct(s,_n);o!=null&&o.value&&zl(o.value,n)}})}}}function i4(t,n){const s=op(t),o=lp(n,s.currentRoute,s.currentPage);return{nav:{...s,...o,downloadPDF:lr,next:ln,nextSlide:zs,openInEditor:jb,prev:rn,prevSlide:Ks},configs:we,themeConfigs:O(()=>we.themeConfig)}}function c4(){return{install(t){const n=i4(Zt,St);t.provide(P,Fe(n))}}}const ds=kh(Ub);ds.use(mt);ds.use(hy());ds.use(a4());ds.use(c4());r4({app:ds,router:mt});ds.mount("#app");export{ws as $,ge as A,Ee as B,st as C,P6 as D,u4 as E,Be as F,p4 as G,St as H,To as I,Rb as J,gl as K,ul as L,Us as M,yl as N,Su as O,qv as P,Wr as Q,Rv as R,zr as S,Ve as T,pp as U,U6 as V,tp as W,Tt as X,d4 as Y,cn as Z,Xu as _,e as a,co as a0,Qs as a1,En as a2,Lt as a3,tr as a4,p6 as a5,d6 as a6,f6 as a7,y6 as a8,Ir as a9,gu as aa,m4 as ab,ot as ac,Eg as ad,Cu as ae,m6 as af,Ko as ag,$6 as ah,O as b,J as c,xe as d,P as e,dt as f,F as g,E as h,S as i,D6 as j,Nb as k,we as l,gy as m,Me as n,A as o,cs as p,Fe as q,K as r,f4 as s,On as t,h4 as u,y4 as v,de as w,Q as x,lt as y,T as z};
