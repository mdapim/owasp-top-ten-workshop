(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function s(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function o(r){if(r.ep)return;r.ep=!0;const l=s(r);fetch(r.href,l)}})();function Vn(t,n){const s=Object.create(null),o=t.split(",");for(let r=0;r<o.length;r++)s[o[r]]=!0;return n?r=>!!s[r.toLowerCase()]:r=>!!s[r]}function at(t){if(ue(t)){const n={};for(let s=0;s<t.length;s++){const o=t[s],r=He(o)?zh(o):at(o);if(r)for(const l in r)n[l]=r[l]}return n}else{if(He(t))return t;if(Re(t))return t}}const Vh=/;(?![^(]*\))/g,Uh=/:([^]+)/,Wh=/\/\*.*?\*\//gs;function zh(t){const n={};return t.replace(Wh,"").split(Vh).forEach(s=>{if(s){const o=s.split(Uh);o.length>1&&(n[o[0].trim()]=o[1].trim())}}),n}function Ke(t){let n="";if(He(t))n=t;else if(ue(t))for(let s=0;s<t.length;s++){const o=Ke(t[s]);o&&(n+=o+" ")}else if(Re(t))for(const s in t)t[s]&&(n+=s+" ");return n.trim()}function J(t){if(!t)return null;let{class:n,style:s}=t;return n&&!He(n)&&(t.class=Ke(n)),s&&(t.style=at(s)),t}const Kh="html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot",Yh="svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view",yp=Vn(Kh),Gh=Vn(Yh),Qh="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Jh=Vn(Qh);function mp(t){return!!t||t===""}const hn=t=>He(t)?t:t==null?"":ue(t)||Re(t)&&(t.toString===wp||!fe(t.toString))?JSON.stringify(t,gp,2):String(t),gp=(t,n)=>n&&n.__v_isRef?gp(t,n.value):as(n)?{[`Map(${n.size})`]:[...n.entries()].reduce((s,[o,r])=>(s[`${o} =>`]=r,s),{})}:_p(n)?{[`Set(${n.size})`]:[...n.values()]}:Re(n)&&!ue(n)&&!Ap(n)?String(n):n,je=Object.freeze({}),Ts=Object.freeze([]),vt=()=>{},vp=()=>!1,Zh=/^on[^a-z]/,Vo=t=>Zh.test(t),Cr=t=>t.startsWith("onUpdate:"),We=Object.assign,Ga=(t,n)=>{const s=t.indexOf(n);s>-1&&t.splice(s,1)},Xh=Object.prototype.hasOwnProperty,xe=(t,n)=>Xh.call(t,n),ue=Array.isArray,as=t=>Uo(t)==="[object Map]",_p=t=>Uo(t)==="[object Set]",ey=t=>Uo(t)==="[object RegExp]",fe=t=>typeof t=="function",He=t=>typeof t=="string",Qa=t=>typeof t=="symbol",Re=t=>t!==null&&typeof t=="object",Ja=t=>Re(t)&&fe(t.then)&&fe(t.catch),wp=Object.prototype.toString,Uo=t=>wp.call(t),Za=t=>Uo(t).slice(8,-1),Ap=t=>Uo(t)==="[object Object]",Xa=t=>He(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,mr=Vn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ty=Vn("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Yr=t=>{const n=Object.create(null);return s=>n[s]||(n[s]=t(s))},ny=/-(\w)/g,tn=Yr(t=>t.replace(ny,(n,s)=>s?s.toUpperCase():"")),sy=/\B([A-Z])/g,yn=Yr(t=>t.replace(sy,"-$1").toLowerCase()),hs=Yr(t=>t.charAt(0).toUpperCase()+t.slice(1)),Qn=Yr(t=>t?`on${hs(t)}`:""),Do=(t,n)=>!Object.is(t,n),Xn=(t,n)=>{for(let s=0;s<t.length;s++)t[s](n)},xr=(t,n,s)=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value:s})},oy=t=>{const n=parseFloat(t);return isNaN(n)?t:n},ry=t=>{const n=He(t)?Number(t):NaN;return isNaN(n)?t:n};let Qi;const bp=()=>Qi||(Qi=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Br(t,...n){console.warn(`[Vue warn] ${t}`,...n)}let Dt;class Ep{constructor(n=!1){this.detached=n,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Dt,!n&&Dt&&(this.index=(Dt.scopes||(Dt.scopes=[])).push(this)-1)}get active(){return this._active}run(n){if(this._active){const s=Dt;try{return Dt=this,n()}finally{Dt=s}}else Br("cannot run an inactive effect scope.")}on(){Dt=this}off(){Dt=this.parent}stop(n){if(this._active){let s,o;for(s=0,o=this.effects.length;s<o;s++)this.effects[s].stop();for(s=0,o=this.cleanups.length;s<o;s++)this.cleanups[s]();if(this.scopes)for(s=0,o=this.scopes.length;s<o;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!n){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function ly(t){return new Ep(t)}function ay(t,n=Dt){n&&n.active&&n.effects.push(t)}function ei(){return Dt}function Dp(t){Dt?Dt.cleanups.push(t):Br("onScopeDispose() is called when there is no active effect scope to be associated with.")}const ti=t=>{const n=new Set(t);return n.w=0,n.n=0,n},kp=t=>(t.w&Fn)>0,Cp=t=>(t.n&Fn)>0,iy=({deps:t})=>{if(t.length)for(let n=0;n<t.length;n++)t[n].w|=Fn},cy=t=>{const{deps:n}=t;if(n.length){let s=0;for(let o=0;o<n.length;o++){const r=n[o];kp(r)&&!Cp(r)?r.delete(t):n[s++]=r,r.w&=~Fn,r.n&=~Fn}n.length=s}},Sr=new WeakMap;let ro=0,Fn=1;const Kl=30;let ft;const is=Symbol("iterate"),Yl=Symbol("Map key iterate");class ni{constructor(n,s=null,o){this.fn=n,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,ay(this,o)}run(){if(!this.active)return this.fn();let n=ft,s=$n;for(;n;){if(n===this)return;n=n.parent}try{return this.parent=ft,ft=this,$n=!0,Fn=1<<++ro,ro<=Kl?iy(this):Ji(this),this.fn()}finally{ro<=Kl&&cy(this),Fn=1<<--ro,ft=this.parent,$n=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){ft===this?this.deferStop=!0:this.active&&(Ji(this),this.onStop&&this.onStop(),this.active=!1)}}function Ji(t){const{deps:n}=t;if(n.length){for(let s=0;s<n.length;s++)n[s].delete(t);n.length=0}}let $n=!0;const xp=[];function ms(){xp.push($n),$n=!1}function gs(){const t=xp.pop();$n=t===void 0?!0:t}function wt(t,n,s){if($n&&ft){let o=Sr.get(t);o||Sr.set(t,o=new Map);let r=o.get(s);r||o.set(s,r=ti()),Bp(r,{effect:ft,target:t,type:n,key:s})}}function Bp(t,n){let s=!1;ro<=Kl?Cp(t)||(t.n|=Fn,s=!kp(t)):s=!t.has(ft),s&&(t.add(ft),ft.deps.push(t),ft.onTrack&&ft.onTrack(Object.assign({effect:ft},n)))}function mn(t,n,s,o,r,l){const a=Sr.get(t);if(!a)return;let i=[];if(n==="clear")i=[...a.values()];else if(s==="length"&&ue(t)){const p=Number(o);a.forEach((d,f)=>{(f==="length"||f>=p)&&i.push(d)})}else switch(s!==void 0&&i.push(a.get(s)),n){case"add":ue(t)?Xa(s)&&i.push(a.get("length")):(i.push(a.get(is)),as(t)&&i.push(a.get(Yl)));break;case"delete":ue(t)||(i.push(a.get(is)),as(t)&&i.push(a.get(Yl)));break;case"set":as(t)&&i.push(a.get(is));break}const c={target:t,type:n,key:s,newValue:o,oldValue:r,oldTarget:l};if(i.length===1)i[0]&&Gl(i[0],c);else{const p=[];for(const d of i)d&&p.push(...d);Gl(ti(p),c)}}function Gl(t,n){const s=ue(t)?t:[...t];for(const o of s)o.computed&&Zi(o,n);for(const o of s)o.computed||Zi(o,n)}function Zi(t,n){(t!==ft||t.allowRecurse)&&(t.onTrigger&&t.onTrigger(We({effect:t},n)),t.scheduler?t.scheduler():t.run())}function uy(t,n){var s;return(s=Sr.get(t))===null||s===void 0?void 0:s.get(n)}const py=Vn("__proto__,__v_isRef,__isVue"),Sp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Qa)),dy=Gr(),fy=Gr(!1,!0),hy=Gr(!0),yy=Gr(!0,!0),Xi=my();function my(){const t={};return["includes","indexOf","lastIndexOf"].forEach(n=>{t[n]=function(...s){const o=ye(this);for(let l=0,a=this.length;l<a;l++)wt(o,"get",l+"");const r=o[n](...s);return r===-1||r===!1?o[n](...s.map(ye)):r}}),["push","pop","shift","unshift","splice"].forEach(n=>{t[n]=function(...s){ms();const o=ye(this)[n].apply(this,s);return gs(),o}}),t}function gy(t){const n=ye(this);return wt(n,"has",t),n.hasOwnProperty(t)}function Gr(t=!1,n=!1){return function(o,r,l){if(r==="__v_isReactive")return!t;if(r==="__v_isReadonly")return t;if(r==="__v_isShallow")return n;if(r==="__v_raw"&&l===(t?n?Lp:Rp:n?Mp:Ip).get(o))return o;const a=ue(o);if(!t){if(a&&xe(Xi,r))return Reflect.get(Xi,r,l);if(r==="hasOwnProperty")return gy}const i=Reflect.get(o,r,l);return(Qa(r)?Sp.has(r):py(r))||(t||wt(o,"get",r),n)?i:Pe(i)?a&&Xa(r)?i:i.value:Re(i)?t?Jt(i):Ve(i):i}}const vy=$p(),_y=$p(!0);function $p(t=!1){return function(s,o,r,l){let a=s[o];if(Nn(a)&&Pe(a)&&!Pe(r))return!1;if(!t&&(!$r(r)&&!Nn(r)&&(a=ye(a),r=ye(r)),!ue(s)&&Pe(a)&&!Pe(r)))return a.value=r,!0;const i=ue(s)&&Xa(o)?Number(o)<s.length:xe(s,o),c=Reflect.set(s,o,r,l);return s===ye(l)&&(i?Do(r,a)&&mn(s,"set",o,r,a):mn(s,"add",o,r)),c}}function wy(t,n){const s=xe(t,n),o=t[n],r=Reflect.deleteProperty(t,n);return r&&s&&mn(t,"delete",n,void 0,o),r}function Ay(t,n){const s=Reflect.has(t,n);return(!Qa(n)||!Sp.has(n))&&wt(t,"has",n),s}function by(t){return wt(t,"iterate",ue(t)?"length":is),Reflect.ownKeys(t)}const Tp={get:dy,set:vy,deleteProperty:wy,has:Ay,ownKeys:by},Op={get:hy,set(t,n){return Br(`Set operation on key "${String(n)}" failed: target is readonly.`,t),!0},deleteProperty(t,n){return Br(`Delete operation on key "${String(n)}" failed: target is readonly.`,t),!0}},Ey=We({},Tp,{get:fy,set:_y}),Dy=We({},Op,{get:yy}),si=t=>t,Qr=t=>Reflect.getPrototypeOf(t);function er(t,n,s=!1,o=!1){t=t.__v_raw;const r=ye(t),l=ye(n);s||(n!==l&&wt(r,"get",n),wt(r,"get",l));const{has:a}=Qr(r),i=o?si:s?oi:ko;if(a.call(r,n))return i(t.get(n));if(a.call(r,l))return i(t.get(l));t!==r&&t.get(n)}function tr(t,n=!1){const s=this.__v_raw,o=ye(s),r=ye(t);return n||(t!==r&&wt(o,"has",t),wt(o,"has",r)),t===r?s.has(t):s.has(t)||s.has(r)}function nr(t,n=!1){return t=t.__v_raw,!n&&wt(ye(t),"iterate",is),Reflect.get(t,"size",t)}function ec(t){t=ye(t);const n=ye(this);return Qr(n).has.call(n,t)||(n.add(t),mn(n,"add",t,t)),this}function tc(t,n){n=ye(n);const s=ye(this),{has:o,get:r}=Qr(s);let l=o.call(s,t);l?Pp(s,o,t):(t=ye(t),l=o.call(s,t));const a=r.call(s,t);return s.set(t,n),l?Do(n,a)&&mn(s,"set",t,n,a):mn(s,"add",t,n),this}function nc(t){const n=ye(this),{has:s,get:o}=Qr(n);let r=s.call(n,t);r?Pp(n,s,t):(t=ye(t),r=s.call(n,t));const l=o?o.call(n,t):void 0,a=n.delete(t);return r&&mn(n,"delete",t,void 0,l),a}function sc(){const t=ye(this),n=t.size!==0,s=as(t)?new Map(t):new Set(t),o=t.clear();return n&&mn(t,"clear",void 0,void 0,s),o}function sr(t,n){return function(o,r){const l=this,a=l.__v_raw,i=ye(a),c=n?si:t?oi:ko;return!t&&wt(i,"iterate",is),a.forEach((p,d)=>o.call(r,c(p),c(d),l))}}function or(t,n,s){return function(...o){const r=this.__v_raw,l=ye(r),a=as(l),i=t==="entries"||t===Symbol.iterator&&a,c=t==="keys"&&a,p=r[t](...o),d=s?si:n?oi:ko;return!n&&wt(l,"iterate",c?Yl:is),{next(){const{value:f,done:h}=p.next();return h?{value:f,done:h}:{value:i?[d(f[0]),d(f[1])]:d(f),done:h}},[Symbol.iterator](){return this}}}}function wn(t){return function(...n){{const s=n[0]?`on key "${n[0]}" `:"";console.warn(`${hs(t)} operation ${s}failed: target is readonly.`,ye(this))}return t==="delete"?!1:this}}function ky(){const t={get(l){return er(this,l)},get size(){return nr(this)},has:tr,add:ec,set:tc,delete:nc,clear:sc,forEach:sr(!1,!1)},n={get(l){return er(this,l,!1,!0)},get size(){return nr(this)},has:tr,add:ec,set:tc,delete:nc,clear:sc,forEach:sr(!1,!0)},s={get(l){return er(this,l,!0)},get size(){return nr(this,!0)},has(l){return tr.call(this,l,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:sr(!0,!1)},o={get(l){return er(this,l,!0,!0)},get size(){return nr(this,!0)},has(l){return tr.call(this,l,!0)},add:wn("add"),set:wn("set"),delete:wn("delete"),clear:wn("clear"),forEach:sr(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(l=>{t[l]=or(l,!1,!1),s[l]=or(l,!0,!1),n[l]=or(l,!1,!0),o[l]=or(l,!0,!0)}),[t,s,n,o]}const[Cy,xy,By,Sy]=ky();function Jr(t,n){const s=n?t?Sy:By:t?xy:Cy;return(o,r,l)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?o:Reflect.get(xe(s,r)&&r in o?s:o,r,l)}const $y={get:Jr(!1,!1)},Ty={get:Jr(!1,!0)},Oy={get:Jr(!0,!1)},Py={get:Jr(!0,!0)};function Pp(t,n,s){const o=ye(s);if(o!==s&&n.call(t,o)){const r=Za(t);console.warn(`Reactive ${r} contains both the raw and reactive versions of the same object${r==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Ip=new WeakMap,Mp=new WeakMap,Rp=new WeakMap,Lp=new WeakMap;function Iy(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function My(t){return t.__v_skip||!Object.isExtensible(t)?0:Iy(Za(t))}function Ve(t){return Nn(t)?t:Zr(t,!1,Tp,$y,Ip)}function Ry(t){return Zr(t,!1,Ey,Ty,Mp)}function Jt(t){return Zr(t,!0,Op,Oy,Rp)}function Ss(t){return Zr(t,!0,Dy,Py,Lp)}function Zr(t,n,s,o,r){if(!Re(t))return console.warn(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(n&&t.__v_isReactive))return t;const l=r.get(t);if(l)return l;const a=My(t);if(a===0)return t;const i=new Proxy(t,a===2?o:s);return r.set(t,i),i}function cs(t){return Nn(t)?cs(t.__v_raw):!!(t&&t.__v_isReactive)}function Nn(t){return!!(t&&t.__v_isReadonly)}function $r(t){return!!(t&&t.__v_isShallow)}function Tr(t){return cs(t)||Nn(t)}function ye(t){const n=t&&t.__v_raw;return n?ye(n):t}function Xr(t){return xr(t,"__v_skip",!0),t}const ko=t=>Re(t)?Ve(t):t,oi=t=>Re(t)?Jt(t):t;function ri(t){$n&&ft&&(t=ye(t),Bp(t.dep||(t.dep=ti()),{target:t,type:"get",key:"value"}))}function li(t,n){t=ye(t);const s=t.dep;s&&Gl(s,{target:t,type:"set",key:"value",newValue:n})}function Pe(t){return!!(t&&t.__v_isRef===!0)}function Y(t){return Fp(t,!1)}function nn(t){return Fp(t,!0)}function Fp(t,n){return Pe(t)?t:new Ly(t,n)}class Ly{constructor(n,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?n:ye(n),this._value=s?n:ko(n)}get value(){return ri(this),this._value}set value(n){const s=this.__v_isShallow||$r(n)||Nn(n);n=s?n:ye(n),Do(n,this._rawValue)&&(this._rawValue=n,this._value=s?n:ko(n),li(this,n))}}function C(t){return Pe(t)?t.value:t}const Fy={get:(t,n,s)=>C(Reflect.get(t,n,s)),set:(t,n,s,o)=>{const r=t[n];return Pe(r)&&!Pe(s)?(r.value=s,!0):Reflect.set(t,n,s,o)}};function Np(t){return cs(t)?t:new Proxy(t,Fy)}class Ny{constructor(n){this.dep=void 0,this.__v_isRef=!0;const{get:s,set:o}=n(()=>ri(this),()=>li(this));this._get=s,this._set=o}get value(){return this._get()}set value(n){this._set(n)}}function jp(t){return new Ny(t)}function jy(t){Tr(t)||console.warn("toRefs() expects a reactive object but received a plain one.");const n=ue(t)?new Array(t.length):{};for(const s in t)n[s]=Hy(t,s);return n}class qy{constructor(n,s,o){this._object=n,this._key=s,this._defaultValue=o,this.__v_isRef=!0}get value(){const n=this._object[this._key];return n===void 0?this._defaultValue:n}set value(n){this._object[this._key]=n}get dep(){return uy(ye(this._object),this._key)}}function Hy(t,n,s){const o=t[n];return Pe(o)?o:new qy(t,n,s)}var qp;class Vy{constructor(n,s,o,r){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this[qp]=!1,this._dirty=!0,this.effect=new ni(n,()=>{this._dirty||(this._dirty=!0,li(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=o}get value(){const n=ye(this);return ri(n),(n._dirty||!n._cacheable)&&(n._dirty=!1,n._value=n.effect.run()),n._value}set value(n){this._setter(n)}}qp="__v_isReadonly";function Uy(t,n,s=!1){let o,r;const l=fe(t);l?(o=t,r=()=>{console.warn("Write operation failed: computed value is readonly")}):(o=t.get,r=t.set);const a=new Vy(o,r,l||!r,s);return n&&!s&&(a.effect.onTrack=n.onTrack,a.effect.onTrigger=n.onTrigger),a}const us=[];function gr(t){us.push(t)}function vr(){us.pop()}function j(t,...n){ms();const s=us.length?us[us.length-1].component:null,o=s&&s.appContext.config.warnHandler,r=Wy();if(o)fn(o,s,11,[t+n.join(""),s&&s.proxy,r.map(({vnode:l})=>`at <${cl(s,l.type)}>`).join(`
`),r]);else{const l=[`[Vue warn]: ${t}`,...n];r.length&&l.push(`
`,...zy(r)),console.warn(...l)}gs()}function Wy(){let t=us[us.length-1];if(!t)return[];const n=[];for(;t;){const s=n[0];s&&s.vnode===t?s.recurseCount++:n.push({vnode:t,recurseCount:0});const o=t.component&&t.component.parent;t=o&&o.vnode}return n}function zy(t){const n=[];return t.forEach((s,o)=>{n.push(...o===0?[]:[`
`],...Ky(s))}),n}function Ky({vnode:t,recurseCount:n}){const s=n>0?`... (${n} recursive calls)`:"",o=t.component?t.component.parent==null:!1,r=` at <${cl(t.component,t.type,o)}`,l=">"+s;return t.props?[r,...Yy(t.props),l]:[r+l]}function Yy(t){const n=[],s=Object.keys(t);return s.slice(0,3).forEach(o=>{n.push(...Hp(o,t[o]))}),s.length>3&&n.push(" ..."),n}function Hp(t,n,s){return He(n)?(n=JSON.stringify(n),s?n:[`${t}=${n}`]):typeof n=="number"||typeof n=="boolean"||n==null?s?n:[`${t}=${n}`]:Pe(n)?(n=Hp(t,ye(n.value),!0),s?n:[`${t}=Ref<`,n,">"]):fe(n)?[`${t}=fn${n.name?`<${n.name}>`:""}`]:(n=ye(n),s?n:[`${t}=`,n])}function Gy(t,n){t!==void 0&&(typeof t!="number"?j(`${n} is not a valid number - got ${JSON.stringify(t)}.`):isNaN(t)&&j(`${n} is NaN - the duration expression might be incorrect.`))}const ai={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function fn(t,n,s,o){let r;try{r=o?t(...o):t()}catch(l){el(l,n,s)}return r}function Rt(t,n,s,o){if(fe(t)){const l=fn(t,n,s,o);return l&&Ja(l)&&l.catch(a=>{el(a,n,s)}),l}const r=[];for(let l=0;l<t.length;l++)r.push(Rt(t[l],n,s,o));return r}function el(t,n,s,o=!0){const r=n?n.vnode:null;if(n){let l=n.parent;const a=n.proxy,i=ai[s];for(;l;){const p=l.ec;if(p){for(let d=0;d<p.length;d++)if(p[d](t,a,i)===!1)return}l=l.parent}const c=n.appContext.config.errorHandler;if(c){fn(c,null,10,[t,a,i]);return}}Qy(t,s,r,o)}function Qy(t,n,s,o=!0){{const r=ai[n];if(s&&gr(s),j(`Unhandled error${r?` during execution of ${r}`:""}`),s&&vr(),o)throw t;console.error(t)}}let Co=!1,Ql=!1;const rt=[];let Gt=0;const Os=[];let Yt=null,Dn=0;const Vp=Promise.resolve();let ii=null;const Jy=100;function lt(t){const n=ii||Vp;return t?n.then(this?t.bind(this):t):n}function Zy(t){let n=Gt+1,s=rt.length;for(;n<s;){const o=n+s>>>1;xo(rt[o])<t?n=o+1:s=o}return n}function tl(t){(!rt.length||!rt.includes(t,Co&&t.allowRecurse?Gt+1:Gt))&&(t.id==null?rt.push(t):rt.splice(Zy(t.id),0,t),Up())}function Up(){!Co&&!Ql&&(Ql=!0,ii=Vp.then(Kp))}function Xy(t){const n=rt.indexOf(t);n>Gt&&rt.splice(n,1)}function Wp(t){ue(t)?Os.push(...t):(!Yt||!Yt.includes(t,t.allowRecurse?Dn+1:Dn))&&Os.push(t),Up()}function oc(t,n=Co?Gt+1:0){for(t=t||new Map;n<rt.length;n++){const s=rt[n];if(s&&s.pre){if(ci(t,s))continue;rt.splice(n,1),n--,s()}}}function zp(t){if(Os.length){const n=[...new Set(Os)];if(Os.length=0,Yt){Yt.push(...n);return}for(Yt=n,t=t||new Map,Yt.sort((s,o)=>xo(s)-xo(o)),Dn=0;Dn<Yt.length;Dn++)ci(t,Yt[Dn])||Yt[Dn]();Yt=null,Dn=0}}const xo=t=>t.id==null?1/0:t.id,em=(t,n)=>{const s=xo(t)-xo(n);if(s===0){if(t.pre&&!n.pre)return-1;if(n.pre&&!t.pre)return 1}return s};function Kp(t){Ql=!1,Co=!0,t=t||new Map,rt.sort(em);const n=s=>ci(t,s);try{for(Gt=0;Gt<rt.length;Gt++){const s=rt[Gt];if(s&&s.active!==!1){if(n(s))continue;fn(s,null,14)}}}finally{Gt=0,rt.length=0,zp(t),Co=!1,ii=null,(rt.length||Os.length)&&Kp(t)}}function ci(t,n){if(!t.has(n))t.set(n,1);else{const s=t.get(n);if(s>Jy){const o=n.ownerInstance,r=o&&To(o.type);return j(`Maximum recursive updates exceeded${r?` in component <${r}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else t.set(n,s+1)}}let Tn=!1;const xs=new Set;bp().__VUE_HMR_RUNTIME__={createRecord:yl(Yp),rerender:yl(sm),reload:yl(om)};const ys=new Map;function tm(t){const n=t.type.__hmrId;let s=ys.get(n);s||(Yp(n,t.type),s=ys.get(n)),s.instances.add(t)}function nm(t){ys.get(t.type.__hmrId).instances.delete(t)}function Yp(t,n){return ys.has(t)?!1:(ys.set(t,{initialDef:uo(n),instances:new Set}),!0)}function uo(t){return xd(t)?t.__vccOpts:t}function sm(t,n){const s=ys.get(t);s&&(s.initialDef.render=n,[...s.instances].forEach(o=>{n&&(o.render=n,uo(o.type).render=n),o.renderCache=[],Tn=!0,o.update(),Tn=!1}))}function om(t,n){const s=ys.get(t);if(!s)return;n=uo(n),rc(s.initialDef,n);const o=[...s.instances];for(const r of o){const l=uo(r.type);xs.has(l)||(l!==s.initialDef&&rc(l,n),xs.add(l)),r.appContext.optionsCache.delete(r.type),r.ceReload?(xs.add(l),r.ceReload(n.styles),xs.delete(l)):r.parent?tl(r.parent.update):r.appContext.reload?r.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}Wp(()=>{for(const r of o)xs.delete(uo(r.type))})}function rc(t,n){We(t,n);for(const s in t)s!=="__file"&&!(s in n)&&delete t[s]}function yl(t){return(n,s)=>{try{return t(n,s)}catch(o){console.error(o),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}let Qt,lo=[],Jl=!1;function Wo(t,...n){Qt?Qt.emit(t,...n):Jl||lo.push({event:t,args:n})}function Gp(t,n){var s,o;Qt=t,Qt?(Qt.enabled=!0,lo.forEach(({event:r,args:l})=>Qt.emit(r,...l)),lo=[]):typeof window<"u"&&window.HTMLElement&&!(!((o=(s=window.navigator)===null||s===void 0?void 0:s.userAgent)===null||o===void 0)&&o.includes("jsdom"))?((n.__VUE_DEVTOOLS_HOOK_REPLAY__=n.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(l=>{Gp(l,n)}),setTimeout(()=>{Qt||(n.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Jl=!0,lo=[])},3e3)):(Jl=!0,lo=[])}function rm(t,n){Wo("app:init",t,n,{Fragment:Oe,Text:Yo,Comment:Xe,Static:_r})}function lm(t){Wo("app:unmount",t)}const Zl=ui("component:added"),Qp=ui("component:updated"),am=ui("component:removed"),im=t=>{Qt&&typeof Qt.cleanupBuffer=="function"&&!Qt.cleanupBuffer(t)&&am(t)};function ui(t){return n=>{Wo(t,n.appContext.app,n.uid,n.parent?n.parent.uid:void 0,n)}}const cm=Jp("perf:start"),um=Jp("perf:end");function Jp(t){return(n,s,o)=>{Wo(t,n.appContext.app,n.uid,n,s,o)}}function pm(t,n,s){Wo("component:emit",t.appContext.app,t,n,s)}function dm(t,n,...s){if(t.isUnmounted)return;const o=t.vnode.props||je;{const{emitsOptions:d,propsOptions:[f]}=t;if(d)if(!(n in d))(!f||!(Qn(n)in f))&&j(`Component emitted event "${n}" but it is neither declared in the emits option nor as an "${Qn(n)}" prop.`);else{const h=d[n];fe(h)&&(h(...s)||j(`Invalid event arguments: event validation failed for event "${n}".`))}}let r=s;const l=n.startsWith("update:"),a=l&&n.slice(7);if(a&&a in o){const d=`${a==="modelValue"?"model":a}Modifiers`,{number:f,trim:h}=o[d]||je;h&&(r=s.map(m=>He(m)?m.trim():m)),f&&(r=s.map(oy))}pm(t,n,r);{const d=n.toLowerCase();d!==n&&o[Qn(d)]&&j(`Event "${d}" is emitted in component ${cl(t,t.type)} but the handler is registered for "${n}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${yn(n)}" instead of "${n}".`)}let i,c=o[i=Qn(n)]||o[i=Qn(tn(n))];!c&&l&&(c=o[i=Qn(yn(n))]),c&&Rt(c,t,6,r);const p=o[i+"Once"];if(p){if(!t.emitted)t.emitted={};else if(t.emitted[i])return;t.emitted[i]=!0,Rt(p,t,6,r)}}function Zp(t,n,s=!1){const o=n.emitsCache,r=o.get(t);if(r!==void 0)return r;const l=t.emits;let a={},i=!1;if(!fe(t)){const c=p=>{const d=Zp(p,n,!0);d&&(i=!0,We(a,d))};!s&&n.mixins.length&&n.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!l&&!i?(Re(t)&&o.set(t,null),null):(ue(l)?l.forEach(c=>a[c]=null):We(a,l),Re(t)&&o.set(t,a),a)}function nl(t,n){return!t||!Vo(n)?!1:(n=n.slice(2).replace(/Once$/,""),xe(t,n[0].toLowerCase()+n.slice(1))||xe(t,yn(n))||xe(t,n))}let Ze=null,sl=null;function Or(t){const n=Ze;return Ze=t,sl=t&&t.type.__scopeId||null,n}function FS(t){sl=t}function NS(){sl=null}function I(t,n=Ze,s){if(!n||t._n)return t;const o=(...r)=>{o._d&&vc(-1);const l=Or(n);let a;try{a=t(...r)}finally{Or(l),o._d&&vc(1)}return Qp(n),a};return o._n=!0,o._c=!0,o._d=!0,o}let Xl=!1;function Pr(){Xl=!0}function ml(t){const{type:n,vnode:s,proxy:o,withProxy:r,props:l,propsOptions:[a],slots:i,attrs:c,emit:p,render:d,renderCache:f,data:h,setupState:m,ctx:y,inheritAttrs:v}=t;let _,D;const b=Or(t);Xl=!1;try{if(s.shapeFlag&4){const S=r||o;_=Ht(d.call(S,S,f,l,m,h,y)),D=c}else{const S=n;c===l&&Pr(),_=Ht(S.length>1?S(l,{get attrs(){return Pr(),c},slots:i,emit:p}):S(l,null)),D=n.props?c:hm(c)}}catch(S){fo.length=0,el(S,t,1),_=te(Xe)}let w=_,k;if(_.patchFlag>0&&_.patchFlag&2048&&([w,k]=fm(_)),D&&v!==!1){const S=Object.keys(D),{shapeFlag:M}=w;if(S.length){if(M&7)a&&S.some(Cr)&&(D=ym(D,a)),w=Ut(w,D);else if(!Xl&&w.type!==Xe){const H=Object.keys(c),B=[],V=[];for(let ne=0,pe=H.length;ne<pe;ne++){const K=H[ne];Vo(K)?Cr(K)||B.push(K[2].toLowerCase()+K.slice(3)):V.push(K)}V.length&&j(`Extraneous non-props attributes (${V.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes.`),B.length&&j(`Extraneous non-emits event listeners (${B.join(", ")}) were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.`)}}}return s.dirs&&(lc(w)||j("Runtime directive used on component with non-element root node. The directives will not function as intended."),w=Ut(w),w.dirs=w.dirs?w.dirs.concat(s.dirs):s.dirs),s.transition&&(lc(w)||j("Component inside <Transition> renders non-element root node that cannot be animated."),w.transition=s.transition),k?k(w):_=w,Or(b),_}const fm=t=>{const n=t.children,s=t.dynamicChildren,o=Xp(n);if(!o)return[t,void 0];const r=n.indexOf(o),l=s?s.indexOf(o):-1,a=i=>{n[r]=i,s&&(l>-1?s[l]=i:i.patchFlag>0&&(t.dynamicChildren=[...s,i]))};return[Ht(o),a]};function Xp(t){let n;for(let s=0;s<t.length;s++){const o=t[s];if(qn(o)){if(o.type!==Xe||o.children==="v-if"){if(n)return;n=o}}else return}return n}const hm=t=>{let n;for(const s in t)(s==="class"||s==="style"||Vo(s))&&((n||(n={}))[s]=t[s]);return n},ym=(t,n)=>{const s={};for(const o in t)(!Cr(o)||!(o.slice(9)in n))&&(s[o]=t[o]);return s},lc=t=>t.shapeFlag&7||t.type===Xe;function mm(t,n,s){const{props:o,children:r,component:l}=t,{props:a,children:i,patchFlag:c}=n,p=l.emitsOptions;if((r||i)&&Tn||n.dirs||n.transition)return!0;if(s&&c>=0){if(c&1024)return!0;if(c&16)return o?ac(o,a,p):!!a;if(c&8){const d=n.dynamicProps;for(let f=0;f<d.length;f++){const h=d[f];if(a[h]!==o[h]&&!nl(p,h))return!0}}}else return(r||i)&&(!i||!i.$stable)?!0:o===a?!1:o?a?ac(o,a,p):!0:!!a;return!1}function ac(t,n,s){const o=Object.keys(n);if(o.length!==Object.keys(t).length)return!0;for(let r=0;r<o.length;r++){const l=o[r];if(n[l]!==t[l]&&!nl(s,l))return!0}return!1}function gm({vnode:t,parent:n},s){for(;n&&n.subTree===t;)(t=n.vnode).el=s,n=n.parent}const ed=t=>t.__isSuspense;function vm(t,n){n&&n.pendingBranch?ue(t)?n.effects.push(...t):n.effects.push(t):Wp(t)}function kt(t,n){if(!ze)j("provide() can only be used inside setup().");else{let s=ze.provides;const o=ze.parent&&ze.parent.provides;o===s&&(s=ze.provides=Object.create(o)),s[t]=n}}function O(t,n,s=!1){const o=ze||Ze;if(o){const r=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(r&&t in r)return r[t];if(arguments.length>1)return s&&fe(n)?n.call(o.proxy):n;j(`injection "${String(t)}" not found.`)}else j("inject() can only be used inside setup() or functional components.")}function vs(t,n){return pi(t,null,n)}const rr={};function we(t,n,s){return fe(n)||j("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),pi(t,n,s)}function pi(t,n,{immediate:s,deep:o,flush:r,onTrack:l,onTrigger:a}=je){n||(s!==void 0&&j('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&j('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const i=k=>{j("Invalid watch source: ",k,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},c=ei()===(ze==null?void 0:ze.scope)?ze:null;let p,d=!1,f=!1;if(Pe(t)?(p=()=>t.value,d=$r(t)):cs(t)?(p=()=>t,o=!0):ue(t)?(f=!0,d=t.some(k=>cs(k)||$r(k)),p=()=>t.map(k=>{if(Pe(k))return k.value;if(cs(k))return os(k);if(fe(k))return fn(k,c,2);i(k)})):fe(t)?n?p=()=>fn(t,c,2):p=()=>{if(!(c&&c.isUnmounted))return h&&h(),Rt(t,c,3,[m])}:(p=vt,i(t)),n&&o){const k=p;p=()=>os(k())}let h,m=k=>{h=b.onStop=()=>{fn(k,c,4)}},y;if($o)if(m=vt,n?s&&Rt(n,c,3,[p(),f?[]:void 0,m]):p(),r==="sync"){const k=D9();y=k.__watcherHandles||(k.__watcherHandles=[])}else return vt;let v=f?new Array(t.length).fill(rr):rr;const _=()=>{if(b.active)if(n){const k=b.run();(o||d||(f?k.some((S,M)=>Do(S,v[M])):Do(k,v)))&&(h&&h(),Rt(n,c,3,[k,v===rr?void 0:f&&v[0]===rr?[]:v,m]),v=k)}else b.run()};_.allowRecurse=!!n;let D;r==="sync"?D=_:r==="post"?D=()=>nt(_,c&&c.suspense):(_.pre=!0,c&&(_.id=c.uid),D=()=>tl(_));const b=new ni(p,D);b.onTrack=l,b.onTrigger=a,n?s?_():v=b.run():r==="post"?nt(b.run.bind(b),c&&c.suspense):b.run();const w=()=>{b.stop(),c&&c.scope&&Ga(c.scope.effects,b)};return y&&y.push(w),w}function _m(t,n,s){const o=this.proxy,r=He(t)?t.includes(".")?td(o,t):()=>o[t]:t.bind(o,o);let l;fe(n)?l=n:(l=n.handler,s=n);const a=ze;Fs(this);const i=pi(r,l.bind(o),s);return a?Fs(a):ds(),i}function td(t,n){const s=n.split(".");return()=>{let o=t;for(let r=0;r<s.length&&o;r++)o=o[s[r]];return o}}function os(t,n){if(!Re(t)||t.__v_skip||(n=n||new Set,n.has(t)))return t;if(n.add(t),Pe(t))os(t.value,n);else if(ue(t))for(let s=0;s<t.length;s++)os(t[s],n);else if(_p(t)||as(t))t.forEach(s=>{os(s,n)});else if(Ap(t))for(const s in t)os(t[s],n);return t}function nd(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _s(()=>{t.isMounted=!0}),Ko(()=>{t.isUnmounting=!0}),t}const Ot=[Function,Array],wm={name:"BaseTransition",props:{mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ot,onEnter:Ot,onAfterEnter:Ot,onEnterCancelled:Ot,onBeforeLeave:Ot,onLeave:Ot,onAfterLeave:Ot,onLeaveCancelled:Ot,onBeforeAppear:Ot,onAppear:Ot,onAfterAppear:Ot,onAppearCancelled:Ot},setup(t,{slots:n}){const s=Tt(),o=nd();let r;return()=>{const l=n.default&&di(n.default(),!0);if(!l||!l.length)return;let a=l[0];if(l.length>1){let v=!1;for(const _ of l)if(_.type!==Xe){if(v){j("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}a=_,v=!0}}const i=ye(t),{mode:c}=i;if(c&&c!=="in-out"&&c!=="out-in"&&c!=="default"&&j(`invalid <transition> mode: ${c}`),o.isLeaving)return gl(a);const p=ic(a);if(!p)return gl(a);const d=Bo(p,i,o,s);Ls(p,d);const f=s.subTree,h=f&&ic(f);let m=!1;const{getTransitionKey:y}=p.type;if(y){const v=y();r===void 0?r=v:v!==r&&(r=v,m=!0)}if(h&&h.type!==Xe&&(!Bn(p,h)||m)){const v=Bo(h,i,o,s);if(Ls(h,v),c==="out-in")return o.isLeaving=!0,v.afterLeave=()=>{o.isLeaving=!1,s.update.active!==!1&&s.update()},gl(a);c==="in-out"&&p.type!==Xe&&(v.delayLeave=(_,D,b)=>{const w=sd(o,h);w[String(h.key)]=h,_._leaveCb=()=>{D(),_._leaveCb=void 0,delete d.delayedLeave},d.delayedLeave=b})}return a}}},Am=wm;function sd(t,n){const{leavingVNodes:s}=t;let o=s.get(n.type);return o||(o=Object.create(null),s.set(n.type,o)),o}function Bo(t,n,s,o){const{appear:r,mode:l,persisted:a=!1,onBeforeEnter:i,onEnter:c,onAfterEnter:p,onEnterCancelled:d,onBeforeLeave:f,onLeave:h,onAfterLeave:m,onLeaveCancelled:y,onBeforeAppear:v,onAppear:_,onAfterAppear:D,onAppearCancelled:b}=n,w=String(t.key),k=sd(s,t),S=(B,V)=>{B&&Rt(B,o,9,V)},M=(B,V)=>{const ne=V[1];S(B,V),ue(B)?B.every(pe=>pe.length<=1)&&ne():B.length<=1&&ne()},H={mode:l,persisted:a,beforeEnter(B){let V=i;if(!s.isMounted)if(r)V=v||i;else return;B._leaveCb&&B._leaveCb(!0);const ne=k[w];ne&&Bn(t,ne)&&ne.el._leaveCb&&ne.el._leaveCb(),S(V,[B])},enter(B){let V=c,ne=p,pe=d;if(!s.isMounted)if(r)V=_||c,ne=D||p,pe=b||d;else return;let K=!1;const be=B._enterCb=ve=>{K||(K=!0,ve?S(pe,[B]):S(ne,[B]),H.delayedLeave&&H.delayedLeave(),B._enterCb=void 0)};V?M(V,[B,be]):be()},leave(B,V){const ne=String(t.key);if(B._enterCb&&B._enterCb(!0),s.isUnmounting)return V();S(f,[B]);let pe=!1;const K=B._leaveCb=be=>{pe||(pe=!0,V(),be?S(y,[B]):S(m,[B]),B._leaveCb=void 0,k[ne]===t&&delete k[ne])};k[ne]=t,h?M(h,[B,K]):K()},clone(B){return Bo(B,n,s,o)}};return H}function gl(t){if(zo(t))return t=Ut(t),t.children=null,t}function ic(t){return zo(t)?t.children?t.children[0]:void 0:t}function Ls(t,n){t.shapeFlag&6&&t.component?Ls(t.component.subTree,n):t.shapeFlag&128?(t.ssContent.transition=n.clone(t.ssContent),t.ssFallback.transition=n.clone(t.ssFallback)):t.transition=n}function di(t,n=!1,s){let o=[],r=0;for(let l=0;l<t.length;l++){let a=t[l];const i=s==null?a.key:String(s)+String(a.key!=null?a.key:l);a.type===Oe?(a.patchFlag&128&&r++,o=o.concat(di(a.children,n,i))):(n||a.type!==Xe)&&o.push(i!=null?Ut(a,{key:i}):a)}if(r>1)for(let l=0;l<o.length;l++)o[l].patchFlag=-2;return o}function Le(t){return fe(t)?{setup:t,name:t.name}:t}const Ps=t=>!!t.type.__asyncLoader,zo=t=>t.type.__isKeepAlive,bm={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:n}){const s=Tt(),o=s.ctx;if(!o.renderer)return()=>{const b=n.default&&n.default();return b&&b.length===1?b[0]:b};const r=new Map,l=new Set;let a=null;s.__v_cache=r;const i=s.suspense,{renderer:{p:c,m:p,um:d,o:{createElement:f}}}=o,h=f("div");o.activate=(b,w,k,S,M)=>{const H=b.component;p(b,w,k,0,i),c(H.vnode,b,w,k,H,i,S,b.slotScopeIds,M),nt(()=>{H.isDeactivated=!1,H.a&&Xn(H.a);const B=b.props&&b.props.onVnodeMounted;B&&Pt(B,H.parent,b)},i),Zl(H)},o.deactivate=b=>{const w=b.component;p(b,h,null,1,i),nt(()=>{w.da&&Xn(w.da);const k=b.props&&b.props.onVnodeUnmounted;k&&Pt(k,w.parent,b),w.isDeactivated=!0},i),Zl(w)};function m(b){vl(b),d(b,s,i,!0)}function y(b){r.forEach((w,k)=>{const S=To(w.type);S&&(!b||!b(S))&&v(k)})}function v(b){const w=r.get(b);!a||!Bn(w,a)?m(w):a&&vl(a),r.delete(b),l.delete(b)}we(()=>[t.include,t.exclude],([b,w])=>{b&&y(k=>ao(b,k)),w&&y(k=>!ao(w,k))},{flush:"post",deep:!0});let _=null;const D=()=>{_!=null&&r.set(_,_l(s.subTree))};return _s(D),rl(D),Ko(()=>{r.forEach(b=>{const{subTree:w,suspense:k}=s,S=_l(w);if(b.type===S.type&&b.key===S.key){vl(S);const M=S.component.da;M&&nt(M,k);return}m(b)})}),()=>{if(_=null,!n.default)return null;const b=n.default(),w=b[0];if(b.length>1)return j("KeepAlive should contain exactly one component child."),a=null,b;if(!qn(w)||!(w.shapeFlag&4)&&!(w.shapeFlag&128))return a=null,w;let k=_l(w);const S=k.type,M=To(Ps(k)?k.type.__asyncResolved||{}:S),{include:H,exclude:B,max:V}=t;if(H&&(!M||!ao(H,M))||B&&M&&ao(B,M))return a=k,w;const ne=k.key==null?S:k.key,pe=r.get(ne);return k.el&&(k=Ut(k),w.shapeFlag&128&&(w.ssContent=k)),_=ne,pe?(k.el=pe.el,k.component=pe.component,k.transition&&Ls(k,k.transition),k.shapeFlag|=512,l.delete(ne),l.add(ne)):(l.add(ne),V&&l.size>parseInt(V,10)&&v(l.values().next().value)),k.shapeFlag|=256,a=k,ed(w.type)?w:k}}},od=bm;function ao(t,n){return ue(t)?t.some(s=>ao(s,n)):He(t)?t.split(",").includes(n):ey(t)?t.test(n):!1}function rd(t,n){ad(t,"a",n)}function ld(t,n){ad(t,"da",n)}function ad(t,n,s=ze){const o=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(ol(n,o,s),s){let r=s.parent;for(;r&&r.parent;)zo(r.parent.vnode)&&Em(o,n,s,r),r=r.parent}}function Em(t,n,s,o){const r=ol(n,t,o,!0);ll(()=>{Ga(o[n],r)},s)}function vl(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function _l(t){return t.shapeFlag&128?t.ssContent:t}function ol(t,n,s=ze,o=!1){if(s){const r=s[t]||(s[t]=[]),l=n.__weh||(n.__weh=(...a)=>{if(s.isUnmounted)return;ms(),Fs(s);const i=Rt(n,s,t,a);return ds(),gs(),i});return o?r.unshift(l):r.push(l),l}else{const r=Qn(ai[t].replace(/ hook$/,""));j(`${r} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup(). If you are using async setup(), make sure to register lifecycle hooks before the first await statement.`)}}const vn=t=>(n,s=ze)=>(!$o||t==="sp")&&ol(t,(...o)=>n(...o),s),Dm=vn("bm"),_s=vn("m"),km=vn("bu"),rl=vn("u"),Ko=vn("bum"),ll=vn("um"),Cm=vn("sp"),xm=vn("rtg"),Bm=vn("rtc");function Sm(t,n=ze){ol("ec",t,n)}function id(t){ty(t)&&j("Do not use built-in directive ids as custom directive id: "+t)}function cd(t,n){const s=Ze;if(s===null)return j("withDirectives can only be used inside render functions."),t;const o=il(s)||s.proxy,r=t.dirs||(t.dirs=[]);for(let l=0;l<n.length;l++){let[a,i,c,p=je]=n[l];a&&(fe(a)&&(a={mounted:a,updated:a}),a.deep&&os(i),r.push({dir:a,instance:o,value:i,oldValue:void 0,arg:c,modifiers:p}))}return t}function Wn(t,n,s,o){const r=t.dirs,l=n&&n.dirs;for(let a=0;a<r.length;a++){const i=r[a];l&&(i.oldValue=l[a].value);let c=i.dir[o];c&&(ms(),Rt(c,s,8,[t.el,i,t,n]),gs())}}const ea="components";function Ir(t,n){return Tm(ea,t,!0,n)||t}const $m=Symbol();function Tm(t,n,s=!0,o=!1){const r=Ze||ze;if(r){const l=r.type;if(t===ea){const i=To(l,!1);if(i&&(i===n||i===tn(n)||i===hs(tn(n))))return l}const a=cc(r[t]||l[t],n)||cc(r.appContext[t],n);if(!a&&o)return l;if(s&&!a){const i=t===ea?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";j(`Failed to resolve ${t.slice(0,-1)}: ${n}${i}`)}return a}else j(`resolve${hs(t.slice(0,-1))} can only be used in render() or setup().`)}function cc(t,n){return t&&(t[n]||t[tn(n)]||t[hs(tn(n))])}function Hs(t,n,s,o){let r;const l=s&&s[o];if(ue(t)||He(t)){r=new Array(t.length);for(let a=0,i=t.length;a<i;a++)r[a]=n(t[a],a,void 0,l&&l[a])}else if(typeof t=="number"){Number.isInteger(t)||j(`The v-for range expect an integer value but got ${t}.`),r=new Array(t);for(let a=0;a<t;a++)r[a]=n(a+1,a,void 0,l&&l[a])}else if(Re(t))if(t[Symbol.iterator])r=Array.from(t,(a,i)=>n(a,i,void 0,l&&l[i]));else{const a=Object.keys(t);r=new Array(a.length);for(let i=0,c=a.length;i<c;i++){const p=a[i];r[i]=n(t[p],p,i,l&&l[i])}}else r=[];return s&&(s[o]=r),r}function jn(t,n,s={},o,r){if(Ze.isCE||Ze.parent&&Ps(Ze.parent)&&Ze.parent.isCE)return n!=="default"&&(s.name=n),te("slot",s,o&&o());let l=t[n];l&&l.length>1&&(j("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),l=()=>[]),l&&l._c&&(l._d=!1),E();const a=l&&ud(l(s)),i=P(Oe,{key:s.key||a&&a.key||`_${n}`},a||(o?o():[]),a&&t._===1?64:-2);return!r&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),l&&l._c&&(l._d=!0),i}function ud(t){return t.some(n=>qn(n)?!(n.type===Xe||n.type===Oe&&!ud(n.children)):!0)?t:null}const ta=t=>t?Dd(t)?il(t)||t.proxy:ta(t.parent):null,ps=We(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>Ss(t.props),$attrs:t=>Ss(t.attrs),$slots:t=>Ss(t.slots),$refs:t=>Ss(t.refs),$parent:t=>ta(t.parent),$root:t=>ta(t.root),$emit:t=>t.emit,$options:t=>hi(t),$forceUpdate:t=>t.f||(t.f=()=>tl(t.update)),$nextTick:t=>t.n||(t.n=lt.bind(t.proxy)),$watch:t=>_m.bind(t)}),fi=t=>t==="_"||t==="$",wl=(t,n)=>t!==je&&!t.__isScriptSetup&&xe(t,n),pd={get({_:t},n){const{ctx:s,setupState:o,data:r,props:l,accessCache:a,type:i,appContext:c}=t;if(n==="__isVue")return!0;let p;if(n[0]!=="$"){const m=a[n];if(m!==void 0)switch(m){case 1:return o[n];case 2:return r[n];case 4:return s[n];case 3:return l[n]}else{if(wl(o,n))return a[n]=1,o[n];if(r!==je&&xe(r,n))return a[n]=2,r[n];if((p=t.propsOptions[0])&&xe(p,n))return a[n]=3,l[n];if(s!==je&&xe(s,n))return a[n]=4,s[n];na&&(a[n]=0)}}const d=ps[n];let f,h;if(d)return n==="$attrs"&&(wt(t,"get",n),Pr()),d(t);if((f=i.__cssModules)&&(f=f[n]))return f;if(s!==je&&xe(s,n))return a[n]=4,s[n];if(h=c.config.globalProperties,xe(h,n))return h[n];Ze&&(!He(n)||n.indexOf("__v")!==0)&&(r!==je&&fi(n[0])&&xe(r,n)?j(`Property ${JSON.stringify(n)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===Ze&&j(`Property ${JSON.stringify(n)} was accessed during render but is not defined on instance.`))},set({_:t},n,s){const{data:o,setupState:r,ctx:l}=t;return wl(r,n)?(r[n]=s,!0):r.__isScriptSetup&&xe(r,n)?(j(`Cannot mutate <script setup> binding "${n}" from Options API.`),!1):o!==je&&xe(o,n)?(o[n]=s,!0):xe(t.props,n)?(j(`Attempting to mutate prop "${n}". Props are readonly.`),!1):n[0]==="$"&&n.slice(1)in t?(j(`Attempting to mutate public property "${n}". Properties starting with $ are reserved and readonly.`),!1):(n in t.appContext.config.globalProperties?Object.defineProperty(l,n,{enumerable:!0,configurable:!0,value:s}):l[n]=s,!0)},has({_:{data:t,setupState:n,accessCache:s,ctx:o,appContext:r,propsOptions:l}},a){let i;return!!s[a]||t!==je&&xe(t,a)||wl(n,a)||(i=l[0])&&xe(i,a)||xe(o,a)||xe(ps,a)||xe(r.config.globalProperties,a)},defineProperty(t,n,s){return s.get!=null?t._.accessCache[n]=0:xe(s,"value")&&this.set(t,n,s.value,null),Reflect.defineProperty(t,n,s)}};pd.ownKeys=t=>(j("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));function Om(t){const n={};return Object.defineProperty(n,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(ps).forEach(s=>{Object.defineProperty(n,s,{configurable:!0,enumerable:!1,get:()=>ps[s](t),set:vt})}),n}function Pm(t){const{ctx:n,propsOptions:[s]}=t;s&&Object.keys(s).forEach(o=>{Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>t.props[o],set:vt})})}function Im(t){const{ctx:n,setupState:s}=t;Object.keys(ye(s)).forEach(o=>{if(!s.__isScriptSetup){if(fi(o[0])){j(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(n,o,{enumerable:!0,configurable:!0,get:()=>s[o],set:vt})}})}function Mm(){const t=Object.create(null);return(n,s)=>{t[s]?j(`${n} property "${s}" is already defined in ${t[s]}.`):t[s]=n}}let na=!0;function Rm(t){const n=hi(t),s=t.proxy,o=t.ctx;na=!1,n.beforeCreate&&uc(n.beforeCreate,t,"bc");const{data:r,computed:l,methods:a,watch:i,provide:c,inject:p,created:d,beforeMount:f,mounted:h,beforeUpdate:m,updated:y,activated:v,deactivated:_,beforeDestroy:D,beforeUnmount:b,destroyed:w,unmounted:k,render:S,renderTracked:M,renderTriggered:H,errorCaptured:B,serverPrefetch:V,expose:ne,inheritAttrs:pe,components:K,directives:be,filters:ve}=n,Ee=Mm();{const[ee]=t.propsOptions;if(ee)for(const ce in ee)Ee("Props",ce)}if(p&&Lm(p,o,Ee,t.appContext.config.unwrapInjectedRef),a)for(const ee in a){const ce=a[ee];fe(ce)?(Object.defineProperty(o,ee,{value:ce.bind(s),configurable:!0,enumerable:!0,writable:!0}),Ee("Methods",ee)):j(`Method "${ee}" has type "${typeof ce}" in the component definition. Did you reference the function correctly?`)}if(r){fe(r)||j("The data option must be a function. Plain object usage is no longer supported.");const ee=r.call(s,s);if(Ja(ee)&&j("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Re(ee))j("data() should return an object.");else{t.data=Ve(ee);for(const ce in ee)Ee("Data",ce),fi(ce[0])||Object.defineProperty(o,ce,{configurable:!0,enumerable:!0,get:()=>ee[ce],set:vt})}}if(na=!0,l)for(const ee in l){const ce=l[ee],De=fe(ce)?ce.bind(s,s):fe(ce.get)?ce.get.bind(s,s):vt;De===vt&&j(`Computed property "${ee}" has no getter.`);const Fe=!fe(ce)&&fe(ce.set)?ce.set.bind(s):()=>{j(`Write operation failed: computed property "${ee}" is readonly.`)},At=$({get:De,set:Fe});Object.defineProperty(o,ee,{enumerable:!0,configurable:!0,get:()=>At.value,set:st=>At.value=st}),Ee("Computed",ee)}if(i)for(const ee in i)dd(i[ee],o,s,ee);if(c){const ee=fe(c)?c.call(s):c;Reflect.ownKeys(ee).forEach(ce=>{kt(ce,ee[ce])})}d&&uc(d,t,"c");function Ie(ee,ce){ue(ce)?ce.forEach(De=>ee(De.bind(s))):ce&&ee(ce.bind(s))}if(Ie(Dm,f),Ie(_s,h),Ie(km,m),Ie(rl,y),Ie(rd,v),Ie(ld,_),Ie(Sm,B),Ie(Bm,M),Ie(xm,H),Ie(Ko,b),Ie(ll,k),Ie(Cm,V),ue(ne))if(ne.length){const ee=t.exposed||(t.exposed={});ne.forEach(ce=>{Object.defineProperty(ee,ce,{get:()=>s[ce],set:De=>s[ce]=De})})}else t.exposed||(t.exposed={});S&&t.render===vt&&(t.render=S),pe!=null&&(t.inheritAttrs=pe),K&&(t.components=K),be&&(t.directives=be)}function Lm(t,n,s=vt,o=!1){ue(t)&&(t=sa(t));for(const r in t){const l=t[r];let a;Re(l)?"default"in l?a=O(l.from||r,l.default,!0):a=O(l.from||r):a=O(l),Pe(a)?o?Object.defineProperty(n,r,{enumerable:!0,configurable:!0,get:()=>a.value,set:i=>a.value=i}):(j(`injected property "${r}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),n[r]=a):n[r]=a,s("Inject",r)}}function uc(t,n,s){Rt(ue(t)?t.map(o=>o.bind(n.proxy)):t.bind(n.proxy),n,s)}function dd(t,n,s,o){const r=o.includes(".")?td(s,o):()=>s[o];if(He(t)){const l=n[t];fe(l)?we(r,l):j(`Invalid watch handler specified by key "${t}"`,l)}else if(fe(t))we(r,t.bind(s));else if(Re(t))if(ue(t))t.forEach(l=>dd(l,n,s,o));else{const l=fe(t.handler)?t.handler.bind(s):n[t.handler];fe(l)?we(r,l,t):j(`Invalid watch handler specified by key "${t.handler}"`,l)}else j(`Invalid watch option: "${o}"`,t)}function hi(t){const n=t.type,{mixins:s,extends:o}=n,{mixins:r,optionsCache:l,config:{optionMergeStrategies:a}}=t.appContext,i=l.get(n);let c;return i?c=i:!r.length&&!s&&!o?c=n:(c={},r.length&&r.forEach(p=>Mr(c,p,a,!0)),Mr(c,n,a)),Re(n)&&l.set(n,c),c}function Mr(t,n,s,o=!1){const{mixins:r,extends:l}=n;l&&Mr(t,l,s,!0),r&&r.forEach(a=>Mr(t,a,s,!0));for(const a in n)if(o&&a==="expose")j('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const i=Fm[a]||s&&s[a];t[a]=i?i(t[a],n[a]):n[a]}return t}const Fm={data:pc,props:Jn,emits:Jn,methods:Jn,computed:Jn,beforeCreate:ut,created:ut,beforeMount:ut,mounted:ut,beforeUpdate:ut,updated:ut,beforeDestroy:ut,beforeUnmount:ut,destroyed:ut,unmounted:ut,activated:ut,deactivated:ut,errorCaptured:ut,serverPrefetch:ut,components:Jn,directives:Jn,watch:jm,provide:pc,inject:Nm};function pc(t,n){return n?t?function(){return We(fe(t)?t.call(this,this):t,fe(n)?n.call(this,this):n)}:n:t}function Nm(t,n){return Jn(sa(t),sa(n))}function sa(t){if(ue(t)){const n={};for(let s=0;s<t.length;s++)n[t[s]]=t[s];return n}return t}function ut(t,n){return t?[...new Set([].concat(t,n))]:n}function Jn(t,n){return t?We(We(Object.create(null),t),n):n}function jm(t,n){if(!t)return n;if(!n)return t;const s=We(Object.create(null),t);for(const o in n)s[o]=ut(t[o],n[o]);return s}function qm(t,n,s,o=!1){const r={},l={};xr(l,al,1),t.propsDefaults=Object.create(null),fd(t,n,r,l);for(const a in t.propsOptions[0])a in r||(r[a]=void 0);yd(n||{},r,t),s?t.props=o?r:Ry(r):t.type.props?t.props=r:t.props=l,t.attrs=l}function Hm(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function Vm(t,n,s,o){const{props:r,attrs:l,vnode:{patchFlag:a}}=t,i=ye(r),[c]=t.propsOptions;let p=!1;if(!Hm(t)&&(o||a>0)&&!(a&16)){if(a&8){const d=t.vnode.dynamicProps;for(let f=0;f<d.length;f++){let h=d[f];if(nl(t.emitsOptions,h))continue;const m=n[h];if(c)if(xe(l,h))m!==l[h]&&(l[h]=m,p=!0);else{const y=tn(h);r[y]=oa(c,i,y,m,t,!1)}else m!==l[h]&&(l[h]=m,p=!0)}}}else{fd(t,n,r,l)&&(p=!0);let d;for(const f in i)(!n||!xe(n,f)&&((d=yn(f))===f||!xe(n,d)))&&(c?s&&(s[f]!==void 0||s[d]!==void 0)&&(r[f]=oa(c,i,f,void 0,t,!0)):delete r[f]);if(l!==i)for(const f in l)(!n||!xe(n,f))&&(delete l[f],p=!0)}p&&mn(t,"set","$attrs"),yd(n||{},r,t)}function fd(t,n,s,o){const[r,l]=t.propsOptions;let a=!1,i;if(n)for(let c in n){if(mr(c))continue;const p=n[c];let d;r&&xe(r,d=tn(c))?!l||!l.includes(d)?s[d]=p:(i||(i={}))[d]=p:nl(t.emitsOptions,c)||(!(c in o)||p!==o[c])&&(o[c]=p,a=!0)}if(l){const c=ye(s),p=i||je;for(let d=0;d<l.length;d++){const f=l[d];s[f]=oa(r,c,f,p[f],t,!xe(p,f))}}return a}function oa(t,n,s,o,r,l){const a=t[s];if(a!=null){const i=xe(a,"default");if(i&&o===void 0){const c=a.default;if(a.type!==Function&&fe(c)){const{propsDefaults:p}=r;s in p?o=p[s]:(Fs(r),o=p[s]=c.call(null,n),ds())}else o=c}a[0]&&(l&&!i?o=!1:a[1]&&(o===""||o===yn(s))&&(o=!0))}return o}function hd(t,n,s=!1){const o=n.propsCache,r=o.get(t);if(r)return r;const l=t.props,a={},i=[];let c=!1;if(!fe(t)){const d=f=>{c=!0;const[h,m]=hd(f,n,!0);We(a,h),m&&i.push(...m)};!s&&n.mixins.length&&n.mixins.forEach(d),t.extends&&d(t.extends),t.mixins&&t.mixins.forEach(d)}if(!l&&!c)return Re(t)&&o.set(t,Ts),Ts;if(ue(l))for(let d=0;d<l.length;d++){He(l[d])||j("props must be strings when using array syntax.",l[d]);const f=tn(l[d]);dc(f)&&(a[f]=je)}else if(l){Re(l)||j("invalid props options",l);for(const d in l){const f=tn(d);if(dc(f)){const h=l[d],m=a[f]=ue(h)||fe(h)?{type:h}:Object.assign({},h);if(m){const y=hc(Boolean,m.type),v=hc(String,m.type);m[0]=y>-1,m[1]=v<0||y<v,(y>-1||xe(m,"default"))&&i.push(f)}}}}const p=[a,i];return Re(t)&&o.set(t,p),p}function dc(t){return t[0]!=="$"?!0:(j(`Invalid prop name: "${t}" is a reserved property.`),!1)}function ra(t){const n=t&&t.toString().match(/^\s*(function|class) (\w+)/);return n?n[2]:t===null?"null":""}function fc(t,n){return ra(t)===ra(n)}function hc(t,n){return ue(n)?n.findIndex(s=>fc(s,t)):fe(n)&&fc(n,t)?0:-1}function yd(t,n,s){const o=ye(n),r=s.propsOptions[0];for(const l in r){let a=r[l];a!=null&&Um(l,o[l],a,!xe(t,l)&&!xe(t,yn(l)))}}function Um(t,n,s,o){const{type:r,required:l,validator:a}=s;if(l&&o){j('Missing required prop: "'+t+'"');return}if(!(n==null&&!s.required)){if(r!=null&&r!==!0){let i=!1;const c=ue(r)?r:[r],p=[];for(let d=0;d<c.length&&!i;d++){const{valid:f,expectedType:h}=zm(n,c[d]);p.push(h||""),i=f}if(!i){j(Km(t,n,p));return}}a&&!a(n)&&j('Invalid prop: custom validator check failed for prop "'+t+'".')}}const Wm=Vn("String,Number,Boolean,Function,Symbol,BigInt");function zm(t,n){let s;const o=ra(n);if(Wm(o)){const r=typeof t;s=r===o.toLowerCase(),!s&&r==="object"&&(s=t instanceof n)}else o==="Object"?s=Re(t):o==="Array"?s=ue(t):o==="null"?s=t===null:s=t instanceof n;return{valid:s,expectedType:o}}function Km(t,n,s){let o=`Invalid prop: type check failed for prop "${t}". Expected ${s.map(hs).join(" | ")}`;const r=s[0],l=Za(n),a=yc(n,r),i=yc(n,l);return s.length===1&&mc(r)&&!Ym(r,l)&&(o+=` with value ${a}`),o+=`, got ${l} `,mc(l)&&(o+=`with value ${i}.`),o}function yc(t,n){return n==="String"?`"${t}"`:n==="Number"?`${Number(t)}`:`${t}`}function mc(t){return["string","number","boolean"].some(s=>t.toLowerCase()===s)}function Ym(...t){return t.some(n=>n.toLowerCase()==="boolean")}const md=t=>t[0]==="_"||t==="$stable",yi=t=>ue(t)?t.map(Ht):[Ht(t)],Gm=(t,n,s)=>{if(n._n)return n;const o=I((...r)=>(ze&&j(`Slot "${t}" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.`),yi(n(...r))),s);return o._c=!1,o},gd=(t,n,s)=>{const o=t._ctx;for(const r in t){if(md(r))continue;const l=t[r];if(fe(l))n[r]=Gm(r,l,o);else if(l!=null){j(`Non-function value encountered for slot "${r}". Prefer function slots for better performance.`);const a=yi(l);n[r]=()=>a}}},vd=(t,n)=>{zo(t.vnode)||j("Non-function value encountered for default slot. Prefer function slots for better performance.");const s=yi(n);t.slots.default=()=>s},Qm=(t,n)=>{if(t.vnode.shapeFlag&32){const s=n._;s?(t.slots=ye(n),xr(n,"_",s)):gd(n,t.slots={})}else t.slots={},n&&vd(t,n);xr(t.slots,al,1)},Jm=(t,n,s)=>{const{vnode:o,slots:r}=t;let l=!0,a=je;if(o.shapeFlag&32){const i=n._;i?Tn?We(r,n):s&&i===1?l=!1:(We(r,n),!s&&i===1&&delete r._):(l=!n.$stable,gd(n,r)),a=n}else n&&(vd(t,n),a={default:1});if(l)for(const i in r)!md(i)&&!(i in a)&&delete r[i]};function _d(){return{app:null,config:{isNativeTag:vp,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Zm=0;function Xm(t,n){return function(o,r=null){fe(o)||(o=Object.assign({},o)),r!=null&&!Re(r)&&(j("root props passed to app.mount() must be an object."),r=null);const l=_d(),a=new Set;let i=!1;const c=l.app={_uid:Zm++,_component:o,_props:r,_container:null,_context:l,_instance:null,version:Lr,get config(){return l.config},set config(p){j("app.config cannot be replaced. Modify individual options instead.")},use(p,...d){return a.has(p)?j("Plugin has already been applied to target app."):p&&fe(p.install)?(a.add(p),p.install(c,...d)):fe(p)?(a.add(p),p(c,...d)):j('A plugin must either be a function or an object with an "install" function.'),c},mixin(p){return l.mixins.includes(p)?j("Mixin has already been applied to target app"+(p.name?`: ${p.name}`:"")):l.mixins.push(p),c},component(p,d){return ia(p,l.config),d?(l.components[p]&&j(`Component "${p}" has already been registered in target app.`),l.components[p]=d,c):l.components[p]},directive(p,d){return id(p),d?(l.directives[p]&&j(`Directive "${p}" has already been registered in target app.`),l.directives[p]=d,c):l.directives[p]},mount(p,d,f){if(i)j("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`");else{p.__vue_app__&&j("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const h=te(o,r);return h.appContext=l,l.reload=()=>{t(Ut(h),p,f)},d&&n?n(h,p):t(h,p,f),i=!0,c._container=p,p.__vue_app__=c,c._instance=h.component,rm(c,Lr),il(h.component)||h.component.proxy}},unmount(){i?(t(null,c._container),c._instance=null,lm(c),delete c._container.__vue_app__):j("Cannot unmount an app that is not mounted.")},provide(p,d){return p in l.provides&&j(`App already provides property with key "${String(p)}". It will be overwritten with the new value.`),l.provides[p]=d,c}};return c}}function la(t,n,s,o,r=!1){if(ue(t)){t.forEach((h,m)=>la(h,n&&(ue(n)?n[m]:n),s,o,r));return}if(Ps(o)&&!r)return;const l=o.shapeFlag&4?il(o.component)||o.component.proxy:o.el,a=r?null:l,{i,r:c}=t;if(!i){j("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");return}const p=n&&n.r,d=i.refs===je?i.refs={}:i.refs,f=i.setupState;if(p!=null&&p!==c&&(He(p)?(d[p]=null,xe(f,p)&&(f[p]=null)):Pe(p)&&(p.value=null)),fe(c))fn(c,i,12,[a,d]);else{const h=He(c),m=Pe(c);if(h||m){const y=()=>{if(t.f){const v=h?xe(f,c)?f[c]:d[c]:c.value;r?ue(v)&&Ga(v,l):ue(v)?v.includes(l)||v.push(l):h?(d[c]=[l],xe(f,c)&&(f[c]=d[c])):(c.value=[l],t.k&&(d[t.k]=c.value))}else h?(d[c]=a,xe(f,c)&&(f[c]=a)):m?(c.value=a,t.k&&(d[t.k]=a)):j("Invalid template ref type:",c,`(${typeof c})`)};a?(y.id=-1,nt(y,s)):y()}else j("Invalid template ref type:",c,`(${typeof c})`)}}let Ks,xn;function rn(t,n){t.appContext.config.performance&&Rr()&&xn.mark(`vue-${n}-${t.uid}`),cm(t,n,Rr()?xn.now():Date.now())}function ln(t,n){if(t.appContext.config.performance&&Rr()){const s=`vue-${n}-${t.uid}`,o=s+":end";xn.mark(o),xn.measure(`<${cl(t,t.type)}> ${n}`,s,o),xn.clearMarks(s),xn.clearMarks(o)}um(t,n,Rr()?xn.now():Date.now())}function Rr(){return Ks!==void 0||(typeof window<"u"&&window.performance?(Ks=!0,xn=window.performance):Ks=!1),Ks}function e9(){const t=[];if(t.length){const n=t.length>1;console.warn(`Feature flag${n?"s":""} ${t.join(", ")} ${n?"are":"is"} not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.

For more details, see https://link.vuejs.org/feature-flags.`)}}const nt=vm;function t9(t){return n9(t)}function n9(t,n){e9();const s=bp();s.__VUE__=!0,Gp(s.__VUE_DEVTOOLS_GLOBAL_HOOK__,s);const{insert:o,remove:r,patchProp:l,createElement:a,createText:i,createComment:c,setText:p,setElementText:d,parentNode:f,nextSibling:h,setScopeId:m=vt,insertStaticContent:y}=t,v=(g,A,x,L=null,R=null,W=null,X=!1,U=null,z=Tn?!1:!!A.dynamicChildren)=>{if(g===A)return;g&&!Bn(g,A)&&(L=re(g),yt(g,R,W,!0),g=null),A.patchFlag===-2&&(z=!1,A.dynamicChildren=null);const{type:q,ref:ae,shapeFlag:le}=A;switch(q){case Yo:_(g,A,x,L);break;case Xe:D(g,A,x,L);break;case _r:g==null?b(A,x,L,X):w(g,A,x,X);break;case Oe:be(g,A,x,L,R,W,X,U,z);break;default:le&1?M(g,A,x,L,R,W,X,U,z):le&6?ve(g,A,x,L,R,W,X,U,z):le&64||le&128?q.process(g,A,x,L,R,W,X,U,z,Se):j("Invalid VNode type:",q,`(${typeof q})`)}ae!=null&&R&&la(ae,g&&g.ref,W,A||g,!A)},_=(g,A,x,L)=>{if(g==null)o(A.el=i(A.children),x,L);else{const R=A.el=g.el;A.children!==g.children&&p(R,A.children)}},D=(g,A,x,L)=>{g==null?o(A.el=c(A.children||""),x,L):A.el=g.el},b=(g,A,x,L)=>{[g.el,g.anchor]=y(g.children,A,x,L,g.el,g.anchor)},w=(g,A,x,L)=>{if(A.children!==g.children){const R=h(g.anchor);S(g),[A.el,A.anchor]=y(A.children,x,R,L)}else A.el=g.el,A.anchor=g.anchor},k=({el:g,anchor:A},x,L)=>{let R;for(;g&&g!==A;)R=h(g),o(g,x,L),g=R;o(A,x,L)},S=({el:g,anchor:A})=>{let x;for(;g&&g!==A;)x=h(g),r(g),g=x;r(A)},M=(g,A,x,L,R,W,X,U,z)=>{X=X||A.type==="svg",g==null?H(A,x,L,R,W,X,U,z):ne(g,A,R,W,X,U,z)},H=(g,A,x,L,R,W,X,U)=>{let z,q;const{type:ae,props:le,shapeFlag:ie,transition:ge,dirs:Be}=g;if(z=g.el=a(g.type,W,le&&le.is,le),ie&8?d(z,g.children):ie&16&&V(g.children,z,null,L,R,W&&ae!=="foreignObject",X,U),Be&&Wn(g,null,L,"created"),B(z,g,g.scopeId,X,L),le){for(const Ne in le)Ne!=="value"&&!mr(Ne)&&l(z,Ne,null,le[Ne],W,g.children,L,R,G);"value"in le&&l(z,"value",null,le.value),(q=le.onVnodeBeforeMount)&&Pt(q,L,g)}Object.defineProperty(z,"__vnode",{value:g,enumerable:!1}),Object.defineProperty(z,"__vueParentComponent",{value:L,enumerable:!1}),Be&&Wn(g,null,L,"beforeMount");const qe=(!R||R&&!R.pendingBranch)&&ge&&!ge.persisted;qe&&ge.beforeEnter(z),o(z,A,x),((q=le&&le.onVnodeMounted)||qe||Be)&&nt(()=>{q&&Pt(q,L,g),qe&&ge.enter(z),Be&&Wn(g,null,L,"mounted")},R)},B=(g,A,x,L,R)=>{if(x&&m(g,x),L)for(let W=0;W<L.length;W++)m(g,L[W]);if(R){let W=R.subTree;if(W.patchFlag>0&&W.patchFlag&2048&&(W=Xp(W.children)||W),A===W){const X=R.vnode;B(g,X,X.scopeId,X.slotScopeIds,R.parent)}}},V=(g,A,x,L,R,W,X,U,z=0)=>{for(let q=z;q<g.length;q++){const ae=g[q]=U?kn(g[q]):Ht(g[q]);v(null,ae,A,x,L,R,W,X,U)}},ne=(g,A,x,L,R,W,X)=>{const U=A.el=g.el;let{patchFlag:z,dynamicChildren:q,dirs:ae}=A;z|=g.patchFlag&16;const le=g.props||je,ie=A.props||je;let ge;x&&zn(x,!1),(ge=ie.onVnodeBeforeUpdate)&&Pt(ge,x,A,g),ae&&Wn(A,g,x,"beforeUpdate"),x&&zn(x,!0),Tn&&(z=0,X=!1,q=null);const Be=R&&A.type!=="foreignObject";if(q?(pe(g.dynamicChildren,q,U,x,L,Be,W),x&&x.type.__hmrId&&po(g,A)):X||De(g,A,U,null,x,L,Be,W,!1),z>0){if(z&16)K(U,A,le,ie,x,L,R);else if(z&2&&le.class!==ie.class&&l(U,"class",null,ie.class,R),z&4&&l(U,"style",le.style,ie.style,R),z&8){const qe=A.dynamicProps;for(let Ne=0;Ne<qe.length;Ne++){const Ge=qe[Ne],Nt=le[Ge],bs=ie[Ge];(bs!==Nt||Ge==="value")&&l(U,Ge,Nt,bs,R,g.children,x,L,G)}}z&1&&g.children!==A.children&&d(U,A.children)}else!X&&q==null&&K(U,A,le,ie,x,L,R);((ge=ie.onVnodeUpdated)||ae)&&nt(()=>{ge&&Pt(ge,x,A,g),ae&&Wn(A,g,x,"updated")},L)},pe=(g,A,x,L,R,W,X)=>{for(let U=0;U<A.length;U++){const z=g[U],q=A[U],ae=z.el&&(z.type===Oe||!Bn(z,q)||z.shapeFlag&70)?f(z.el):x;v(z,q,ae,null,L,R,W,X,!0)}},K=(g,A,x,L,R,W,X)=>{if(x!==L){if(x!==je)for(const U in x)!mr(U)&&!(U in L)&&l(g,U,x[U],null,X,A.children,R,W,G);for(const U in L){if(mr(U))continue;const z=L[U],q=x[U];z!==q&&U!=="value"&&l(g,U,q,z,X,A.children,R,W,G)}"value"in L&&l(g,"value",x.value,L.value)}},be=(g,A,x,L,R,W,X,U,z)=>{const q=A.el=g?g.el:i(""),ae=A.anchor=g?g.anchor:i("");let{patchFlag:le,dynamicChildren:ie,slotScopeIds:ge}=A;(Tn||le&2048)&&(le=0,z=!1,ie=null),ge&&(U=U?U.concat(ge):ge),g==null?(o(q,x,L),o(ae,x,L),V(A.children,x,ae,R,W,X,U,z)):le>0&&le&64&&ie&&g.dynamicChildren?(pe(g.dynamicChildren,ie,x,R,W,X,U),R&&R.type.__hmrId?po(g,A):(A.key!=null||R&&A===R.subTree)&&po(g,A,!0)):De(g,A,x,ae,R,W,X,U,z)},ve=(g,A,x,L,R,W,X,U,z)=>{A.slotScopeIds=U,g==null?A.shapeFlag&512?R.ctx.activate(A,x,L,X,z):Ee(A,x,L,R,W,X,z):Ie(g,A,z)},Ee=(g,A,x,L,R,W,X)=>{const U=g.component=f9(g,L,R);if(U.type.__hmrId&&tm(U),gr(g),rn(U,"mount"),zo(g)&&(U.ctx.renderer=Se),rn(U,"init"),y9(U),ln(U,"init"),U.asyncDep){if(R&&R.registerDep(U,ee),!g.el){const z=U.subTree=te(Xe);D(null,z,A,x)}return}ee(U,g,A,x,R,W,X),vr(),ln(U,"mount")},Ie=(g,A,x)=>{const L=A.component=g.component;if(mm(g,A,x))if(L.asyncDep&&!L.asyncResolved){gr(A),ce(L,A,x),vr();return}else L.next=A,Xy(L.update),L.update();else A.el=g.el,L.vnode=A},ee=(g,A,x,L,R,W,X)=>{const U=()=>{if(g.isMounted){let{next:ae,bu:le,u:ie,parent:ge,vnode:Be}=g,qe=ae,Ne;gr(ae||g.vnode),zn(g,!1),ae?(ae.el=Be.el,ce(g,ae,X)):ae=Be,le&&Xn(le),(Ne=ae.props&&ae.props.onVnodeBeforeUpdate)&&Pt(Ne,ge,ae,Be),zn(g,!0),rn(g,"render");const Ge=ml(g);ln(g,"render");const Nt=g.subTree;g.subTree=Ge,rn(g,"patch"),v(Nt,Ge,f(Nt.el),re(Nt),g,R,W),ln(g,"patch"),ae.el=Ge.el,qe===null&&gm(g,Ge.el),ie&&nt(ie,R),(Ne=ae.props&&ae.props.onVnodeUpdated)&&nt(()=>Pt(Ne,ge,ae,Be),R),Qp(g),vr()}else{let ae;const{el:le,props:ie}=A,{bm:ge,m:Be,parent:qe}=g,Ne=Ps(A);if(zn(g,!1),ge&&Xn(ge),!Ne&&(ae=ie&&ie.onVnodeBeforeMount)&&Pt(ae,qe,A),zn(g,!0),le&&de){const Ge=()=>{rn(g,"render"),g.subTree=ml(g),ln(g,"render"),rn(g,"hydrate"),de(le,g.subTree,g,R,null),ln(g,"hydrate")};Ne?A.type.__asyncLoader().then(()=>!g.isUnmounted&&Ge()):Ge()}else{rn(g,"render");const Ge=g.subTree=ml(g);ln(g,"render"),rn(g,"patch"),v(null,Ge,x,L,g,R,W),ln(g,"patch"),A.el=Ge.el}if(Be&&nt(Be,R),!Ne&&(ae=ie&&ie.onVnodeMounted)){const Ge=A;nt(()=>Pt(ae,qe,Ge),R)}(A.shapeFlag&256||qe&&Ps(qe.vnode)&&qe.vnode.shapeFlag&256)&&g.a&&nt(g.a,R),g.isMounted=!0,Zl(g),A=x=L=null}},z=g.effect=new ni(U,()=>tl(q),g.scope),q=g.update=()=>z.run();q.id=g.uid,zn(g,!0),z.onTrack=g.rtc?ae=>Xn(g.rtc,ae):void 0,z.onTrigger=g.rtg?ae=>Xn(g.rtg,ae):void 0,q.ownerInstance=g,q()},ce=(g,A,x)=>{A.component=g;const L=g.vnode.props;g.vnode=A,g.next=null,Vm(g,A.props,L,x),Jm(g,A.children,x),ms(),oc(),gs()},De=(g,A,x,L,R,W,X,U,z=!1)=>{const q=g&&g.children,ae=g?g.shapeFlag:0,le=A.children,{patchFlag:ie,shapeFlag:ge}=A;if(ie>0){if(ie&128){At(q,le,x,L,R,W,X,U,z);return}else if(ie&256){Fe(q,le,x,L,R,W,X,U,z);return}}ge&8?(ae&16&&G(q,R,W),le!==q&&d(x,le)):ae&16?ge&16?At(q,le,x,L,R,W,X,U,z):G(q,R,W,!0):(ae&8&&d(x,""),ge&16&&V(le,x,L,R,W,X,U,z))},Fe=(g,A,x,L,R,W,X,U,z)=>{g=g||Ts,A=A||Ts;const q=g.length,ae=A.length,le=Math.min(q,ae);let ie;for(ie=0;ie<le;ie++){const ge=A[ie]=z?kn(A[ie]):Ht(A[ie]);v(g[ie],ge,x,null,R,W,X,U,z)}q>ae?G(g,R,W,!0,!1,le):V(A,x,L,R,W,X,U,z,le)},At=(g,A,x,L,R,W,X,U,z)=>{let q=0;const ae=A.length;let le=g.length-1,ie=ae-1;for(;q<=le&&q<=ie;){const ge=g[q],Be=A[q]=z?kn(A[q]):Ht(A[q]);if(Bn(ge,Be))v(ge,Be,x,null,R,W,X,U,z);else break;q++}for(;q<=le&&q<=ie;){const ge=g[le],Be=A[ie]=z?kn(A[ie]):Ht(A[ie]);if(Bn(ge,Be))v(ge,Be,x,null,R,W,X,U,z);else break;le--,ie--}if(q>le){if(q<=ie){const ge=ie+1,Be=ge<ae?A[ge].el:L;for(;q<=ie;)v(null,A[q]=z?kn(A[q]):Ht(A[q]),x,Be,R,W,X,U,z),q++}}else if(q>ie)for(;q<=le;)yt(g[q],R,W,!0),q++;else{const ge=q,Be=q,qe=new Map;for(q=Be;q<=ie;q++){const ct=A[q]=z?kn(A[q]):Ht(A[q]);ct.key!=null&&(qe.has(ct.key)&&j("Duplicate keys found during update:",JSON.stringify(ct.key),"Make sure keys are unique."),qe.set(ct.key,q))}let Ne,Ge=0;const Nt=ie-Be+1;let bs=!1,Ki=0;const zs=new Array(Nt);for(q=0;q<Nt;q++)zs[q]=0;for(q=ge;q<=le;q++){const ct=g[q];if(Ge>=Nt){yt(ct,R,W,!0);continue}let Kt;if(ct.key!=null)Kt=qe.get(ct.key);else for(Ne=Be;Ne<=ie;Ne++)if(zs[Ne-Be]===0&&Bn(ct,A[Ne])){Kt=Ne;break}Kt===void 0?yt(ct,R,W,!0):(zs[Kt-Be]=q+1,Kt>=Ki?Ki=Kt:bs=!0,v(ct,A[Kt],x,null,R,W,X,U,z),Ge++)}const Yi=bs?s9(zs):Ts;for(Ne=Yi.length-1,q=Nt-1;q>=0;q--){const ct=Be+q,Kt=A[ct],Gi=ct+1<ae?A[ct+1].el:L;zs[q]===0?v(null,Kt,x,Gi,R,W,X,U,z):bs&&(Ne<0||q!==Yi[Ne]?st(Kt,x,Gi,2):Ne--)}}},st=(g,A,x,L,R=null)=>{const{el:W,type:X,transition:U,children:z,shapeFlag:q}=g;if(q&6){st(g.component.subTree,A,x,L);return}if(q&128){g.suspense.move(A,x,L);return}if(q&64){X.move(g,A,x,Se);return}if(X===Oe){o(W,A,x);for(let le=0;le<z.length;le++)st(z[le],A,x,L);o(g.anchor,A,x);return}if(X===_r){k(g,A,x);return}if(L!==2&&q&1&&U)if(L===0)U.beforeEnter(W),o(W,A,x),nt(()=>U.enter(W),R);else{const{leave:le,delayLeave:ie,afterLeave:ge}=U,Be=()=>o(W,A,x),qe=()=>{le(W,()=>{Be(),ge&&ge()})};ie?ie(W,Be,qe):qe()}else o(W,A,x)},yt=(g,A,x,L=!1,R=!1)=>{const{type:W,props:X,ref:U,children:z,dynamicChildren:q,shapeFlag:ae,patchFlag:le,dirs:ie}=g;if(U!=null&&la(U,null,x,g,!0),ae&256){A.ctx.deactivate(g);return}const ge=ae&1&&ie,Be=!Ps(g);let qe;if(Be&&(qe=X&&X.onVnodeBeforeUnmount)&&Pt(qe,A,g),ae&6)se(g.component,x,L);else{if(ae&128){g.suspense.unmount(x,L);return}ge&&Wn(g,null,A,"beforeUnmount"),ae&64?g.type.remove(g,A,x,R,Se,L):q&&(W!==Oe||le>0&&le&64)?G(q,A,x,!1,!0):(W===Oe&&le&384||!R&&ae&16)&&G(z,A,x),L&&_n(g)}(Be&&(qe=X&&X.onVnodeUnmounted)||ge)&&nt(()=>{qe&&Pt(qe,A,g),ge&&Wn(g,null,A,"unmounted")},x)},_n=g=>{const{type:A,el:x,anchor:L,transition:R}=g;if(A===Oe){g.patchFlag>0&&g.patchFlag&2048&&R&&!R.persisted?g.children.forEach(X=>{X.type===Xe?r(X.el):_n(X)}):T(x,L);return}if(A===_r){S(g);return}const W=()=>{r(x),R&&!R.persisted&&R.afterLeave&&R.afterLeave()};if(g.shapeFlag&1&&R&&!R.persisted){const{leave:X,delayLeave:U}=R,z=()=>X(x,W);U?U(g.el,W,z):z()}else W()},T=(g,A)=>{let x;for(;g!==A;)x=h(g),r(g),g=x;r(A)},se=(g,A,x)=>{g.type.__hmrId&&nm(g);const{bum:L,scope:R,update:W,subTree:X,um:U}=g;L&&Xn(L),R.stop(),W&&(W.active=!1,yt(X,g,A,x)),U&&nt(U,A),nt(()=>{g.isUnmounted=!0},A),A&&A.pendingBranch&&!A.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===A.pendingId&&(A.deps--,A.deps===0&&A.resolve()),im(g)},G=(g,A,x,L=!1,R=!1,W=0)=>{for(let X=W;X<g.length;X++)yt(g[X],A,x,L,R)},re=g=>g.shapeFlag&6?re(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),Ce=(g,A,x)=>{g==null?A._vnode&&yt(A._vnode,null,null,!0):v(A._vnode||null,g,A,null,null,null,x),oc(),zp(),A._vnode=g},Se={p:v,um:yt,m:st,r:_n,mt:Ee,mc:V,pc:De,pbc:pe,n:re,o:t};let me,de;return n&&([me,de]=n(Se)),{render:Ce,hydrate:me,createApp:Xm(Ce,me)}}function zn({effect:t,update:n},s){t.allowRecurse=n.allowRecurse=s}function po(t,n,s=!1){const o=t.children,r=n.children;if(ue(o)&&ue(r))for(let l=0;l<o.length;l++){const a=o[l];let i=r[l];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=r[l]=kn(r[l]),i.el=a.el),s||po(a,i)),i.type===Yo&&(i.el=a.el),i.type===Xe&&!i.el&&(i.el=a.el)}}function s9(t){const n=t.slice(),s=[0];let o,r,l,a,i;const c=t.length;for(o=0;o<c;o++){const p=t[o];if(p!==0){if(r=s[s.length-1],t[r]<p){n[o]=r,s.push(o);continue}for(l=0,a=s.length-1;l<a;)i=l+a>>1,t[s[i]]<p?l=i+1:a=i;p<t[s[l]]&&(l>0&&(n[o]=s[l-1]),s[l]=o)}}for(l=s.length,a=s[l-1];l-- >0;)s[l]=a,a=n[a];return s}const o9=t=>t.__isTeleport,Is=t=>t&&(t.disabled||t.disabled===""),gc=t=>typeof SVGElement<"u"&&t instanceof SVGElement,aa=(t,n)=>{const s=t&&t.to;if(He(s))if(n){const o=n(s);return o||j(`Failed to locate Teleport target with selector "${s}". Note the target element must exist before the component is mounted - i.e. the target cannot be rendered by the component itself, and ideally should be outside of the entire Vue component tree.`),o}else return j("Current renderer does not support string target for Teleports. (missing querySelector renderer option)"),null;else return!s&&!Is(t)&&j(`Invalid Teleport target: ${s}`),s},r9={__isTeleport:!0,process(t,n,s,o,r,l,a,i,c,p){const{mc:d,pc:f,pbc:h,o:{insert:m,querySelector:y,createText:v,createComment:_}}=p,D=Is(n.props);let{shapeFlag:b,children:w,dynamicChildren:k}=n;if(Tn&&(c=!1,k=null),t==null){const S=n.el=_("teleport start"),M=n.anchor=_("teleport end");m(S,s,o),m(M,s,o);const H=n.target=aa(n.props,y),B=n.targetAnchor=v("");H?(m(B,H),a=a||gc(H)):D||j("Invalid Teleport target on mount:",H,`(${typeof H})`);const V=(ne,pe)=>{b&16&&d(w,ne,pe,r,l,a,i,c)};D?V(s,M):H&&V(H,B)}else{n.el=t.el;const S=n.anchor=t.anchor,M=n.target=t.target,H=n.targetAnchor=t.targetAnchor,B=Is(t.props),V=B?s:M,ne=B?S:H;if(a=a||gc(M),k?(h(t.dynamicChildren,k,V,r,l,a,i),po(t,n,!0)):c||f(t,n,V,ne,r,l,a,i,!1),D)B||lr(n,s,S,p,1);else if((n.props&&n.props.to)!==(t.props&&t.props.to)){const pe=n.target=aa(n.props,y);pe?lr(n,pe,null,p,0):j("Invalid Teleport target on update:",M,`(${typeof M})`)}else B&&lr(n,M,H,p,1)}wd(n)},remove(t,n,s,o,{um:r,o:{remove:l}},a){const{shapeFlag:i,children:c,anchor:p,targetAnchor:d,target:f,props:h}=t;if(f&&l(d),(a||!Is(h))&&(l(p),i&16))for(let m=0;m<c.length;m++){const y=c[m];r(y,n,s,!0,!!y.dynamicChildren)}},move:lr,hydrate:l9};function lr(t,n,s,{o:{insert:o},m:r},l=2){l===0&&o(t.targetAnchor,n,s);const{el:a,anchor:i,shapeFlag:c,children:p,props:d}=t,f=l===2;if(f&&o(a,n,s),(!f||Is(d))&&c&16)for(let h=0;h<p.length;h++)r(p[h],n,s,2);f&&o(i,n,s)}function l9(t,n,s,o,r,l,{o:{nextSibling:a,parentNode:i,querySelector:c}},p){const d=n.target=aa(n.props,c);if(d){const f=d._lpa||d.firstChild;if(n.shapeFlag&16)if(Is(n.props))n.anchor=p(a(t),n,i(t),s,o,r,l),n.targetAnchor=f;else{n.anchor=a(t);let h=f;for(;h;)if(h=a(h),h&&h.nodeType===8&&h.data==="teleport anchor"){n.targetAnchor=h,d._lpa=n.targetAnchor&&a(n.targetAnchor);break}p(f,n,d,s,o,r,l)}wd(n)}return n.anchor&&a(n.anchor)}const a9=r9;function wd(t){const n=t.ctx;if(n&&n.ut){let s=t.children[0].el;for(;s!==t.targetAnchor;)s.nodeType===1&&s.setAttribute("data-v-owner",n.uid),s=s.nextSibling;n.ut()}}const Oe=Symbol("Fragment"),Yo=Symbol("Text"),Xe=Symbol("Comment"),_r=Symbol("Static"),fo=[];let Vt=null;function E(t=!1){fo.push(Vt=t?null:[])}function i9(){fo.pop(),Vt=fo[fo.length-1]||null}let So=1;function vc(t){So+=t}function Ad(t){return t.dynamicChildren=So>0?Vt||Ts:null,i9(),So>0&&Vt&&Vt.push(t),t}function oe(t,n,s,o,r,l){return Ad(e(t,n,s,o,r,l,!0))}function P(t,n,s,o,r){return Ad(te(t,n,s,o,r,!0))}function qn(t){return t?t.__v_isVNode===!0:!1}function Bn(t,n){return n.shapeFlag&6&&xs.has(n.type)?(t.shapeFlag&=-257,n.shapeFlag&=-513,!1):t.type===n.type&&t.key===n.key}const c9=(...t)=>u9(...t),al="__vInternal",bd=({key:t})=>t??null,wr=({ref:t,ref_key:n,ref_for:s})=>t!=null?He(t)||Pe(t)||fe(t)?{i:Ze,r:t,k:n,f:!!s}:t:null;function e(t,n=null,s=null,o=0,r=null,l=t===Oe?0:1,a=!1,i=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:n,key:n&&bd(n),ref:n&&wr(n),scopeId:sl,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:l,patchFlag:o,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ze};return i?(mi(c,s),l&128&&t.normalize(c)):s&&(c.shapeFlag|=He(s)?8:16),c.key!==c.key&&j("VNode created with invalid key (NaN). VNode type:",c.type),So>0&&!a&&Vt&&(c.patchFlag>0||l&6)&&c.patchFlag!==32&&Vt.push(c),c}const te=c9;function u9(t,n=null,s=null,o=0,r=null,l=!1){if((!t||t===$m)&&(t||j(`Invalid vnode type when creating vnode: ${t}.`),t=Xe),qn(t)){const i=Ut(t,n,!0);return s&&mi(i,s),So>0&&!l&&Vt&&(i.shapeFlag&6?Vt[Vt.indexOf(t)]=i:Vt.push(i)),i.patchFlag|=-2,i}if(xd(t)&&(t=t.__vccOpts),n){n=Q(n);let{class:i,style:c}=n;i&&!He(i)&&(n.class=Ke(i)),Re(c)&&(Tr(c)&&!ue(c)&&(c=We({},c)),n.style=at(c))}const a=He(t)?1:ed(t)?128:o9(t)?64:Re(t)?4:fe(t)?2:0;return a&4&&Tr(t)&&(t=ye(t),j("Vue received a Component which was made a reactive object. This can lead to unnecessary performance overhead, and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.",`
Component that was made reactive: `,t)),e(t,n,s,o,r,a,l,!0)}function Q(t){return t?Tr(t)||al in t?We({},t):t:null}function Ut(t,n,s=!1){const{props:o,ref:r,patchFlag:l,children:a}=t,i=n?Ue(o||{},n):o;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:i,key:i&&bd(i),ref:n&&n.ref?s&&r?ue(r)?r.concat(wr(n)):[r,wr(n)]:wr(n):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:l===-1&&ue(a)?a.map(Ed):a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:n&&t.type!==Oe?l===-1?16:l|16:l,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ut(t.ssContent),ssFallback:t.ssFallback&&Ut(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Ed(t){const n=Ut(t);return ue(t.children)&&(n.children=t.children.map(Ed)),n}function u(t=" ",n=0){return te(Yo,null,t,n)}function ke(t="",n=!1){return n?(E(),P(Xe,null,t)):te(Xe,null,t)}function Ht(t){return t==null||typeof t=="boolean"?te(Xe):ue(t)?te(Oe,null,t.slice()):typeof t=="object"?kn(t):te(Yo,null,String(t))}function kn(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ut(t)}function mi(t,n){let s=0;const{shapeFlag:o}=t;if(n==null)n=null;else if(ue(n))s=16;else if(typeof n=="object")if(o&65){const r=n.default;r&&(r._c&&(r._d=!1),mi(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=n._;!r&&!(al in n)?n._ctx=Ze:r===3&&Ze&&(Ze.slots._===1?n._=1:(n._=2,t.patchFlag|=1024))}else fe(n)?(n={default:n,_ctx:Ze},s=32):(n=String(n),o&64?(s=16,n=[u(n)]):s=8);t.children=n,t.shapeFlag|=s}function Ue(...t){const n={};for(let s=0;s<t.length;s++){const o=t[s];for(const r in o)if(r==="class")n.class!==o.class&&(n.class=Ke([n.class,o.class]));else if(r==="style")n.style=at([n.style,o.style]);else if(Vo(r)){const l=n[r],a=o[r];a&&l!==a&&!(ue(l)&&l.includes(a))&&(n[r]=l?[].concat(l,a):a)}else r!==""&&(n[r]=o[r])}return n}function Pt(t,n,s,o=null){Rt(t,n,7,[s,o])}const p9=_d();let d9=0;function f9(t,n,s){const o=t.type,r=(n?n.appContext:t.appContext)||p9,l={uid:d9++,vnode:t,type:o,parent:n,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ep(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:hd(o,r),emitsOptions:Zp(o,r),emit:null,emitted:null,propsDefaults:je,inheritAttrs:o.inheritAttrs,ctx:je,data:je,props:je,attrs:je,slots:je,refs:je,setupState:je,setupContext:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return l.ctx=Om(l),l.root=n?n.root:l,l.emit=dm.bind(null,l),t.ce&&t.ce(l),l}let ze=null;const Tt=()=>ze||Ze,Fs=t=>{ze=t,t.scope.on()},ds=()=>{ze&&ze.scope.off(),ze=null},h9=Vn("slot,component");function ia(t,n){const s=n.isNativeTag||vp;(h9(t)||s(t))&&j("Do not use built-in or reserved HTML elements as component id: "+t)}function Dd(t){return t.vnode.shapeFlag&4}let $o=!1;function y9(t,n=!1){$o=n;const{props:s,children:o}=t.vnode,r=Dd(t);qm(t,s,r,n),Qm(t,o);const l=r?m9(t,n):void 0;return $o=!1,l}function m9(t,n){var s;const o=t.type;{if(o.name&&ia(o.name,t.appContext.config),o.components){const l=Object.keys(o.components);for(let a=0;a<l.length;a++)ia(l[a],t.appContext.config)}if(o.directives){const l=Object.keys(o.directives);for(let a=0;a<l.length;a++)id(l[a])}o.compilerOptions&&g9()&&j('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=Xr(new Proxy(t.ctx,pd)),Pm(t);const{setup:r}=o;if(r){const l=t.setupContext=r.length>1?Cd(t):null;Fs(t),ms();const a=fn(r,t,0,[Ss(t.props),l]);if(gs(),ds(),Ja(a)){if(a.then(ds,ds),n)return a.then(i=>{_c(t,i,n)}).catch(i=>{el(i,t,0)});if(t.asyncDep=a,!t.suspense){const i=(s=o.name)!==null&&s!==void 0?s:"Anonymous";j(`Component <${i}>: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered.`)}}else _c(t,a,n)}else kd(t,n)}function _c(t,n,s){fe(n)?t.type.__ssrInlineRender?t.ssrRender=n:t.render=n:Re(n)?(qn(n)&&j("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=n,t.setupState=Np(n),Im(t)):n!==void 0&&j(`setup() should return an object. Received: ${n===null?"null":typeof n}`),kd(t,s)}let ca;const g9=()=>!ca;function kd(t,n,s){const o=t.type;if(!t.render){if(!n&&ca&&!o.render){const r=o.template||hi(t).template;if(r){rn(t,"compile");const{isCustomElement:l,compilerOptions:a}=t.appContext.config,{delimiters:i,compilerOptions:c}=o,p=We(We({isCustomElement:l,delimiters:i},a),c);o.render=ca(r,p),ln(t,"compile")}}t.render=o.render||vt}Fs(t),ms(),Rm(t),gs(),ds(),!o.render&&t.render===vt&&!n&&(o.template?j('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):j("Component is missing template or render function."))}function v9(t){return new Proxy(t.attrs,{get(n,s){return Pr(),wt(t,"get","$attrs"),n[s]},set(){return j("setupContext.attrs is readonly."),!1},deleteProperty(){return j("setupContext.attrs is readonly."),!1}})}function Cd(t){const n=o=>{if(t.exposed&&j("expose() should be called only once per setup()."),o!=null){let r=typeof o;r==="object"&&(ue(o)?r="array":Pe(o)&&(r="ref")),r!=="object"&&j(`expose() should be passed a plain object, received ${r}.`)}t.exposed=o||{}};let s;return Object.freeze({get attrs(){return s||(s=v9(t))},get slots(){return Ss(t.slots)},get emit(){return(o,...r)=>t.emit(o,...r)},expose:n})}function il(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Np(Xr(t.exposed)),{get(n,s){if(s in n)return n[s];if(s in ps)return ps[s](t)},has(n,s){return s in n||s in ps}}))}const _9=/(?:^|[-_])(\w)/g,w9=t=>t.replace(_9,n=>n.toUpperCase()).replace(/[-_]/g,"");function To(t,n=!0){return fe(t)?t.displayName||t.name:t.name||n&&t.__name}function cl(t,n,s=!1){let o=To(n);if(!o&&n.__file){const r=n.__file.match(/([^/\\]+)\.\w+$/);r&&(o=r[1])}if(!o&&t&&t.parent){const r=l=>{for(const a in l)if(l[a]===n)return a};o=r(t.components||t.parent.type.components)||r(t.appContext.components)}return o?w9(o):s?"App":"Anonymous"}function xd(t){return fe(t)&&"__vccOpts"in t}const $=(t,n)=>Uy(t,n,$o);function A9(){return b9().slots}function b9(){const t=Tt();return t||j("useContext() called without active instance."),t.setupContext||(t.setupContext=Cd(t))}function Bt(t,n,s){const o=arguments.length;return o===2?Re(n)&&!ue(n)?qn(n)?te(t,null,[n]):te(t,n):te(t,null,n):(o>3?s=Array.prototype.slice.call(arguments,2):o===3&&qn(s)&&(s=[s]),te(t,n,s))}const E9=Symbol("ssrContext"),D9=()=>{{const t=O(E9);return t||j("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),t}};function Al(t){return!!(t&&t.__v_isShallow)}function k9(){if(typeof window>"u")return;const t={style:"color:#3ba776"},n={style:"color:#0b1bc9"},s={style:"color:#b62e24"},o={style:"color:#9d288c"},r={header(f){return Re(f)?f.__isVue?["div",t,"VueInstance"]:Pe(f)?["div",{},["span",t,d(f)],"<",i(f.value),">"]:cs(f)?["div",{},["span",t,Al(f)?"ShallowReactive":"Reactive"],"<",i(f),`>${Nn(f)?" (readonly)":""}`]:Nn(f)?["div",{},["span",t,Al(f)?"ShallowReadonly":"Readonly"],"<",i(f),">"]:null:null},hasBody(f){return f&&f.__isVue},body(f){if(f&&f.__isVue)return["div",{},...l(f.$)]}};function l(f){const h=[];f.type.props&&f.props&&h.push(a("props",ye(f.props))),f.setupState!==je&&h.push(a("setup",f.setupState)),f.data!==je&&h.push(a("data",ye(f.data)));const m=c(f,"computed");m&&h.push(a("computed",m));const y=c(f,"inject");return y&&h.push(a("injected",y)),h.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:f}]]),h}function a(f,h){return h=We({},h),Object.keys(h).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},f],["div",{style:"padding-left:1.25em"},...Object.keys(h).map(m=>["div",{},["span",o,m+": "],i(h[m],!1)])]]:["span",{}]}function i(f,h=!0){return typeof f=="number"?["span",n,f]:typeof f=="string"?["span",s,JSON.stringify(f)]:typeof f=="boolean"?["span",o,f]:Re(f)?["object",{object:h?ye(f):f}]:["span",s,String(f)]}function c(f,h){const m=f.type;if(fe(m))return;const y={};for(const v in f.ctx)p(m,v,h)&&(y[v]=f.ctx[v]);return y}function p(f,h,m){const y=f[m];if(ue(y)&&y.includes(h)||Re(y)&&h in y||f.extends&&p(f.extends,h,m)||f.mixins&&f.mixins.some(v=>p(v,h,m)))return!0}function d(f){return Al(f)?"ShallowRef":f.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(r):window.devtoolsFormatters=[r]}const Lr="3.2.47",C9="http://www.w3.org/2000/svg",es=typeof document<"u"?document:null,wc=es&&es.createElement("template"),x9={insert:(t,n,s)=>{n.insertBefore(t,s||null)},remove:t=>{const n=t.parentNode;n&&n.removeChild(t)},createElement:(t,n,s,o)=>{const r=n?es.createElementNS(C9,t):es.createElement(t,s?{is:s}:void 0);return t==="select"&&o&&o.multiple!=null&&r.setAttribute("multiple",o.multiple),r},createText:t=>es.createTextNode(t),createComment:t=>es.createComment(t),setText:(t,n)=>{t.nodeValue=n},setElementText:(t,n)=>{t.textContent=n},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>es.querySelector(t),setScopeId(t,n){t.setAttribute(n,"")},insertStaticContent(t,n,s,o,r,l){const a=s?s.previousSibling:n.lastChild;if(r&&(r===l||r.nextSibling))for(;n.insertBefore(r.cloneNode(!0),s),!(r===l||!(r=r.nextSibling)););else{wc.innerHTML=o?`<svg>${t}</svg>`:t;const i=wc.content;if(o){const c=i.firstChild;for(;c.firstChild;)i.appendChild(c.firstChild);i.removeChild(c)}n.insertBefore(i,s)}return[a?a.nextSibling:n.firstChild,s?s.previousSibling:n.lastChild]}};function B9(t,n,s){const o=t._vtc;o&&(n=(n?[n,...o]:[...o]).join(" ")),n==null?t.removeAttribute("class"):s?t.setAttribute("class",n):t.className=n}function S9(t,n,s){const o=t.style,r=He(s);if(s&&!r){if(n&&!He(n))for(const l in n)s[l]==null&&ua(o,l,"");for(const l in s)ua(o,l,s[l])}else{const l=o.display;r?n!==s&&(o.cssText=s):n&&t.removeAttribute("style"),"_vod"in t&&(o.display=l)}}const $9=/[^\\];\s*$/,Ac=/\s*!important$/;function ua(t,n,s){if(ue(s))s.forEach(o=>ua(t,n,o));else if(s==null&&(s=""),$9.test(s)&&j(`Unexpected semicolon at the end of '${n}' style value: '${s}'`),n.startsWith("--"))t.setProperty(n,s);else{const o=T9(t,n);Ac.test(s)?t.setProperty(yn(o),s.replace(Ac,""),"important"):t[o]=s}}const bc=["Webkit","Moz","ms"],bl={};function T9(t,n){const s=bl[n];if(s)return s;let o=tn(n);if(o!=="filter"&&o in t)return bl[n]=o;o=hs(o);for(let r=0;r<bc.length;r++){const l=bc[r]+o;if(l in t)return bl[n]=l}return n}const Ec="http://www.w3.org/1999/xlink";function O9(t,n,s,o,r){if(o&&n.startsWith("xlink:"))s==null?t.removeAttributeNS(Ec,n.slice(6,n.length)):t.setAttributeNS(Ec,n,s);else{const l=Jh(n);s==null||l&&!mp(s)?t.removeAttribute(n):t.setAttribute(n,l?"":s)}}function P9(t,n,s,o,r,l,a){if(n==="innerHTML"||n==="textContent"){o&&a(o,r,l),t[n]=s??"";return}if(n==="value"&&t.tagName!=="PROGRESS"&&!t.tagName.includes("-")){t._value=s;const c=s??"";(t.value!==c||t.tagName==="OPTION")&&(t.value=c),s==null&&t.removeAttribute(n);return}let i=!1;if(s===""||s==null){const c=typeof t[n];c==="boolean"?s=mp(s):s==null&&c==="string"?(s="",i=!0):c==="number"&&(s=0,i=!0)}try{t[n]=s}catch(c){i||j(`Failed setting prop "${n}" on <${t.tagName.toLowerCase()}>: value ${s} is invalid.`,c)}i&&t.removeAttribute(n)}function I9(t,n,s,o){t.addEventListener(n,s,o)}function M9(t,n,s,o){t.removeEventListener(n,s,o)}function R9(t,n,s,o,r=null){const l=t._vei||(t._vei={}),a=l[n];if(o&&a)a.value=o;else{const[i,c]=L9(n);if(o){const p=l[n]=j9(o,r);I9(t,i,p,c)}else a&&(M9(t,i,a,c),l[n]=void 0)}}const Dc=/(?:Once|Passive|Capture)$/;function L9(t){let n;if(Dc.test(t)){n={};let o;for(;o=t.match(Dc);)t=t.slice(0,t.length-o[0].length),n[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):yn(t.slice(2)),n]}let El=0;const F9=Promise.resolve(),N9=()=>El||(F9.then(()=>El=0),El=Date.now());function j9(t,n){const s=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=s.attached)return;Rt(q9(o,s.value),n,5,[o])};return s.value=t,s.attached=N9(),s}function q9(t,n){if(ue(n)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},n.map(o=>r=>!r._stopped&&o&&o(r))}else return n}const kc=/^on[a-z]/,H9=(t,n,s,o,r=!1,l,a,i,c)=>{n==="class"?B9(t,o,r):n==="style"?S9(t,s,o):Vo(n)?Cr(n)||R9(t,n,s,o,a):(n[0]==="."?(n=n.slice(1),!0):n[0]==="^"?(n=n.slice(1),!1):V9(t,n,o,r))?P9(t,n,o,l,a,i,c):(n==="true-value"?t._trueValue=o:n==="false-value"&&(t._falseValue=o),O9(t,n,o,r))};function V9(t,n,s,o){return o?!!(n==="innerHTML"||n==="textContent"||n in t&&kc.test(n)&&fe(s)):n==="spellcheck"||n==="draggable"||n==="translate"||n==="form"||n==="list"&&t.tagName==="INPUT"||n==="type"&&t.tagName==="TEXTAREA"||kc.test(n)&&He(s)?!1:n in t}const An="transition",Ys="animation",Bd={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},U9=We({},Am.props,Bd),Kn=(t,n=[])=>{ue(t)?t.forEach(s=>s(...n)):t&&t(...n)},Cc=t=>t?ue(t)?t.some(n=>n.length>1):t.length>1:!1;function W9(t){const n={};for(const K in t)K in Bd||(n[K]=t[K]);if(t.css===!1)return n;const{name:s="v",type:o,duration:r,enterFromClass:l=`${s}-enter-from`,enterActiveClass:a=`${s}-enter-active`,enterToClass:i=`${s}-enter-to`,appearFromClass:c=l,appearActiveClass:p=a,appearToClass:d=i,leaveFromClass:f=`${s}-leave-from`,leaveActiveClass:h=`${s}-leave-active`,leaveToClass:m=`${s}-leave-to`}=t,y=z9(r),v=y&&y[0],_=y&&y[1],{onBeforeEnter:D,onEnter:b,onEnterCancelled:w,onLeave:k,onLeaveCancelled:S,onBeforeAppear:M=D,onAppear:H=b,onAppearCancelled:B=w}=n,V=(K,be,ve)=>{En(K,be?d:i),En(K,be?p:a),ve&&ve()},ne=(K,be)=>{K._isLeaving=!1,En(K,f),En(K,m),En(K,h),be&&be()},pe=K=>(be,ve)=>{const Ee=K?H:b,Ie=()=>V(be,K,ve);Kn(Ee,[be,Ie]),xc(()=>{En(be,K?c:l),an(be,K?d:i),Cc(Ee)||Bc(be,o,v,Ie)})};return We(n,{onBeforeEnter(K){Kn(D,[K]),an(K,l),an(K,a)},onBeforeAppear(K){Kn(M,[K]),an(K,c),an(K,p)},onEnter:pe(!1),onAppear:pe(!0),onLeave(K,be){K._isLeaving=!0;const ve=()=>ne(K,be);an(K,f),$d(),an(K,h),xc(()=>{K._isLeaving&&(En(K,f),an(K,m),Cc(k)||Bc(K,o,_,ve))}),Kn(k,[K,ve])},onEnterCancelled(K){V(K,!1),Kn(w,[K])},onAppearCancelled(K){V(K,!0),Kn(B,[K])},onLeaveCancelled(K){ne(K),Kn(S,[K])}})}function z9(t){if(t==null)return null;if(Re(t))return[Dl(t.enter),Dl(t.leave)];{const n=Dl(t);return[n,n]}}function Dl(t){const n=ry(t);return Gy(n,"<transition> explicit duration"),n}function an(t,n){n.split(/\s+/).forEach(s=>s&&t.classList.add(s)),(t._vtc||(t._vtc=new Set)).add(n)}function En(t,n){n.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const{_vtc:s}=t;s&&(s.delete(n),s.size||(t._vtc=void 0))}function xc(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let K9=0;function Bc(t,n,s,o){const r=t._endId=++K9,l=()=>{r===t._endId&&o()};if(s)return setTimeout(l,s);const{type:a,timeout:i,propCount:c}=Sd(t,n);if(!a)return o();const p=a+"end";let d=0;const f=()=>{t.removeEventListener(p,h),l()},h=m=>{m.target===t&&++d>=c&&f()};setTimeout(()=>{d<c&&f()},i+1),t.addEventListener(p,h)}function Sd(t,n){const s=window.getComputedStyle(t),o=y=>(s[y]||"").split(", "),r=o(`${An}Delay`),l=o(`${An}Duration`),a=Sc(r,l),i=o(`${Ys}Delay`),c=o(`${Ys}Duration`),p=Sc(i,c);let d=null,f=0,h=0;n===An?a>0&&(d=An,f=a,h=l.length):n===Ys?p>0&&(d=Ys,f=p,h=c.length):(f=Math.max(a,p),d=f>0?a>p?An:Ys:null,h=d?d===An?l.length:c.length:0);const m=d===An&&/\b(transform|all)(,|$)/.test(o(`${An}Property`).toString());return{type:d,timeout:f,propCount:h,hasTransform:m}}function Sc(t,n){for(;t.length<n.length;)t=t.concat(t);return Math.max(...n.map((s,o)=>$c(s)+$c(t[o])))}function $c(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function $d(){return document.body.offsetHeight}const Td=new WeakMap,Od=new WeakMap,Pd={name:"TransitionGroup",props:We({},U9,{tag:String,moveClass:String}),setup(t,{slots:n}){const s=Tt(),o=nd();let r,l;return rl(()=>{if(!r.length)return;const a=t.moveClass||`${t.name||"v"}-move`;if(!X9(r[0].el,s.vnode.el,a))return;r.forEach(Q9),r.forEach(J9);const i=r.filter(Z9);$d(),i.forEach(c=>{const p=c.el,d=p.style;an(p,a),d.transform=d.webkitTransform=d.transitionDuration="";const f=p._moveCb=h=>{h&&h.target!==p||(!h||/transform$/.test(h.propertyName))&&(p.removeEventListener("transitionend",f),p._moveCb=null,En(p,a))};p.addEventListener("transitionend",f)})}),()=>{const a=ye(t),i=W9(a);let c=a.tag||Oe;r=l,l=n.default?di(n.default()):[];for(let p=0;p<l.length;p++){const d=l[p];d.key!=null?Ls(d,Bo(d,i,o,s)):j("<TransitionGroup> children must be keyed.")}if(r)for(let p=0;p<r.length;p++){const d=r[p];Ls(d,Bo(d,i,o,s)),Td.set(d,d.el.getBoundingClientRect())}return te(c,null,l)}}},Y9=t=>delete t.mode;Pd.props;const G9=Pd;function Q9(t){const n=t.el;n._moveCb&&n._moveCb(),n._enterCb&&n._enterCb()}function J9(t){Od.set(t,t.el.getBoundingClientRect())}function Z9(t){const n=Td.get(t),s=Od.get(t),o=n.left-s.left,r=n.top-s.top;if(o||r){const l=t.el.style;return l.transform=l.webkitTransform=`translate(${o}px,${r}px)`,l.transitionDuration="0s",t}}function X9(t,n,s){const o=t.cloneNode();t._vtc&&t._vtc.forEach(a=>{a.split(/\s+/).forEach(i=>i&&o.classList.remove(i))}),s.split(/\s+/).forEach(a=>a&&o.classList.add(a)),o.style.display="none";const r=n.nodeType===1?n:n.parentNode;r.appendChild(o);const{hasTransform:l}=Sd(o);return r.removeChild(o),l}const eg=["ctrl","shift","alt","meta"],tg={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,n)=>eg.some(s=>t[`${s}Key`]&&!n.includes(s))},ng=(t,n)=>(s,...o)=>{for(let r=0;r<n.length;r++){const l=tg[n[r]];if(l&&l(s,n))return}return t(s,...o)},sg={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},ar=(t,n)=>s=>{if(!("key"in s))return;const o=yn(s.key);if(n.some(r=>r===o||sg[r]===o))return t(s)},Id={beforeMount(t,{value:n},{transition:s}){t._vod=t.style.display==="none"?"":t.style.display,s&&n?s.beforeEnter(t):Gs(t,n)},mounted(t,{value:n},{transition:s}){s&&n&&s.enter(t)},updated(t,{value:n,oldValue:s},{transition:o}){!n!=!s&&(o?n?(o.beforeEnter(t),Gs(t,!0),o.enter(t)):o.leave(t,()=>{Gs(t,!1)}):Gs(t,n))},beforeUnmount(t,{value:n}){Gs(t,n)}};function Gs(t,n){t.style.display=n?t._vod:"none"}const og=We({patchProp:H9},x9);let Tc;function rg(){return Tc||(Tc=t9(og))}const lg=(...t)=>{const n=rg().createApp(...t);ag(n),ig(n);const{mount:s}=n;return n.mount=o=>{const r=cg(o);if(!r)return;const l=n._component;!fe(l)&&!l.render&&!l.template&&(l.template=r.innerHTML),r.innerHTML="";const a=s(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a},n};function ag(t){Object.defineProperty(t.config,"isNativeTag",{value:n=>yp(n)||Gh(n),writable:!1})}function ig(t){{const n=t.config.isCustomElement;Object.defineProperty(t.config,"isCustomElement",{get(){return n},set(){j("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const s=t.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-dom';Object.defineProperty(t.config,"compilerOptions",{get(){return j(o),s},set(){j(o)}})}}function cg(t){if(He(t)){const n=document.querySelector(t);return n||j(`Failed to mount app: mount target selector "${t}" returned null.`),n}return window.ShadowRoot&&t instanceof window.ShadowRoot&&t.mode==="closed"&&j('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs'),t}function ug(){k9()}ug();function pa(t,n={},s){for(const o in t){const r=t[o],l=s?`${s}:${o}`:o;typeof r=="object"&&r!==null?pa(r,n,l):typeof r=="function"&&(n[l]=r)}return n}const pg={run:t=>t()},dg=()=>pg,Md=typeof console.createTask<"u"?console.createTask:dg;function fg(t,n){const s=n.shift(),o=Md(s);return t.reduce((r,l)=>r.then(()=>o.run(()=>l(...n))),Promise.resolve())}function hg(t,n){const s=n.shift(),o=Md(s);return Promise.all(t.map(r=>o.run(()=>r(...n))))}function kl(t,n){for(const s of t)s(n)}class yg{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(n,s,o={}){if(!n||typeof s!="function")return()=>{};const r=n;let l;for(;this._deprecatedHooks[n];)l=this._deprecatedHooks[n],n=l.to;if(l&&!o.allowDeprecated){let a=l.message;a||(a=`${r} hook has been deprecated`+(l.to?`, please use ${l.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(a)||(console.warn(a),this._deprecatedMessages.add(a))}if(!s.name)try{Object.defineProperty(s,"name",{get:()=>"_"+n.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[n]=this._hooks[n]||[],this._hooks[n].push(s),()=>{s&&(this.removeHook(n,s),s=void 0)}}hookOnce(n,s){let o,r=(...l)=>(typeof o=="function"&&o(),o=void 0,r=void 0,s(...l));return o=this.hook(n,r),o}removeHook(n,s){if(this._hooks[n]){const o=this._hooks[n].indexOf(s);o!==-1&&this._hooks[n].splice(o,1),this._hooks[n].length===0&&delete this._hooks[n]}}deprecateHook(n,s){this._deprecatedHooks[n]=typeof s=="string"?{to:s}:s;const o=this._hooks[n]||[];this._hooks[n]=void 0;for(const r of o)this.hook(n,r)}deprecateHooks(n){Object.assign(this._deprecatedHooks,n);for(const s in n)this.deprecateHook(s,n[s])}addHooks(n){const s=pa(n),o=Object.keys(s).map(r=>this.hook(r,s[r]));return()=>{for(const r of o.splice(0,o.length))r()}}removeHooks(n){const s=pa(n);for(const o in s)this.removeHook(o,s[o])}removeAllHooks(){for(const n in this._hooks)delete this._hooks[n]}callHook(n,...s){return s.unshift(n),this.callHookWith(fg,n,...s)}callHookParallel(n,...s){return s.unshift(n),this.callHookWith(hg,n,...s)}callHookWith(n,s,...o){const r=this._before||this._after?{name:s,args:o,context:{}}:void 0;this._before&&kl(this._before,r);const l=n(this._hooks[s]||[],o);return l instanceof Promise?l.finally(()=>{this._after&&r&&kl(this._after,r)}):(this._after&&r&&kl(this._after,r),l)}beforeEach(n){return this._before=this._before||[],this._before.push(n),()=>{const s=this._before.indexOf(n);s!==-1&&this._before.splice(s,1)}}afterEach(n){return this._after=this._after||[],this._after.push(n),()=>{const s=this._after.indexOf(n);s!==-1&&this._after.splice(s,1)}}}function mg(){return new yg}function gg(t){return Array.isArray(t)?t:[t]}const Rd=["title","script","style","noscript"],vg=["base","meta","link","style","script","noscript"],_g=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],wg=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],Ag=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function Ld(t){let n=9;for(let s=0;s<t.length;)n=Math.imul(n^t.charCodeAt(s++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function da(t){return Ld(`${t.tag}:${t.textContent||t.innerHTML||""}:${Object.entries(t.props).map(([n,s])=>`${n}:${String(s)}`).join(",")}`)}function bg(t){let n=9;for(const s of t)for(let o=0;o<s.length;)n=Math.imul(n^s.charCodeAt(o++),9**9);return((n^n>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Fd(t,n){const{props:s,tag:o}=t;if(wg.includes(o))return o;if(o==="link"&&s.rel==="canonical")return"canonical";if(s.charset)return"charset";const r=["id"];o==="meta"&&r.push("name","property","http-equiv");for(const l of r)if(typeof s[l]<"u"){const a=String(s[l]);return n&&!n(a)?!1:`${o}:${l}:${a}`}return!1}const Oc=(t,n)=>t==null?n||null:typeof t=="function"?t(n):t,ir=(t,n=!1,s)=>{const{tag:o,$el:r}=t;r&&(Object.entries(o.props).forEach(([l,a])=>{a=String(a);const i=`attr:${l}`;if(l==="class"){if(!a)return;for(const c of a.split(" ")){const p=`${i}:${c}`;s&&s(t,p,()=>r.classList.remove(c)),r.classList.contains(c)||r.classList.add(c)}return}s&&!l.startsWith("data-h-")&&s(t,i,()=>r.removeAttribute(l)),(n||r.getAttribute(l)!==a)&&r.setAttribute(l,a)}),Rd.includes(o.tag)&&(o.textContent&&o.textContent!==r.textContent?r.textContent=o.textContent:o.innerHTML&&o.innerHTML!==r.innerHTML&&(r.innerHTML=o.innerHTML)))};let Qs=!1;async function Nd(t,n={}){var h,m;const s={shouldRender:!0};if(await t.hooks.callHook("dom:beforeRender",s),!s.shouldRender)return;const o=n.document||t.resolvedOptions.document||window.document,r=(await t.resolveTags()).map(i);if(t.resolvedOptions.experimentalHashHydration&&(Qs=Qs||t._hash||!1,Qs)){const y=bg(r.map(v=>v.tag._h));if(Qs===y)return;Qs=y}const l=t._popSideEffectQueue();t.headEntries().map(y=>y._sde).forEach(y=>{Object.entries(y).forEach(([v,_])=>{l[v]=_})});const a=(y,v,_)=>{v=`${y.renderId}:${v}`,y.entry&&(y.entry._sde[v]=_),delete l[v]};function i(y){const v=t.headEntries().find(D=>D._i===y._e),_={renderId:!y.key&&y._d?y._d:da(y),$el:null,shouldRender:!0,tag:y,entry:v,markSideEffect:(D,b)=>a(_,D,b)};return _}const c=[],p={body:[],head:[]},d=y=>{t._elMap[y.renderId]=y.$el,c.push(y),a(y,"el",()=>{var v;(v=y.$el)==null||v.remove(),delete t._elMap[y.renderId]})};for(const y of r){if(await t.hooks.callHook("dom:beforeRenderTag",y),!y.shouldRender)continue;const{tag:v}=y;if(v.tag==="title"){o.title=v.textContent||"",c.push(y);continue}if(v.tag==="htmlAttrs"||v.tag==="bodyAttrs"){y.$el=o[v.tag==="htmlAttrs"?"documentElement":"body"],ir(y,!1,a),c.push(y);continue}if(y.$el=t._elMap[y.renderId],!y.$el&&v.key&&(y.$el=o.querySelector(`${(h=v.tagPosition)!=null&&h.startsWith("body")?"body":"head"} > ${v.tag}[data-h-${v._h}]`)),y.$el){y.tag._d&&ir(y),d(y);continue}p[(m=v.tagPosition)!=null&&m.startsWith("body")?"body":"head"].push(y)}const f={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(p).forEach(([y,v])=>{var D;if(!v.length)return;const _=(D=o==null?void 0:o[y])==null?void 0:D.children;if(_){for(const b of[..._].reverse()){const w=b.tagName.toLowerCase();if(!vg.includes(w))continue;const k=b.getAttributeNames().reduce((B,V)=>({...B,[V]:b.getAttribute(V)}),{}),S={tag:w,props:k};b.innerHTML&&(S.innerHTML=b.innerHTML);const M=da(S);let H=v.findIndex(B=>(B==null?void 0:B.renderId)===M);if(H===-1){const B=Fd(S);H=v.findIndex(V=>(V==null?void 0:V.tag._d)&&V.tag._d===B)}if(H!==-1){const B=v[H];B.$el=b,ir(B),d(B),delete v[H]}}v.forEach(b=>{const w=b.tag.tagPosition||"head";f[w]=f[w]||o.createDocumentFragment(),b.$el||(b.$el=o.createElement(b.tag.tag),ir(b,!0)),f[w].appendChild(b.$el),d(b)})}}),f.head&&o.head.appendChild(f.head),f.bodyOpen&&o.body.insertBefore(f.bodyOpen,o.body.firstChild),f.bodyClose&&o.body.appendChild(f.bodyClose);for(const y of c)await t.hooks.callHook("dom:renderTag",y);Object.values(l).forEach(y=>y())}let Cl=null;async function jd(t,n={}){function s(){return Cl=null,Nd(t,n)}const o=n.delayFn||(r=>setTimeout(r,10));return Cl=Cl||new Promise(r=>o(()=>r(s())))}const Eg=t=>({hooks:{"entries:updated":function(n){if(typeof(t==null?void 0:t.document)>"u"&&typeof window>"u")return;let s=t==null?void 0:t.delayFn;!s&&typeof requestAnimationFrame<"u"&&(s=requestAnimationFrame),jd(n,{document:(t==null?void 0:t.document)||window.document,delayFn:s})}}});function Dg(t){var n;return((n=t==null?void 0:t.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:n.getAttribute("content"))||!1}const Pc={critical:2,high:9,low:12,base:-1,title:1,meta:10};function Ic(t){if(typeof t.tagPriority=="number")return t.tagPriority;if(t.tag==="meta"){if(t.props.charset)return-2;if(t.props["http-equiv"]==="content-security-policy")return 0}const n=t.tagPriority||t.tag;return n in Pc?Pc[n]:10}const kg=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function Cg(){return{hooks:{"tags:resolve":t=>{const n=s=>{var o;return(o=t.tags.find(r=>r._d===s))==null?void 0:o._p};for(const{prefix:s,offset:o}of kg)for(const r of t.tags.filter(l=>typeof l.tagPriority=="string"&&l.tagPriority.startsWith(s))){const l=n(r.tagPriority.replace(s,""));typeof l<"u"&&(r._p=l+o)}t.tags.sort((s,o)=>s._p-o._p).sort((s,o)=>Ic(s)-Ic(o))}}}}const xg=()=>({hooks:{"tags:resolve":t=>{const{tags:n}=t;let s=n.findIndex(r=>r.tag==="titleTemplate");const o=n.findIndex(r=>r.tag==="title");if(o!==-1&&s!==-1){const r=Oc(n[s].textContent,n[o].textContent);r!==null?n[o].textContent=r||n[o].textContent:delete n[o]}else if(s!==-1){const r=Oc(n[s].textContent);r!==null&&(n[s].textContent=r,n[s].tag="title",s=-1)}s!==-1&&delete n[s],t.tags=n.filter(Boolean)}}}),Bg=()=>({hooks:{"tag:normalise":function({tag:t}){typeof t.props.body<"u"&&(t.tagPosition="bodyClose",delete t.props.body)}}}),Sg=["link","style","script","noscript"],$g=()=>({hooks:{"tag:normalise":({tag:t,resolvedOptions:n})=>{n.experimentalHashHydration===!0&&(t._h=da(t)),t.key&&Sg.includes(t.tag)&&(t._h=Ld(t.key),t.props[`data-h-${t._h}`]="")}}}),Mc=["script","link","bodyAttrs"],Tg=()=>{const t=(n,s)=>{const o={},r={};Object.entries(s.props).forEach(([a,i])=>{a.startsWith("on")&&typeof i=="function"?r[a]=i:o[a]=i});let l;return n==="dom"&&s.tag==="script"&&typeof o.src=="string"&&typeof r.onload<"u"&&(l=o.src,delete o.src),{props:o,eventHandlers:r,delayedSrc:l}};return{hooks:{"ssr:render":function(n){n.tags=n.tags.map(s=>(!Mc.includes(s.tag)||!Object.entries(s.props).find(([o,r])=>o.startsWith("on")&&typeof r=="function")||(s.props=t("ssr",s).props),s))},"dom:beforeRenderTag":function(n){if(!Mc.includes(n.tag.tag)||!Object.entries(n.tag.props).find(([l,a])=>l.startsWith("on")&&typeof a=="function"))return;const{props:s,eventHandlers:o,delayedSrc:r}=t("dom",n.tag);Object.keys(o).length&&(n.tag.props=s,n.tag._eventHandlers=o,n.tag._delayedSrc=r)},"dom:renderTag":function(n){const s=n.$el;if(!n.tag._eventHandlers||!s)return;const o=n.tag.tag==="bodyAttrs"&&typeof window<"u"?window:s;Object.entries(n.tag._eventHandlers).forEach(([r,l])=>{const a=`${n.tag._d||n.tag._p}:${r}`,i=r.slice(2).toLowerCase(),c=`data-h-${i}`;if(n.markSideEffect(a,()=>{}),s.hasAttribute(c))return;const p=l;s.setAttribute(c,""),o.addEventListener(i,p),n.entry&&(n.entry._sde[a]=()=>{o.removeEventListener(i,p),s.removeAttribute(c)})}),n.tag._delayedSrc&&s.setAttribute("src",n.tag._delayedSrc)}}}},Og=["templateParams","htmlAttrs","bodyAttrs"],Pg=()=>({hooks:{"tag:normalise":function({tag:t}){["hid","vmid","key"].forEach(s=>{t.props[s]&&(t.key=t.props[s],delete t.props[s])});const n=t.key?`${t.tag}:${t.key}`:Fd(t);n&&(t._d=n)},"tags:resolve":function(t){const n={};t.tags.forEach(o=>{const r=o._d||o._p,l=n[r];if(l){let a=o==null?void 0:o.tagDuplicateStrategy;if(!a&&Og.includes(o.tag)&&(a="merge"),a==="merge"){const c=l.props;["class","style"].forEach(p=>{o.props[p]&&c[p]&&(p==="style"&&!c[p].endsWith(";")&&(c[p]+=";"),o.props[p]=`${c[p]} ${o.props[p]}`)}),n[r].props={...c,...o.props};return}else if(o._e===l._e){l._duped=l._duped||[],o._d=`${l._d}:${l._duped.length+1}`,l._duped.push(o);return}const i=Object.keys(o.props).length;if((i===0||i===1&&typeof o.props["data-h-key"]<"u")&&!o.innerHTML&&!o.textContent){delete n[r];return}}n[r]=o});const s=[];Object.values(n).forEach(o=>{const r=o._duped;delete o._duped,s.push(o),r&&s.push(...r)}),t.tags=s}}});function cr(t,n){function s(l){if(["s","pageTitle"].includes(l))return n.pageTitle;let a;return l.includes(".")?a=l.split(".").reduce((i,c)=>i&&i[c]||void 0,n):a=n[l],typeof a<"u"?a||"":!1}let o=t;try{o=decodeURI(t)}catch{}return(o.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(l=>{const a=s(l.slice(1));typeof a=="string"&&(t=t.replaceAll(new RegExp(`\\${l}(\\W|$)`,"g"),`${a}$1`).trim())}),n.separator&&(t.endsWith(n.separator)&&(t=t.slice(0,-n.separator.length).trim()),t.startsWith(n.separator)&&(t=t.slice(n.separator.length).trim()),t=t.replace(new RegExp(`\\${n.separator}\\s*\\${n.separator}`,"g"),n.separator)),t}function Ig(){return{hooks:{"tags:resolve":t=>{var l;const{tags:n}=t,s=(l=n.find(a=>a.tag==="title"))==null?void 0:l.textContent,o=n.findIndex(a=>a.tag==="templateParams"),r=o!==-1?n[o].props:{};r.pageTitle=r.pageTitle||s||"";for(const a of n)if(["titleTemplate","title"].includes(a.tag)&&typeof a.textContent=="string")a.textContent=cr(a.textContent,r);else if(a.tag==="meta"&&typeof a.props.content=="string")a.props.content=cr(a.props.content,r);else if(a.tag==="link"&&typeof a.props.href=="string")a.props.href=cr(a.props.href,r);else if(a.tag==="script"&&["application/json","application/ld+json"].includes(a.props.type)&&typeof a.innerHTML=="string")try{a.innerHTML=JSON.stringify(JSON.parse(a.innerHTML),(i,c)=>typeof c=="string"?cr(c,r):c)}catch{}t.tags=n.filter(a=>a.tag!=="templateParams")}}}}const Mg=typeof window<"u";let qd;const Rg=t=>qd=t,Lg=()=>qd;async function Fg(t,n){const s={tag:t,props:{}};return t==="templateParams"?(s.props=n,s):["title","titleTemplate"].includes(t)?(s.textContent=n instanceof Promise?await n:n,s):typeof n=="string"?["script","noscript","style"].includes(t)?(t==="script"&&(/^(https?:)?\/\//.test(n)||n.startsWith("/"))?s.props.src=n:s.innerHTML=n,s):!1:(s.props=await jg(t,{...n}),s.props.children&&(s.props.innerHTML=s.props.children),delete s.props.children,Object.keys(s.props).filter(o=>Ag.includes(o)).forEach(o=>{(!["innerHTML","textContent"].includes(o)||Rd.includes(s.tag))&&(s[o]=s.props[o]),delete s.props[o]}),["innerHTML","textContent"].forEach(o=>{if(s.tag==="script"&&typeof s[o]=="string"&&["application/ld+json","application/json"].includes(s.props.type))try{s[o]=JSON.parse(s[o])}catch{s[o]=""}typeof s[o]=="object"&&(s[o]=JSON.stringify(s[o]))}),s.props.class&&(s.props.class=Ng(s.props.class)),s.props.content&&Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s)}function Ng(t){return typeof t=="object"&&!Array.isArray(t)&&(t=Object.keys(t).filter(n=>t[n])),(Array.isArray(t)?t.join(" "):t).split(" ").filter(n=>n.trim()).filter(Boolean).join(" ")}async function jg(t,n){for(const s of Object.keys(n)){const o=s.startsWith("data-");n[s]instanceof Promise&&(n[s]=await n[s]),String(n[s])==="true"?n[s]=o?"true":"":String(n[s])==="false"&&(o?n[s]="false":delete n[s])}return n}const qg=10;async function Hg(t){const n=[];return Object.entries(t.resolvedInput).filter(([s,o])=>typeof o<"u"&&_g.includes(s)).forEach(([s,o])=>{const r=gg(o);n.push(...r.map(l=>Fg(s,l)).flat())}),(await Promise.all(n)).flat().filter(Boolean).map((s,o)=>(s._e=t._i,s._p=(t._i<<qg)+o,s))}const Vg=()=>[Pg(),Cg(),Ig(),xg(),$g(),Tg(),Bg()],Ug=(t={})=>[Eg({document:t==null?void 0:t.document,delayFn:t==null?void 0:t.domDelayFn})];function Wg(t={}){const n=zg({...t,plugins:[...Ug(t),...(t==null?void 0:t.plugins)||[]]});return t.experimentalHashHydration&&n.resolvedOptions.document&&(n._hash=Dg(n.resolvedOptions.document)),Rg(n),n}function zg(t={}){let n=[],s={},o=0;const r=mg();t!=null&&t.hooks&&r.addHooks(t.hooks),t.plugins=[...Vg(),...(t==null?void 0:t.plugins)||[]],t.plugins.forEach(i=>i.hooks&&r.addHooks(i.hooks)),t.document=t.document||(Mg?document:void 0);const l=()=>r.callHook("entries:updated",a),a={resolvedOptions:t,headEntries(){return n},get hooks(){return r},use(i){i.hooks&&r.addHooks(i.hooks)},push(i,c){const p={_i:o++,input:i,_sde:{}};return c!=null&&c.mode&&(p._m=c==null?void 0:c.mode),c!=null&&c.transform&&(p._t=c==null?void 0:c.transform),n.push(p),l(),{dispose(){n=n.filter(d=>d._i!==p._i?!0:(s={...s,...d._sde||{}},d._sde={},l(),!1))},patch(d){n=n.map(f=>(f._i===p._i&&(p.input=f.input=d,l()),f))}}},async resolveTags(){const i={tags:[],entries:[...n]};await r.callHook("entries:resolve",i);for(const c of i.entries){const p=c._t||(d=>d);if(c.resolvedInput=p(c.resolvedInput||c.input),c.resolvedInput)for(const d of await Hg(c)){const f={tag:d,entry:c,resolvedOptions:a.resolvedOptions};await r.callHook("tag:normalise",f),i.tags.push(f.tag)}}return await r.callHook("tags:resolve",i),i.tags},_popSideEffectQueue(){const i={...s};return s={},i},_elMap:{}};return a.hooks.callHook("init",a),a}function Kg(t){return typeof t=="function"?t():C(t)}function Fr(t,n=""){if(t instanceof Promise)return t;const s=Kg(t);return!t||!s?s:Array.isArray(s)?s.map(o=>Fr(o,n)):typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,r])=>o==="titleTemplate"||o.startsWith("on")?[o,C(r)]:[o,Fr(r,o)])):s}const Yg=Lr.startsWith("3"),Gg=typeof window<"u",Hd="usehead";function gi(){return Tt()&&O(Hd)||Lg()}function Qg(t){return{install(s){Yg&&(s.config.globalProperties.$unhead=t,s.config.globalProperties.$head=t,s.provide(Hd,t))}}.install}function Jg(t={}){const n=Wg({...t,domDelayFn:s=>setTimeout(()=>lt(()=>s()),10),plugins:[Zg(),...(t==null?void 0:t.plugins)||[]]});return n.install=Qg(n),n}const Zg=()=>({hooks:{"entries:resolve":function(t){for(const n of t.entries)n.resolvedInput=Fr(n.input)}}});function Xg(t,n={}){const s=gi(),o=Y(!1),r=Y({});vs(()=>{r.value=o.value?{}:Fr(t)});const l=s.push(r.value,n);return we(r,i=>{l.patch(i)}),Tt()&&(Ko(()=>{l.dispose()}),ld(()=>{o.value=!0}),rd(()=>{o.value=!1})),l}function e6(t,n={}){return gi().push(t,n)}function vi(t,n={}){var o;const s=gi();if(s){const r=Gg||!!((o=s.resolvedOptions)!=null&&o.document);return n.mode==="server"&&r||n.mode==="client"&&!r?void 0:r?Xg(t,n):e6(t,n)}}const t6=t=>vi({htmlAttrs:t});function n6(t,n){const s=Jg(n||{}),o={unhead:s,install(r){Lr.startsWith("3")&&(r.config.globalProperties.$head=s,r.provide("usehead",s))},use(r){s.use(r)},resolveTags(){return s.resolveTags()},headEntries(){return s.headEntries()},headTags(){return s.resolveTags()},push(r,l){return s.push(r,l)},addEntry(r,l){return s.push(r,l)},addHeadObjs(r,l){return s.push(r,l)},addReactiveEntry(r,l){const a=vi(r,l);return typeof a<"u"?a.dispose:()=>{}},removeHeadObjs(){},updateDOM(r,l){l?Nd(s,{document:r}):jd(s,{delayFn:a=>setTimeout(()=>a(),50),document:r})},internalHooks:s.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return s.addHeadObjs=o.addHeadObjs,s.updateDOM=o.updateDOM,s.hooks.hook("dom:beforeRender",r=>{for(const l of o.hooks["before:dom"])l()===!1&&(r.shouldRender=!1)}),t&&o.addHeadObjs(t),o}const ho=Symbol("v-click-clicks"),ts=Symbol("v-click-clicks-elements"),fa=Symbol("v-click-clicks-order-map"),yo=Symbol("v-click-clicks-disabled"),Vd=Symbol("slidev-slide-scale"),F=Symbol("slidev-slidev-context"),s6=Symbol("slidev-route"),o6=Symbol("slidev-slide-context"),Zn="slidev-vclick-target",xl="slidev-vclick-hidden",r6="slidev-vclick-fade",Bl="slidev-vclick-hidden-explicitly",Js="slidev-vclick-current",ur="slidev-vclick-prior",l6=["localhost","127.0.0.1"];let a6=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((n,s)=>(s&=63,s<36?n+=s.toString(36):s<62?n+=(s-26).toString(36).toUpperCase():s>62?n+="-":n+="_",n),"");function ha(t,n){if(!t)return!1;const s=t.indexOf(n);return s>=0?(t.splice(s,1),!0):!1}function i6(...t){let n,s,o;t.length===1?(n=0,o=1,[s]=t):[n,s,o=1]=t;const r=[];let l=n;for(;l<s;)r.push(l),l+=o||1;return r}function c6(t){return t!=null}function u6(t,n){return Object.fromEntries(Object.entries(t).map(([s,o])=>n(s,o)).filter(c6))}const io={theme:"slidev-theme-nearform",title:"OWASP Top Ten Security Vulnerabilities Workshop",titleTemplate:"%s - Slidev",addons:[],remoteAssets:!1,monaco:"dev",download:!1,export:{},info:!1,highlighter:"shiki",lineNumbers:!1,colorSchema:"dark",routerMode:"history",aspectRatio:1.7777777777777777,canvasWidth:980,exportFilename:"",selectable:!1,themeConfig:{},fonts:{sans:['"Poppins"',"ui-sans-serif","system-ui","-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial",'"Noto Sans"',"sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:['"Poppins"',"ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:['"PT Mono"',"ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"],webfonts:["Poppins","PT Mono"],provider:"google",local:[],italic:!1,weights:["200","400","600"]},favicon:"https://cdn.jsdelivr.net/gh/slidevjs/slidev/assets/favicon.png",drawings:{enabled:!0,persist:!1,presenterOnly:!1,syncAll:!0},plantUmlServer:"https://www.plantuml.com/plantuml",codeCopy:!0,record:"dev",css:"windicss",presenter:!0,htmlAttrs:{},layout:"default"},Te=io,On=Te.aspectRatio??16/9,Pn=Te.canvasWidth??980,_i=Math.ceil(Pn/On),wi=$(()=>u6(Te.themeConfig||{},(t,n)=>[`--slidev-theme-${t}`,n]));function Ft(t,n,s){Object.defineProperty(t,n,{value:s,writable:!0,enumerable:!1})}const ws=Ve({page:0,clicks:0});let p6=[],d6=[];Ft(ws,"$syncUp",!0);Ft(ws,"$syncDown",!0);Ft(ws,"$paused",!1);Ft(ws,"$onSet",t=>p6.push(t));Ft(ws,"$onPatch",t=>d6.push(t));Ft(ws,"$patch",async()=>!1);function Ud(t,n,s=!1){const o=[];let r=!1,l=!1,a,i;const c=Ve(n);function p(m){o.push(m)}function d(m,y){c[m]!==y&&(clearTimeout(a),r=!0,c[m]=y,a=setTimeout(()=>r=!1,0))}function f(m){r||(clearTimeout(i),l=!0,Object.entries(m).forEach(([y,v])=>{c[y]=v}),i=setTimeout(()=>l=!1,0))}function h(m){let y;s?s&&window.addEventListener("storage",_=>{_&&_.key===m&&_.newValue&&f(JSON.parse(_.newValue))}):(y=new BroadcastChannel(m),y.addEventListener("message",_=>f(_.data)));function v(){!s&&y&&!l?y.postMessage(ye(c)):s&&!l&&window.localStorage.setItem(m,JSON.stringify(c)),r||o.forEach(_=>_(c))}if(we(c,v,{deep:!0}),s){const _=window.localStorage.getItem(m);_&&f(JSON.parse(_))}}return{init:h,onPatch:p,patch:d,state:c}}const{init:f6,onPatch:h6,patch:Zs,state:Sl}=Ud(ws,{page:1,clicks:0,viewerPage:1,viewerClicks:0}),As=Ve({});let y6=[],m6=[];Ft(As,"$syncUp",!0);Ft(As,"$syncDown",!0);Ft(As,"$paused",!1);Ft(As,"$onSet",t=>y6.push(t));Ft(As,"$onPatch",t=>m6.push(t));Ft(As,"$patch",async()=>!1);const{init:g6,onPatch:v6,patch:Wd,state:Nr}=Ud(As,{},!1),_6="modulepreload",w6=function(t){return"/owasp-top-ten-workshop/"+t},Rc={},In=function(n,s,o){if(!s||s.length===0)return n();const r=document.getElementsByTagName("link");return Promise.all(s.map(l=>{if(l=w6(l),l in Rc)return;Rc[l]=!0;const a=l.endsWith(".css"),i=a?'[rel="stylesheet"]':"";if(!!o)for(let d=r.length-1;d>=0;d--){const f=r[d];if(f.href===l&&(!a||f.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${l}"]${i}`))return;const p=document.createElement("link");if(p.rel=a?"stylesheet":_6,a||(p.as="script",p.crossOrigin=""),p.href=l,document.head.appendChild(p),a)return new Promise((d,f)=>{p.addEventListener("load",d),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${l}`)))})})).then(()=>n())};var Lc;const Wt=typeof window<"u",A6=t=>typeof t<"u",b6=Object.prototype.toString,Oo=t=>typeof t=="function",E6=t=>typeof t=="number",zd=t=>typeof t=="string",ya=t=>b6.call(t)==="[object Object]",ma=()=>+Date.now(),Ms=()=>{},D6=Wt&&((Lc=window==null?void 0:window.navigator)==null?void 0:Lc.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function ot(t){return typeof t=="function"?t():C(t)}function k6(t,n){function s(...o){return new Promise((r,l)=>{Promise.resolve(t(()=>n.apply(this,o),{fn:n,thisArg:this,args:o})).then(r).catch(l)})}return s}const Kd=t=>t();function C6(t=Kd){const n=Y(!0);function s(){n.value=!1}function o(){n.value=!0}const r=(...l)=>{n.value&&t(...l)};return{isActive:Jt(n),pause:s,resume:o,eventFilter:r}}function x6(t){return t}function B6(t,n){var s;if(typeof t=="number")return t+n;const o=((s=t.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:s[0])||"",r=t.slice(o.length),l=parseFloat(o)+n;return Number.isNaN(l)?t:l+r}function S6(t,n){let s,o,r;const l=Y(!0),a=()=>{l.value=!0,r()};we(t,a,{flush:"sync"});const i=Oo(n)?n:n.get,c=Oo(n)?void 0:n.set,p=jp((d,f)=>(o=d,r=f,{get(){return l.value&&(s=i(),l.value=!1),o(),s},set(h){c==null||c(h)}}));return Object.isExtensible(p)&&(p.trigger=a),p}function sn(t){return ei()?(Dp(t),!0):!1}function $6(t){if(!Pe(t))return Ve(t);const n=new Proxy({},{get(s,o,r){return C(Reflect.get(t.value,o,r))},set(s,o,r){return Pe(t.value[o])&&!Pe(r)?t.value[o].value=r:t.value[o]=r,!0},deleteProperty(s,o){return Reflect.deleteProperty(t.value,o)},has(s,o){return Reflect.has(t.value,o)},ownKeys(){return Object.keys(t.value)},getOwnPropertyDescriptor(){return{enumerable:!0,configurable:!0}}});return Ve(n)}function Yd(t){return typeof t=="function"?$(t):Y(t)}var T6=Object.defineProperty,O6=Object.defineProperties,P6=Object.getOwnPropertyDescriptors,Fc=Object.getOwnPropertySymbols,I6=Object.prototype.hasOwnProperty,M6=Object.prototype.propertyIsEnumerable,Nc=(t,n,s)=>n in t?T6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,R6=(t,n)=>{for(var s in n||(n={}))I6.call(n,s)&&Nc(t,s,n[s]);if(Fc)for(var s of Fc(n))M6.call(n,s)&&Nc(t,s,n[s]);return t},L6=(t,n)=>O6(t,P6(n));function F6(t){if(!Pe(t))return jy(t);const n=Array.isArray(t.value)?new Array(t.value.length):{};for(const s in t.value)n[s]=jp(()=>({get(){return t.value[s]},set(o){if(Array.isArray(t.value)){const r=[...t.value];r[s]=o,t.value=r}else{const r=L6(R6({},t.value),{[s]:o});Object.setPrototypeOf(r,t.value),t.value=r}}}));return n}function Ai(t,n=!0){Tt()?_s(t):n?t():lt(t)}function N6(t){Tt()&&ll(t)}function j6(t,n=1e3,s={}){const{immediate:o=!0,immediateCallback:r=!1}=s;let l=null;const a=Y(!1);function i(){l&&(clearInterval(l),l=null)}function c(){a.value=!1,i()}function p(){const d=ot(n);d<=0||(a.value=!0,r&&t(),i(),l=setInterval(t,d))}if(o&&Wt&&p(),Pe(n)||Oo(n)){const d=we(n,()=>{a.value&&Wt&&p()});sn(d)}return sn(c),{isActive:a,pause:c,resume:p}}function q6(t,n,s={}){const{immediate:o=!0}=s,r=Y(!1);let l=null;function a(){l&&(clearTimeout(l),l=null)}function i(){r.value=!1,a()}function c(...p){a(),r.value=!0,l=setTimeout(()=>{r.value=!1,l=null,t(...p)},ot(n))}return o&&(r.value=!0,Wt&&c()),sn(i),{isPending:Jt(r),start:c,stop:i}}function Gd(t=!1,n={}){const{truthyValue:s=!0,falsyValue:o=!1}=n,r=Pe(t),l=Y(t);function a(i){if(arguments.length)return l.value=i,l.value;{const c=ot(s);return l.value=l.value===c?ot(o):c,l.value}}return r?a:[l,a]}var jc=Object.getOwnPropertySymbols,H6=Object.prototype.hasOwnProperty,V6=Object.prototype.propertyIsEnumerable,U6=(t,n)=>{var s={};for(var o in t)H6.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&jc)for(var o of jc(t))n.indexOf(o)<0&&V6.call(t,o)&&(s[o]=t[o]);return s};function W6(t,n,s={}){const o=s,{eventFilter:r=Kd}=o,l=U6(o,["eventFilter"]);return we(t,k6(r,n),l)}var z6=Object.defineProperty,K6=Object.defineProperties,Y6=Object.getOwnPropertyDescriptors,jr=Object.getOwnPropertySymbols,Qd=Object.prototype.hasOwnProperty,Jd=Object.prototype.propertyIsEnumerable,qc=(t,n,s)=>n in t?z6(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,G6=(t,n)=>{for(var s in n||(n={}))Qd.call(n,s)&&qc(t,s,n[s]);if(jr)for(var s of jr(n))Jd.call(n,s)&&qc(t,s,n[s]);return t},Q6=(t,n)=>K6(t,Y6(n)),J6=(t,n)=>{var s={};for(var o in t)Qd.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&jr)for(var o of jr(t))n.indexOf(o)<0&&Jd.call(t,o)&&(s[o]=t[o]);return s};function Z6(t,n,s={}){const o=s,{eventFilter:r}=o,l=J6(o,["eventFilter"]),{eventFilter:a,pause:i,resume:c,isActive:p}=C6(r);return{stop:W6(t,n,Q6(G6({},l),{eventFilter:a})),pause:i,resume:c,isActive:p}}function xt(t){var n;const s=ot(t);return(n=s==null?void 0:s.$el)!=null?n:s}const et=Wt?window:void 0,Zd=Wt?window.document:void 0,X6=Wt?window.navigator:void 0;function Ae(...t){let n,s,o,r;if(zd(t[0])||Array.isArray(t[0])?([s,o,r]=t,n=et):[n,s,o,r]=t,!n)return Ms;Array.isArray(s)||(s=[s]),Array.isArray(o)||(o=[o]);const l=[],a=()=>{l.forEach(d=>d()),l.length=0},i=(d,f,h,m)=>(d.addEventListener(f,h,m),()=>d.removeEventListener(f,h,m)),c=we(()=>[xt(n),ot(r)],([d,f])=>{a(),d&&l.push(...s.flatMap(h=>o.map(m=>i(d,h,m,f))))},{immediate:!0,flush:"post"}),p=()=>{c(),a()};return sn(p),p}let Hc=!1;function ev(t,n,s={}){const{window:o=et,ignore:r=[],capture:l=!0,detectIframe:a=!1}=s;if(!o)return;D6&&!Hc&&(Hc=!0,Array.from(o.document.body.children).forEach(h=>h.addEventListener("click",Ms)));let i=!0;const c=h=>r.some(m=>{if(typeof m=="string")return Array.from(o.document.querySelectorAll(m)).some(y=>y===h.target||h.composedPath().includes(y));{const y=xt(m);return y&&(h.target===y||h.composedPath().includes(y))}}),d=[Ae(o,"click",h=>{const m=xt(t);if(!(!m||m===h.target||h.composedPath().includes(m))){if(h.detail===0&&(i=!c(h)),!i){i=!0;return}n(h)}},{passive:!0,capture:l}),Ae(o,"pointerdown",h=>{const m=xt(t);m&&(i=!h.composedPath().includes(m)&&!c(h))},{passive:!0}),a&&Ae(o,"blur",h=>{var m;const y=xt(t);((m=o.document.activeElement)==null?void 0:m.tagName)==="IFRAME"&&!(y!=null&&y.contains(o.document.activeElement))&&n(h)})].filter(Boolean);return()=>d.forEach(h=>h())}const tv=t=>typeof t=="function"?t:typeof t=="string"?n=>n.key===t:Array.isArray(t)?n=>t.includes(n.key):()=>!0;function nv(...t){let n,s,o={};t.length===3?(n=t[0],s=t[1],o=t[2]):t.length===2?typeof t[1]=="object"?(n=!0,s=t[0],o=t[1]):(n=t[0],s=t[1]):(n=!0,s=t[0]);const{target:r=et,eventName:l="keydown",passive:a=!1}=o,i=tv(n);return Ae(r,l,p=>{i(p)&&s(p)},a)}function sv(t={}){var n;const{window:s=et}=t,o=(n=t.document)!=null?n:s==null?void 0:s.document,r=S6(()=>null,()=>o==null?void 0:o.activeElement);return s&&(Ae(s,"blur",l=>{l.relatedTarget===null&&r.trigger()},!0),Ae(s,"focus",r.trigger,!0)),r}function Go(t,n=!1){const s=Y(),o=()=>s.value=!!t();return o(),Ai(o,n),s}function Bs(t,n={}){const{window:s=et}=n,o=Go(()=>s&&"matchMedia"in s&&typeof s.matchMedia=="function");let r;const l=Y(!1),a=()=>{r&&("removeEventListener"in r?r.removeEventListener("change",i):r.removeListener(i))},i=()=>{o.value&&(a(),r=s.matchMedia(Yd(t).value),l.value=r.matches,"addEventListener"in r?r.addEventListener("change",i):r.addListener(i))};return vs(i),sn(()=>a()),l}const ov={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};var rv=Object.defineProperty,Vc=Object.getOwnPropertySymbols,lv=Object.prototype.hasOwnProperty,av=Object.prototype.propertyIsEnumerable,Uc=(t,n,s)=>n in t?rv(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,iv=(t,n)=>{for(var s in n||(n={}))lv.call(n,s)&&Uc(t,s,n[s]);if(Vc)for(var s of Vc(n))av.call(n,s)&&Uc(t,s,n[s]);return t};function cv(t,n={}){function s(i,c){let p=t[i];return c!=null&&(p=B6(p,c)),typeof p=="number"&&(p=`${p}px`),p}const{window:o=et}=n;function r(i){return o?o.matchMedia(i).matches:!1}const l=i=>Bs(`(min-width: ${s(i)})`,n),a=Object.keys(t).reduce((i,c)=>(Object.defineProperty(i,c,{get:()=>l(c),enumerable:!0,configurable:!0}),i),{});return iv({greater(i){return Bs(`(min-width: ${s(i,.1)})`,n)},greaterOrEqual:l,smaller(i){return Bs(`(max-width: ${s(i,-.1)})`,n)},smallerOrEqual(i){return Bs(`(max-width: ${s(i)})`,n)},between(i,c){return Bs(`(min-width: ${s(i)}) and (max-width: ${s(c,-.1)})`,n)},isGreater(i){return r(`(min-width: ${s(i,.1)})`)},isGreaterOrEqual(i){return r(`(min-width: ${s(i)})`)},isSmaller(i){return r(`(max-width: ${s(i,-.1)})`)},isSmallerOrEqual(i){return r(`(max-width: ${s(i)})`)},isInBetween(i,c){return r(`(min-width: ${s(i)}) and (max-width: ${s(c,-.1)})`)}},a)}function uv(t={}){const{navigator:n=X6,read:s=!1,source:o,copiedDuring:r=1500,legacy:l=!1}=t,a=["copy","cut"],i=Go(()=>n&&"clipboard"in n),c=$(()=>i.value||l),p=Y(""),d=Y(!1),f=q6(()=>d.value=!1,r);function h(){i.value?n.clipboard.readText().then(_=>{p.value=_}):p.value=v()}if(c.value&&s)for(const _ of a)Ae(_,h);async function m(_=ot(o)){c.value&&_!=null&&(i.value?await n.clipboard.writeText(_):y(_),p.value=_,d.value=!0,f.start())}function y(_){const D=document.createElement("textarea");D.value=_??"",D.style.position="absolute",D.style.opacity="0",document.body.appendChild(D),D.select(),document.execCommand("copy"),D.remove()}function v(){var _,D,b;return(b=(D=(_=document==null?void 0:document.getSelection)==null?void 0:_.call(document))==null?void 0:D.toString())!=null?b:""}return{isSupported:c,text:p,copied:d,copy:m}}function pv(t){return JSON.parse(JSON.stringify(t))}const ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},va="__vueuse_ssr_handlers__";ga[va]=ga[va]||{};const dv=ga[va];function fv(t,n){return dv[t]||n}function hv(t){return t==null?"any":t instanceof Set?"set":t instanceof Map?"map":t instanceof Date?"date":typeof t=="boolean"?"boolean":typeof t=="string"?"string":typeof t=="object"?"object":Number.isNaN(t)?"any":"number"}var yv=Object.defineProperty,Wc=Object.getOwnPropertySymbols,mv=Object.prototype.hasOwnProperty,gv=Object.prototype.propertyIsEnumerable,zc=(t,n,s)=>n in t?yv(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Kc=(t,n)=>{for(var s in n||(n={}))mv.call(n,s)&&zc(t,s,n[s]);if(Wc)for(var s of Wc(n))gv.call(n,s)&&zc(t,s,n[s]);return t};const vv={boolean:{read:t=>t==="true",write:t=>String(t)},object:{read:t=>JSON.parse(t),write:t=>JSON.stringify(t)},number:{read:t=>Number.parseFloat(t),write:t=>String(t)},any:{read:t=>t,write:t=>String(t)},string:{read:t=>t,write:t=>String(t)},map:{read:t=>new Map(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t.entries()))},set:{read:t=>new Set(JSON.parse(t)),write:t=>JSON.stringify(Array.from(t))},date:{read:t=>new Date(t),write:t=>t.toISOString()}},Yc="vueuse-storage";function _v(t,n,s,o={}){var r;const{flush:l="pre",deep:a=!0,listenToStorageChanges:i=!0,writeDefaults:c=!0,mergeDefaults:p=!1,shallow:d,window:f=et,eventFilter:h,onError:m=B=>{console.error(B)}}=o,y=(d?nn:Y)(n);if(!s)try{s=fv("getDefaultStorage",()=>{var B;return(B=et)==null?void 0:B.localStorage})()}catch(B){m(B)}if(!s)return y;const v=ot(n),_=hv(v),D=(r=o.serializer)!=null?r:vv[_],{pause:b,resume:w}=Z6(y,()=>k(y.value),{flush:l,deep:a,eventFilter:h});return f&&i&&(Ae(f,"storage",H),Ae(f,Yc,M)),H(),y;function k(B){try{if(B==null)s.removeItem(t);else{const V=D.write(B),ne=s.getItem(t);ne!==V&&(s.setItem(t,V),f&&f.dispatchEvent(new CustomEvent(Yc,{detail:{key:t,oldValue:ne,newValue:V,storageArea:s}})))}}catch(V){m(V)}}function S(B){const V=B?B.newValue:s.getItem(t);if(V==null)return c&&v!==null&&s.setItem(t,D.write(v)),v;if(!B&&p){const ne=D.read(V);return Oo(p)?p(ne,v):_==="object"&&!Array.isArray(ne)?Kc(Kc({},v),ne):ne}else return typeof V!="string"?V:D.read(V)}function M(B){H(B.detail)}function H(B){if(!(B&&B.storageArea!==s)){if(B&&B.key==null){y.value=v;return}if(!(B&&B.key!==t)){b();try{y.value=S(B)}catch(V){m(V)}finally{B?lt(w):w()}}}}}function wv(t){return Bs("(prefers-color-scheme: dark)",t)}var Av=Object.defineProperty,bv=Object.defineProperties,Ev=Object.getOwnPropertyDescriptors,Gc=Object.getOwnPropertySymbols,Dv=Object.prototype.hasOwnProperty,kv=Object.prototype.propertyIsEnumerable,Qc=(t,n,s)=>n in t?Av(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Cv=(t,n)=>{for(var s in n||(n={}))Dv.call(n,s)&&Qc(t,s,n[s]);if(Gc)for(var s of Gc(n))kv.call(n,s)&&Qc(t,s,n[s]);return t},xv=(t,n)=>bv(t,Ev(n));function jS(t,n={}){var s,o,r;const l=(s=n.draggingElement)!=null?s:et,a=(o=n.handle)!=null?o:t,i=Y((r=ot(n.initialValue))!=null?r:{x:0,y:0}),c=Y(),p=y=>n.pointerTypes?n.pointerTypes.includes(y.pointerType):!0,d=y=>{ot(n.preventDefault)&&y.preventDefault(),ot(n.stopPropagation)&&y.stopPropagation()},f=y=>{var v;if(!p(y)||ot(n.exact)&&y.target!==ot(t))return;const _=ot(t).getBoundingClientRect(),D={x:y.clientX-_.left,y:y.clientY-_.top};((v=n.onStart)==null?void 0:v.call(n,D,y))!==!1&&(c.value=D,d(y))},h=y=>{var v;p(y)&&c.value&&(i.value={x:y.clientX-c.value.x,y:y.clientY-c.value.y},(v=n.onMove)==null||v.call(n,i.value,y),d(y))},m=y=>{var v;p(y)&&c.value&&(c.value=void 0,(v=n.onEnd)==null||v.call(n,i.value,y),d(y))};return Wt&&(Ae(a,"pointerdown",f,!0),Ae(l,"pointermove",h,!0),Ae(l,"pointerup",m,!0)),xv(Cv({},F6(i)),{position:i,isDragging:$(()=>!!c.value),style:$(()=>`left:${i.value.x}px;top:${i.value.y}px;`)})}var Jc=Object.getOwnPropertySymbols,Bv=Object.prototype.hasOwnProperty,Sv=Object.prototype.propertyIsEnumerable,$v=(t,n)=>{var s={};for(var o in t)Bv.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&Jc)for(var o of Jc(t))n.indexOf(o)<0&&Sv.call(t,o)&&(s[o]=t[o]);return s};function Tv(t,n,s={}){const o=s,{window:r=et}=o,l=$v(o,["window"]);let a;const i=Go(()=>r&&"ResizeObserver"in r),c=()=>{a&&(a.disconnect(),a=void 0)},p=we(()=>xt(t),f=>{c(),i.value&&r&&f&&(a=new ResizeObserver(n),a.observe(f,l))},{immediate:!0,flush:"post"}),d=()=>{c(),p()};return sn(d),{isSupported:i,stop:d}}function Ov(t,n={}){const{immediate:s=!0,window:o=et}=n,r=Y(!1);let l=0,a=null;function i(d){if(!r.value||!o)return;const f=d-l;t({delta:f,timestamp:d}),l=d,a=o.requestAnimationFrame(i)}function c(){!r.value&&o&&(r.value=!0,a=o.requestAnimationFrame(i))}function p(){r.value=!1,a!=null&&o&&(o.cancelAnimationFrame(a),a=null)}return s&&c(),sn(p),{isActive:Jt(r),pause:p,resume:c}}function Pv(t,n={width:0,height:0},s={}){const{window:o=et,box:r="content-box"}=s,l=$(()=>{var c,p;return(p=(c=xt(t))==null?void 0:c.namespaceURI)==null?void 0:p.includes("svg")}),a=Y(n.width),i=Y(n.height);return Tv(t,([c])=>{const p=r==="border-box"?c.borderBoxSize:r==="content-box"?c.contentBoxSize:c.devicePixelContentBoxSize;if(o&&l.value){const d=xt(t);if(d){const f=o.getComputedStyle(d);a.value=parseFloat(f.width),i.value=parseFloat(f.height)}}else if(p){const d=Array.isArray(p)?p:[p];a.value=d.reduce((f,{inlineSize:h})=>f+h,0),i.value=d.reduce((f,{blockSize:h})=>f+h,0)}else a.value=c.contentRect.width,i.value=c.contentRect.height},s),we(()=>xt(t),c=>{a.value=c?n.width:0,i.value=c?n.height:0}),{width:a,height:i}}const Zc=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];function Iv(t,n={}){const{document:s=Zd,autoExit:o=!1}=n,r=t||(s==null?void 0:s.querySelector("html")),l=Y(!1);let a=Zc[0];const i=Go(()=>{if(s){for(const v of Zc)if(v[1]in s)return a=v,!0}else return!1;return!1}),[c,p,d,,f]=a;async function h(){i.value&&(s!=null&&s[d]&&await s[p](),l.value=!1)}async function m(){if(!i.value)return;await h();const v=xt(r);v&&(await v[c](),l.value=!0)}async function y(){l.value?await h():await m()}return s&&Ae(s,f,()=>{l.value=!!(s!=null&&s[d])},!1),o&&sn(h),{isSupported:i,isFullscreen:l,enter:m,exit:h,toggle:y}}function Mv(t,n,s={}){const{root:o,rootMargin:r="0px",threshold:l=.1,window:a=et}=s,i=Go(()=>a&&"IntersectionObserver"in a);let c=Ms;const p=i.value?we(()=>({el:xt(t),root:xt(o)}),({el:f,root:h})=>{if(c(),!f)return;const m=new IntersectionObserver(n,{root:h,rootMargin:r,threshold:l});m.observe(f),c=()=>{m.disconnect(),c=Ms}},{immediate:!0,flush:"post"}):Ms,d=()=>{c(),p()};return sn(d),{isSupported:i,stop:d}}function zt(t,n,s={}){const{window:o=et}=s;return _v(t,n,o==null?void 0:o.localStorage,s)}const Rv={ctrl:"control",command:"meta",cmd:"meta",option:"alt",up:"arrowup",down:"arrowdown",left:"arrowleft",right:"arrowright"};function Lv(t={}){const{reactive:n=!1,target:s=et,aliasMap:o=Rv,passive:r=!0,onEventFired:l=Ms}=t,a=Ve(new Set),i={toJSON(){return{}},current:a},c=n?Ve(i):i,p=new Set,d=new Set;function f(v,_){v in c&&(n?c[v]=_:c[v].value=_)}function h(){a.clear();for(const v of d)f(v,!1)}function m(v,_){var D,b;const w=(D=v.key)==null?void 0:D.toLowerCase(),S=[(b=v.code)==null?void 0:b.toLowerCase(),w].filter(Boolean);w&&(_?a.add(w):a.delete(w));for(const M of S)d.add(M),f(M,_);w==="meta"&&!_?(p.forEach(M=>{a.delete(M),f(M,!1)}),p.clear()):typeof v.getModifierState=="function"&&v.getModifierState("Meta")&&_&&[...a,...S].forEach(M=>p.add(M))}Ae(s,"keydown",v=>(m(v,!0),l(v)),{passive:r}),Ae(s,"keyup",v=>(m(v,!1),l(v)),{passive:r}),Ae("blur",h,{passive:!0}),Ae("focus",h,{passive:!0});const y=new Proxy(c,{get(v,_,D){if(typeof _!="string")return Reflect.get(v,_,D);if(_=_.toLowerCase(),_ in o&&(_=o[_]),!(_ in c))if(/[+_-]/.test(_)){const w=_.split(/[+_-]/g).map(k=>k.trim());c[_]=$(()=>w.every(k=>C(y[k])))}else c[_]=Y(!1);const b=Reflect.get(v,_,D);return n?C(b):b}});return y}function qS(t={}){const{type:n="page",touch:s=!0,resetOnTouchEnds:o=!1,initialValue:r={x:0,y:0},window:l=et,eventFilter:a}=t,i=Y(r.x),c=Y(r.y),p=Y(null),d=v=>{n==="page"?(i.value=v.pageX,c.value=v.pageY):n==="client"?(i.value=v.clientX,c.value=v.clientY):n==="movement"&&(i.value=v.movementX,c.value=v.movementY),p.value="mouse"},f=()=>{i.value=r.x,c.value=r.y},h=v=>{if(v.touches.length>0){const _=v.touches[0];n==="page"?(i.value=_.pageX,c.value=_.pageY):n==="client"&&(i.value=_.clientX,c.value=_.clientY),p.value="touch"}},m=v=>a===void 0?d(v):a(()=>d(v),{}),y=v=>a===void 0?h(v):a(()=>h(v),{});return l&&(Ae(l,"mousemove",m,{passive:!0}),Ae(l,"dragover",m,{passive:!0}),s&&n!=="movement"&&(Ae(l,"touchstart",y,{passive:!0}),Ae(l,"touchmove",y,{passive:!0}),o&&Ae(l,"touchend",f,{passive:!0}))),{x:i,y:c,sourceType:p}}var dn;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(dn||(dn={}));function Fv(t,n={}){const s=Yd(t),{threshold:o=50,onSwipe:r,onSwipeEnd:l,onSwipeStart:a}=n,i=Ve({x:0,y:0}),c=(M,H)=>{i.x=M,i.y=H},p=Ve({x:0,y:0}),d=(M,H)=>{p.x=M,p.y=H},f=$(()=>i.x-p.x),h=$(()=>i.y-p.y),{max:m,abs:y}=Math,v=$(()=>m(y(f.value),y(h.value))>=o),_=Y(!1),D=Y(!1),b=$(()=>v.value?y(f.value)>y(h.value)?f.value>0?dn.LEFT:dn.RIGHT:h.value>0?dn.UP:dn.DOWN:dn.NONE),w=M=>{var H,B,V;const ne=M.buttons===0,pe=M.buttons===1;return(V=(B=(H=n.pointerTypes)==null?void 0:H.includes(M.pointerType))!=null?B:ne||pe)!=null?V:!0},k=[Ae(t,"pointerdown",M=>{var H,B;if(!w(M))return;D.value=!0,(B=(H=s.value)==null?void 0:H.style)==null||B.setProperty("touch-action","none");const V=M.target;V==null||V.setPointerCapture(M.pointerId);const{clientX:ne,clientY:pe}=M;c(ne,pe),d(ne,pe),a==null||a(M)}),Ae(t,"pointermove",M=>{if(!w(M)||!D.value)return;const{clientX:H,clientY:B}=M;d(H,B),!_.value&&v.value&&(_.value=!0),_.value&&(r==null||r(M))}),Ae(t,"pointerup",M=>{var H,B;w(M)&&(_.value&&(l==null||l(M,b.value)),D.value=!1,_.value=!1,(B=(H=s.value)==null?void 0:H.style)==null||B.setProperty("touch-action","initial"))})],S=()=>k.forEach(M=>M());return{isSwiping:Jt(_),direction:Jt(b),posStart:Jt(i),posEnd:Jt(p),distanceX:f,distanceY:h,stop:S}}let Nv=0;function HS(t,n={}){const s=Y(!1),{document:o=Zd,immediate:r=!0,manual:l=!1,id:a=`vueuse_styletag_${++Nv}`}=n,i=Y(t);let c=()=>{};const p=()=>{if(!o)return;const f=o.getElementById(a)||o.createElement("style");f.isConnected||(f.type="text/css",f.id=a,n.media&&(f.media=n.media),o.head.appendChild(f)),!s.value&&(c=we(i,h=>{f.textContent=h},{immediate:!0}),s.value=!0)},d=()=>{!o||!s.value||(c(),o.head.removeChild(o.getElementById(a)),s.value=!1)};return r&&!l&&Ai(p),l||sn(d),{id:a,css:i,unload:d,load:p,isLoaded:Jt(s)}}var jv=Object.defineProperty,Xc=Object.getOwnPropertySymbols,qv=Object.prototype.hasOwnProperty,Hv=Object.prototype.propertyIsEnumerable,eu=(t,n,s)=>n in t?jv(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Vv=(t,n)=>{for(var s in n||(n={}))qv.call(n,s)&&eu(t,s,n[s]);if(Xc)for(var s of Xc(n))Hv.call(n,s)&&eu(t,s,n[s]);return t};function VS(t={}){const{controls:n=!1,offset:s=0,immediate:o=!0,interval:r="requestAnimationFrame",callback:l}=t,a=Y(ma()+s),i=()=>a.value=ma()+s,c=l?()=>{i(),l(a.value)}:i,p=r==="requestAnimationFrame"?Ov(c,{immediate:o}):j6(c,r,{immediate:o});return n?Vv({timestamp:a},p):a}var Uv=Object.defineProperty,tu=Object.getOwnPropertySymbols,Wv=Object.prototype.hasOwnProperty,zv=Object.prototype.propertyIsEnumerable,nu=(t,n,s)=>n in t?Uv(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,Kv=(t,n)=>{for(var s in n||(n={}))Wv.call(n,s)&&nu(t,s,n[s]);if(tu)for(var s of tu(n))zv.call(n,s)&&nu(t,s,n[s]);return t};const Yv={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};Kv({linear:x6},Yv);function Zt(t,n,s,o={}){var r,l,a;const{clone:i=!1,passive:c=!1,eventName:p,deep:d=!1,defaultValue:f}=o,h=Tt(),m=s||(h==null?void 0:h.emit)||((r=h==null?void 0:h.$emit)==null?void 0:r.bind(h))||((a=(l=h==null?void 0:h.proxy)==null?void 0:l.$emit)==null?void 0:a.bind(h==null?void 0:h.proxy));let y=p;n||(n="modelValue"),y=p||y||`update:${n.toString()}`;const v=D=>i?Oo(i)?i(D):pv(D):D,_=()=>A6(t[n])?v(t[n]):f;if(c){const D=_(),b=Y(D);return we(()=>t[n],w=>b.value=v(w)),we(b,w=>{(w!==t[n]||d)&&m(y,w)},{deep:d}),b}else return $({get(){return _()},set(D){m(y,D)}})}function US({window:t=et}={}){if(!t)return Y(!1);const n=Y(t.document.hasFocus());return Ae(t,"blur",()=>{n.value=!1}),Ae(t,"focus",()=>{n.value=!0}),n}function Gv(t={}){const{window:n=et,initialWidth:s=1/0,initialHeight:o=1/0,listenOrientation:r=!0,includeScrollbar:l=!0}=t,a=Y(s),i=Y(o),c=()=>{n&&(l?(a.value=n.innerWidth,i.value=n.innerHeight):(a.value=n.document.documentElement.clientWidth,i.value=n.document.documentElement.clientHeight))};return c(),Ai(c),Ae("resize",c,{passive:!0}),r&&Ae("orientationchange",c,{passive:!0}),{width:a,height:i}}function Qv(){return Xd().__VUE_DEVTOOLS_GLOBAL_HOOK__}function Xd(){return typeof navigator<"u"&&typeof window<"u"?window:typeof global<"u"?global:{}}const Jv=typeof Proxy=="function",Zv="devtools-plugin:setup",Xv="plugin:settings:set";let Es,_a;function e_(){var t;return Es!==void 0||(typeof window<"u"&&window.performance?(Es=!0,_a=window.performance):typeof global<"u"&&(!((t=global.perf_hooks)===null||t===void 0)&&t.performance)?(Es=!0,_a=global.perf_hooks.performance):Es=!1),Es}function t_(){return e_()?_a.now():Date.now()}class n_{constructor(n,s){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=n,this.hook=s;const o={};if(n.settings)for(const a in n.settings){const i=n.settings[a];o[a]=i.defaultValue}const r=`__vue-devtools-plugin-settings__${n.id}`;let l=Object.assign({},o);try{const a=localStorage.getItem(r),i=JSON.parse(a);Object.assign(l,i)}catch{}this.fallbacks={getSettings(){return l},setSettings(a){try{localStorage.setItem(r,JSON.stringify(a))}catch{}l=a},now(){return t_()}},s&&s.on(Xv,(a,i)=>{a===this.plugin.id&&this.fallbacks.setSettings(i)}),this.proxiedOn=new Proxy({},{get:(a,i)=>this.target?this.target.on[i]:(...c)=>{this.onQueue.push({method:i,args:c})}}),this.proxiedTarget=new Proxy({},{get:(a,i)=>this.target?this.target[i]:i==="on"?this.proxiedOn:Object.keys(this.fallbacks).includes(i)?(...c)=>(this.targetQueue.push({method:i,args:c,resolve:()=>{}}),this.fallbacks[i](...c)):(...c)=>new Promise(p=>{this.targetQueue.push({method:i,args:c,resolve:p})})})}async setRealTarget(n){this.target=n;for(const s of this.onQueue)this.target.on[s.method](...s.args);for(const s of this.targetQueue)s.resolve(await this.target[s.method](...s.args))}}function s_(t,n){const s=t,o=Xd(),r=Qv(),l=Jv&&s.enableEarlyProxy;if(r&&(o.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__||!l))r.emit(Zv,t,n);else{const a=l?new n_(s,r):null;(o.__VUE_DEVTOOLS_PLUGINS__=o.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:s,setupFn:n,proxy:a}),a&&n(a.proxiedTarget)}}/*!
  * vue-router v4.1.6
  * (c) 2022 Eduardo San Martin Morote
  * @license MIT
  */const un=typeof window<"u";function o_(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Me=Object.assign;function $l(t,n){const s={};for(const o in n){const r=n[o];s[o]=$t(r)?r.map(t):t(r)}return s}const mo=()=>{},$t=Array.isArray;function $e(t){const n=Array.from(arguments).slice(1);console.warn.apply(console,["[Vue Router warn]: "+t].concat(n))}const r_=/\/$/,l_=t=>t.replace(r_,"");function Tl(t,n,s="/"){let o,r={},l="",a="";const i=n.indexOf("#");let c=n.indexOf("?");return i<c&&i>=0&&(c=-1),c>-1&&(o=n.slice(0,c),l=n.slice(c+1,i>-1?i:n.length),r=t(l)),i>-1&&(o=o||n.slice(0,i),a=n.slice(i,n.length)),o=c_(o??n,s),{fullPath:o+(l&&"?")+l+a,path:o,query:r,hash:a}}function a_(t,n){const s=n.query?t(n.query):"";return n.path+(s&&"?")+s+(n.hash||"")}function su(t,n){return!n||!t.toLowerCase().startsWith(n.toLowerCase())?t:t.slice(n.length)||"/"}function ou(t,n,s){const o=n.matched.length-1,r=s.matched.length-1;return o>-1&&o===r&&Hn(n.matched[o],s.matched[r])&&ef(n.params,s.params)&&t(n.query)===t(s.query)&&n.hash===s.hash}function Hn(t,n){return(t.aliasOf||t)===(n.aliasOf||n)}function ef(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const s in t)if(!i_(t[s],n[s]))return!1;return!0}function i_(t,n){return $t(t)?ru(t,n):$t(n)?ru(n,t):t===n}function ru(t,n){return $t(n)?t.length===n.length&&t.every((s,o)=>s===n[o]):t.length===1&&t[0]===n}function c_(t,n){if(t.startsWith("/"))return t;if(!n.startsWith("/"))return $e(`Cannot resolve a relative location without an absolute path. Trying to resolve "${t}" from "${n}". It should look like "/${n}".`),t;if(!t)return n;const s=n.split("/"),o=t.split("/");let r=s.length-1,l,a;for(l=0;l<o.length;l++)if(a=o[l],a!==".")if(a==="..")r>1&&r--;else break;return s.slice(0,r).join("/")+"/"+o.slice(l-(l===o.length?1:0)).join("/")}var Po;(function(t){t.pop="pop",t.push="push"})(Po||(Po={}));var go;(function(t){t.back="back",t.forward="forward",t.unknown=""})(go||(go={}));function u_(t){if(!t)if(un){const n=document.querySelector("base");t=n&&n.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),l_(t)}const p_=/^[^#]+#/;function d_(t,n){return t.replace(p_,"#")+n}function f_(t,n){const s=document.documentElement.getBoundingClientRect(),o=t.getBoundingClientRect();return{behavior:n.behavior,left:o.left-s.left-(n.left||0),top:o.top-s.top-(n.top||0)}}const ul=()=>({left:window.pageXOffset,top:window.pageYOffset});function h_(t){let n;if("el"in t){const s=t.el,o=typeof s=="string"&&s.startsWith("#");if(typeof t.el=="string"&&(!o||!document.getElementById(t.el.slice(1))))try{const l=document.querySelector(t.el);if(o&&l){$e(`The selector "${t.el}" should be passed as "el: document.querySelector('${t.el}')" because it starts with "#".`);return}}catch{$e(`The selector "${t.el}" is invalid. If you are using an id selector, make sure to escape it. You can find more information about escaping characters in selectors at https://mathiasbynens.be/notes/css-escapes or use CSS.escape (https://developer.mozilla.org/en-US/docs/Web/API/CSS/escape).`);return}const r=typeof s=="string"?o?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r){$e(`Couldn't find element using selector "${t.el}" returned by scrollBehavior.`);return}n=f_(r,t)}else n=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(n):window.scrollTo(n.left!=null?n.left:window.pageXOffset,n.top!=null?n.top:window.pageYOffset)}function lu(t,n){return(history.state?history.state.position-n:-1)+t}const wa=new Map;function y_(t,n){wa.set(t,n)}function m_(t){const n=wa.get(t);return wa.delete(t),n}let g_=()=>location.protocol+"//"+location.host;function tf(t,n){const{pathname:s,search:o,hash:r}=n,l=t.indexOf("#");if(l>-1){let i=r.includes(t.slice(l))?t.slice(l).length:1,c=r.slice(i);return c[0]!=="/"&&(c="/"+c),su(c,"")}return su(s,t)+o+r}function v_(t,n,s,o){let r=[],l=[],a=null;const i=({state:h})=>{const m=tf(t,location),y=s.value,v=n.value;let _=0;if(h){if(s.value=m,n.value=h,a&&a===y){a=null;return}_=v?h.position-v.position:0}else o(m);r.forEach(D=>{D(s.value,y,{delta:_,type:Po.pop,direction:_?_>0?go.forward:go.back:go.unknown})})};function c(){a=s.value}function p(h){r.push(h);const m=()=>{const y=r.indexOf(h);y>-1&&r.splice(y,1)};return l.push(m),m}function d(){const{history:h}=window;h.state&&h.replaceState(Me({},h.state,{scroll:ul()}),"")}function f(){for(const h of l)h();l=[],window.removeEventListener("popstate",i),window.removeEventListener("beforeunload",d)}return window.addEventListener("popstate",i),window.addEventListener("beforeunload",d),{pauseListeners:c,listen:p,destroy:f}}function au(t,n,s,o=!1,r=!1){return{back:t,current:n,forward:s,replaced:o,position:window.history.length,scroll:r?ul():null}}function __(t){const{history:n,location:s}=window,o={value:tf(t,s)},r={value:n.state};r.value||l(o.value,{back:null,current:o.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0);function l(c,p,d){const f=t.indexOf("#"),h=f>-1?(s.host&&document.querySelector("base")?t:t.slice(f))+c:g_()+t+c;try{n[d?"replaceState":"pushState"](p,"",h),r.value=p}catch(m){$e("Error with push/replace State",m),s[d?"replace":"assign"](h)}}function a(c,p){const d=Me({},n.state,au(r.value.back,c,r.value.forward,!0),p,{position:r.value.position});l(c,d,!0),o.value=c}function i(c,p){const d=Me({},r.value,n.state,{forward:c,scroll:ul()});n.state||$e(`history.state seems to have been manually replaced without preserving the necessary values. Make sure to preserve existing history state if you are manually calling history.replaceState:

history.replaceState(history.state, '', url)

You can find more information at https://next.router.vuejs.org/guide/migration/#usage-of-history-state.`),l(d.current,d,!0);const f=Me({},au(o.value,c,null),{position:d.position+1},p);l(c,f,!1),o.value=c}return{location:o,state:r,push:i,replace:a}}function w_(t){t=u_(t);const n=__(t),s=v_(t,n.state,n.location,n.replace);function o(l,a=!0){a||s.pauseListeners(),history.go(l)}const r=Me({location:"",base:t,go:o,createHref:d_.bind(null,t)},n,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>n.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>n.state.value}),r}function A_(t){return typeof t=="string"||t&&typeof t=="object"}function nf(t){return typeof t=="string"||typeof t=="symbol"}const bn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},sf=Symbol("navigation failure");var iu;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(iu||(iu={}));const b_={[1]({location:t,currentLocation:n}){return`No match for
 ${JSON.stringify(t)}${n?`
while being at
`+JSON.stringify(n):""}`},[2]({from:t,to:n}){return`Redirected from "${t.fullPath}" to "${D_(n)}" via a navigation guard.`},[4]({from:t,to:n}){return`Navigation aborted from "${t.fullPath}" to "${n.fullPath}" via a navigation guard.`},[8]({from:t,to:n}){return`Navigation cancelled from "${t.fullPath}" to "${n.fullPath}" with a new navigation.`},[16]({from:t,to:n}){return`Avoided redundant navigation to current location: "${t.fullPath}".`}};function Ns(t,n){return Me(new Error(b_[t](n)),{type:t,[sf]:!0},n)}function on(t,n){return t instanceof Error&&sf in t&&(n==null||!!(t.type&n))}const E_=["params","query","hash"];function D_(t){if(typeof t=="string")return t;if("path"in t)return t.path;const n={};for(const s of E_)s in t&&(n[s]=t[s]);return JSON.stringify(n,null,2)}const cu="[^/]+?",k_={sensitive:!1,strict:!1,start:!0,end:!0},C_=/[.+*?^${}()[\]/\\]/g;function x_(t,n){const s=Me({},k_,n),o=[];let r=s.start?"^":"";const l=[];for(const p of t){const d=p.length?[]:[90];s.strict&&!p.length&&(r+="/");for(let f=0;f<p.length;f++){const h=p[f];let m=40+(s.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(C_,"\\$&"),m+=40;else if(h.type===1){const{value:y,repeatable:v,optional:_,regexp:D}=h;l.push({name:y,repeatable:v,optional:_});const b=D||cu;if(b!==cu){m+=10;try{new RegExp(`(${b})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${y}" (${b}): `+k.message)}}let w=v?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;f||(w=_&&p.length<2?`(?:/${w})`:"/"+w),_&&(w+="?"),r+=w,m+=20,_&&(m+=-8),v&&(m+=-20),b===".*"&&(m+=-50)}d.push(m)}o.push(d)}if(s.strict&&s.end){const p=o.length-1;o[p][o[p].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&(r+="(?:/|$)");const a=new RegExp(r,s.sensitive?"":"i");function i(p){const d=p.match(a),f={};if(!d)return null;for(let h=1;h<d.length;h++){const m=d[h]||"",y=l[h-1];f[y.name]=m&&y.repeatable?m.split("/"):m}return f}function c(p){let d="",f=!1;for(const h of t){(!f||!d.endsWith("/"))&&(d+="/"),f=!1;for(const m of h)if(m.type===0)d+=m.value;else if(m.type===1){const{value:y,repeatable:v,optional:_}=m,D=y in p?p[y]:"";if($t(D)&&!v)throw new Error(`Provided param "${y}" is an array but it is not repeatable (* or + modifiers)`);const b=$t(D)?D.join("/"):D;if(!b)if(_)h.length<2&&(d.endsWith("/")?d=d.slice(0,-1):f=!0);else throw new Error(`Missing required param "${y}"`);d+=b}}return d||"/"}return{re:a,score:o,keys:l,parse:i,stringify:c}}function B_(t,n){let s=0;for(;s<t.length&&s<n.length;){const o=n[s]-t[s];if(o)return o;s++}return t.length<n.length?t.length===1&&t[0]===40+40?-1:1:t.length>n.length?n.length===1&&n[0]===40+40?1:-1:0}function S_(t,n){let s=0;const o=t.score,r=n.score;for(;s<o.length&&s<r.length;){const l=B_(o[s],r[s]);if(l)return l;s++}if(Math.abs(r.length-o.length)===1){if(uu(o))return 1;if(uu(r))return-1}return r.length-o.length}function uu(t){const n=t[t.length-1];return t.length>0&&n[n.length-1]<0}const $_={type:0,value:""},T_=/[a-zA-Z0-9_]/;function O_(t){if(!t)return[[]];if(t==="/")return[[$_]];if(!t.startsWith("/"))throw new Error(`Route paths should start with a "/": "${t}" should be "/${t}".`);function n(m){throw new Error(`ERR (${s})/"${p}": ${m}`)}let s=0,o=s;const r=[];let l;function a(){l&&r.push(l),l=[]}let i=0,c,p="",d="";function f(){p&&(s===0?l.push({type:0,value:p}):s===1||s===2||s===3?(l.length>1&&(c==="*"||c==="+")&&n(`A repeatable param (${p}) must be alone in its segment. eg: '/:ids+.`),l.push({type:1,value:p,regexp:d,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):n("Invalid state to consume buffer"),p="")}function h(){p+=c}for(;i<t.length;){if(c=t[i++],c==="\\"&&s!==2){o=s,s=4;continue}switch(s){case 0:c==="/"?(p&&f(),a()):c===":"?(f(),s=1):h();break;case 4:h(),s=o;break;case 1:c==="("?s=2:T_.test(c)?h():(f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&i--);break;case 2:c===")"?d[d.length-1]=="\\"?d=d.slice(0,-1)+c:s=3:d+=c;break;case 3:f(),s=0,c!=="*"&&c!=="?"&&c!=="+"&&i--,d="";break;default:n("Unknown state");break}}return s===2&&n(`Unfinished custom RegExp for param "${p}"`),f(),a(),r}function P_(t,n,s){const o=x_(O_(t.path),s);{const l=new Set;for(const a of o.keys)l.has(a.name)&&$e(`Found duplicated params with name "${a.name}" for path "${t.path}". Only the last one will be available on "$route.params".`),l.add(a.name)}const r=Me(o,{record:t,parent:n,children:[],alias:[]});return n&&!r.record.aliasOf==!n.record.aliasOf&&n.children.push(r),r}function I_(t,n){const s=[],o=new Map;n=fu({strict:!1,end:!0,sensitive:!1},n);function r(d){return o.get(d)}function l(d,f,h){const m=!h,y=M_(d);N_(y,f),y.aliasOf=h&&h.record;const v=fu(n,d),_=[y];if("alias"in d){const w=typeof d.alias=="string"?[d.alias]:d.alias;for(const k of w)_.push(Me({},y,{components:h?h.record.components:y.components,path:k,aliasOf:h?h.record:y}))}let D,b;for(const w of _){const{path:k}=w;if(f&&k[0]!=="/"){const S=f.record.path,M=S[S.length-1]==="/"?"":"/";w.path=f.record.path+(k&&M+k)}if(w.path==="*")throw new Error(`Catch all routes ("*") must now be defined using a param with a custom regexp.
See more at https://next.router.vuejs.org/guide/migration/#removed-star-or-catch-all-routes.`);if(D=P_(w,f,v),f&&k[0]==="/"&&j_(D,f),h?(h.alias.push(D),F_(h,D)):(b=b||D,b!==D&&b.alias.push(D),m&&d.name&&!du(D)&&a(d.name)),y.children){const S=y.children;for(let M=0;M<S.length;M++)l(S[M],D,h&&h.children[M])}h=h||D,(D.record.components&&Object.keys(D.record.components).length||D.record.name||D.record.redirect)&&c(D)}return b?()=>{a(b)}:mo}function a(d){if(nf(d)){const f=o.get(d);f&&(o.delete(d),s.splice(s.indexOf(f),1),f.children.forEach(a),f.alias.forEach(a))}else{const f=s.indexOf(d);f>-1&&(s.splice(f,1),d.record.name&&o.delete(d.record.name),d.children.forEach(a),d.alias.forEach(a))}}function i(){return s}function c(d){let f=0;for(;f<s.length&&S_(d,s[f])>=0&&(d.record.path!==s[f].record.path||!of(d,s[f]));)f++;s.splice(f,0,d),d.record.name&&!du(d)&&o.set(d.record.name,d)}function p(d,f){let h,m={},y,v;if("name"in d&&d.name){if(h=o.get(d.name),!h)throw Ns(1,{location:d});{const b=Object.keys(d.params||{}).filter(w=>!h.keys.find(k=>k.name===w));b.length&&$e(`Discarded invalid param(s) "${b.join('", "')}" when navigating. See https://github.com/vuejs/router/blob/main/packages/router/CHANGELOG.md#414-2022-08-22 for more details.`)}v=h.record.name,m=Me(pu(f.params,h.keys.filter(b=>!b.optional).map(b=>b.name)),d.params&&pu(d.params,h.keys.map(b=>b.name))),y=h.stringify(m)}else if("path"in d)y=d.path,y.startsWith("/")||$e(`The Matcher cannot resolve relative paths but received "${y}". Unless you directly called \`matcher.resolve("${y}")\`, this is probably a bug in vue-router. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/router.`),h=s.find(b=>b.re.test(y)),h&&(m=h.parse(y),v=h.record.name);else{if(h=f.name?o.get(f.name):s.find(b=>b.re.test(f.path)),!h)throw Ns(1,{location:d,currentLocation:f});v=h.record.name,m=Me({},f.params,d.params),y=h.stringify(m)}const _=[];let D=h;for(;D;)_.unshift(D.record),D=D.parent;return{name:v,path:y,params:m,matched:_,meta:L_(_)}}return t.forEach(d=>l(d)),{addRoute:l,resolve:p,removeRoute:a,getRoutes:i,getRecordMatcher:r}}function pu(t,n){const s={};for(const o of n)o in t&&(s[o]=t[o]);return s}function M_(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:R_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function R_(t){const n={},s=t.props||!1;if("component"in t)n.default=s;else for(const o in t.components)n[o]=typeof s=="boolean"?s:s[o];return n}function du(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function L_(t){return t.reduce((n,s)=>Me(n,s.meta),{})}function fu(t,n){const s={};for(const o in t)s[o]=o in n?n[o]:t[o];return s}function Aa(t,n){return t.name===n.name&&t.optional===n.optional&&t.repeatable===n.repeatable}function F_(t,n){for(const s of t.keys)if(!s.optional&&!n.keys.find(Aa.bind(null,s)))return $e(`Alias "${n.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${s.name}"`);for(const s of n.keys)if(!s.optional&&!t.keys.find(Aa.bind(null,s)))return $e(`Alias "${n.record.path}" and the original record: "${t.record.path}" must have the exact same param named "${s.name}"`)}function N_(t,n){n&&n.record.name&&!t.name&&!t.path&&$e(`The route named "${String(n.record.name)}" has a child without a name and an empty path. Using that name won't render the empty path child so you probably want to move the name to the child instead. If this is intentional, add a name to the child route to remove the warning.`)}function j_(t,n){for(const s of n.keys)if(!t.keys.find(Aa.bind(null,s)))return $e(`Absolute path "${t.record.path}" must have the exact same param named "${s.name}" as its parent "${n.record.path}".`)}function of(t,n){return n.children.some(s=>s===t||of(t,s))}const rf=/#/g,q_=/&/g,H_=/\//g,V_=/=/g,U_=/\?/g,lf=/\+/g,W_=/%5B/g,z_=/%5D/g,af=/%5E/g,K_=/%60/g,cf=/%7B/g,Y_=/%7C/g,uf=/%7D/g,G_=/%20/g;function bi(t){return encodeURI(""+t).replace(Y_,"|").replace(W_,"[").replace(z_,"]")}function Q_(t){return bi(t).replace(cf,"{").replace(uf,"}").replace(af,"^")}function ba(t){return bi(t).replace(lf,"%2B").replace(G_,"+").replace(rf,"%23").replace(q_,"%26").replace(K_,"`").replace(cf,"{").replace(uf,"}").replace(af,"^")}function J_(t){return ba(t).replace(V_,"%3D")}function Z_(t){return bi(t).replace(rf,"%23").replace(U_,"%3F")}function X_(t){return t==null?"":Z_(t).replace(H_,"%2F")}function Io(t){try{return decodeURIComponent(""+t)}catch{$e(`Error decoding "${t}". Using original value`)}return""+t}function e0(t){const n={};if(t===""||t==="?")return n;const o=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<o.length;++r){const l=o[r].replace(lf," "),a=l.indexOf("="),i=Io(a<0?l:l.slice(0,a)),c=a<0?null:Io(l.slice(a+1));if(i in n){let p=n[i];$t(p)||(p=n[i]=[p]),p.push(c)}else n[i]=c}return n}function hu(t){let n="";for(let s in t){const o=t[s];if(s=J_(s),o==null){o!==void 0&&(n+=(n.length?"&":"")+s);continue}($t(o)?o.map(l=>l&&ba(l)):[o&&ba(o)]).forEach(l=>{l!==void 0&&(n+=(n.length?"&":"")+s,l!=null&&(n+="="+l))})}return n}function t0(t){const n={};for(const s in t){const o=t[s];o!==void 0&&(n[s]=$t(o)?o.map(r=>r==null?null:""+r):o==null?o:""+o)}return n}const n0=Symbol("router view location matched"),yu=Symbol("router view depth"),Ei=Symbol("router"),pf=Symbol("route location"),Ea=Symbol("router view location");function Xs(){let t=[];function n(o){return t.push(o),()=>{const r=t.indexOf(o);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:n,list:()=>t,reset:s}}function Cn(t,n,s,o,r){const l=o&&(o.enterCallbacks[r]=o.enterCallbacks[r]||[]);return()=>new Promise((a,i)=>{const c=f=>{f===!1?i(Ns(4,{from:s,to:n})):f instanceof Error?i(f):A_(f)?i(Ns(2,{from:n,to:f})):(l&&o.enterCallbacks[r]===l&&typeof f=="function"&&l.push(f),a())},p=t.call(o&&o.instances[r],n,s,s0(c,n,s));let d=Promise.resolve(p);if(t.length<3&&(d=d.then(c)),t.length>2){const f=`The "next" callback was never called inside of ${t.name?'"'+t.name+'"':""}:
${t.toString()}
. If you are returning a value instead of calling "next", make sure to remove the "next" parameter from your function.`;if(typeof p=="object"&&"then"in p)d=d.then(h=>c._called?h:($e(f),Promise.reject(new Error("Invalid navigation guard"))));else if(p!==void 0&&!c._called){$e(f),i(new Error("Invalid navigation guard"));return}}d.catch(f=>i(f))})}function s0(t,n,s){let o=0;return function(){o++===1&&$e(`The "next" callback was called more than once in one navigation guard when going from "${s.fullPath}" to "${n.fullPath}". It should be called exactly one time in each navigation guard. This will fail in production.`),t._called=!0,o===1&&t.apply(null,arguments)}}function Ol(t,n,s,o){const r=[];for(const l of t){!l.components&&!l.children.length&&$e(`Record with path "${l.path}" is either missing a "component(s)" or "children" property.`);for(const a in l.components){let i=l.components[a];{if(!i||typeof i!="object"&&typeof i!="function")throw $e(`Component "${a}" in record with path "${l.path}" is not a valid component. Received "${String(i)}".`),new Error("Invalid route component");if("then"in i){$e(`Component "${a}" in record with path "${l.path}" is a Promise instead of a function that returns a Promise. Did you write "import('./MyPage.vue')" instead of "() => import('./MyPage.vue')" ? This will break in production if not fixed.`);const c=i;i=()=>c}else i.__asyncLoader&&!i.__warnedDefineAsync&&(i.__warnedDefineAsync=!0,$e(`Component "${a}" in record with path "${l.path}" is defined using "defineAsyncComponent()". Write "() => import('./MyPage.vue')" instead of "defineAsyncComponent(() => import('./MyPage.vue'))".`))}if(!(n!=="beforeRouteEnter"&&!l.instances[a]))if(o0(i)){const p=(i.__vccOpts||i)[n];p&&r.push(Cn(p,s,o,l,a))}else{let c=i();"catch"in c||($e(`Component "${a}" in record with path "${l.path}" is a function that does not return a Promise. If you were passing a functional component, make sure to add a "displayName" to the component. This will break in production if not fixed.`),c=Promise.resolve(c)),r.push(()=>c.then(p=>{if(!p)return Promise.reject(new Error(`Couldn't resolve component "${a}" at "${l.path}"`));const d=o_(p)?p.default:p;l.components[a]=d;const h=(d.__vccOpts||d)[n];return h&&Cn(h,s,o,l,a)()}))}}}return r}function o0(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function mu(t){const n=O(Ei),s=O(pf),o=$(()=>n.resolve(C(t.to))),r=$(()=>{const{matched:c}=o.value,{length:p}=c,d=c[p-1],f=s.matched;if(!d||!f.length)return-1;const h=f.findIndex(Hn.bind(null,d));if(h>-1)return h;const m=gu(c[p-2]);return p>1&&gu(d)===m&&f[f.length-1].path!==m?f.findIndex(Hn.bind(null,c[p-2])):h}),l=$(()=>r.value>-1&&i0(s.params,o.value.params)),a=$(()=>r.value>-1&&r.value===s.matched.length-1&&ef(s.params,o.value.params));function i(c={}){return a0(c)?n[C(t.replace)?"replace":"push"](C(t.to)).catch(mo):Promise.resolve()}if(un){const c=Tt();if(c){const p={route:o.value,isActive:l.value,isExactActive:a.value};c.__vrl_devtools=c.__vrl_devtools||[],c.__vrl_devtools.push(p),vs(()=>{p.route=o.value,p.isActive=l.value,p.isExactActive=a.value},{flush:"post"})}}return{route:o,href:$(()=>o.value.href),isActive:l,isExactActive:a,navigate:i}}const r0=Le({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:mu,setup(t,{slots:n}){const s=Ve(mu(t)),{options:o}=O(Ei),r=$(()=>({[vu(t.activeClass,o.linkActiveClass,"router-link-active")]:s.isActive,[vu(t.exactActiveClass,o.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const l=n.default&&n.default(s);return t.custom?l:Bt("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},l)}}}),l0=r0;function a0(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const n=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(n))return}return t.preventDefault&&t.preventDefault(),!0}}function i0(t,n){for(const s in n){const o=n[s],r=t[s];if(typeof o=="string"){if(o!==r)return!1}else if(!$t(r)||r.length!==o.length||o.some((l,a)=>l!==r[a]))return!1}return!0}function gu(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const vu=(t,n,s)=>t??n??s,c0=Le({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:n,slots:s}){p0();const o=O(Ea),r=$(()=>t.route||o.value),l=O(yu,0),a=$(()=>{let p=C(l);const{matched:d}=r.value;let f;for(;(f=d[p])&&!f.components;)p++;return p}),i=$(()=>r.value.matched[a.value]);kt(yu,$(()=>a.value+1)),kt(n0,i),kt(Ea,r);const c=Y();return we(()=>[c.value,i.value,t.name],([p,d,f],[h,m,y])=>{d&&(d.instances[f]=p,m&&m!==d&&p&&p===h&&(d.leaveGuards.size||(d.leaveGuards=m.leaveGuards),d.updateGuards.size||(d.updateGuards=m.updateGuards))),p&&d&&(!m||!Hn(d,m)||!h)&&(d.enterCallbacks[f]||[]).forEach(v=>v(p))},{flush:"post"}),()=>{const p=r.value,d=t.name,f=i.value,h=f&&f.components[d];if(!h)return _u(s.default,{Component:h,route:p});const m=f.props[d],y=m?m===!0?p.params:typeof m=="function"?m(p):m:null,_=Bt(h,Me({},y,n,{onVnodeUnmounted:D=>{D.component.isUnmounted&&(f.instances[d]=null)},ref:c}));if(un&&_.ref){const D={depth:a.value,name:f.name,path:f.path,meta:f.meta};($t(_.ref)?_.ref.map(w=>w.i):[_.ref.i]).forEach(w=>{w.__vrv_devtools=D})}return _u(s.default,{Component:_,route:p})||_}}});function _u(t,n){if(!t)return null;const s=t(n);return s.length===1?s[0]:s}const u0=c0;function p0(){const t=Tt(),n=t.parent&&t.parent.type.name;if(n&&(n==="KeepAlive"||n.includes("Transition"))){const s=n==="KeepAlive"?"keep-alive":"transition";$e(`<router-view> can no longer be used directly inside <transition> or <keep-alive>.
Use slot props instead:

<router-view v-slot="{ Component }">
  <${s}>
    <component :is="Component" />
  </${s}>
</router-view>`)}}function eo(t,n){const s=Me({},t,{matched:t.matched.map(o=>w0(o,["instances","children","aliasOf"]))});return{_custom:{type:null,readOnly:!0,display:t.fullPath,tooltip:n,value:s}}}function pr(t){return{_custom:{display:t}}}let d0=0;function f0(t,n,s){if(n.__hasDevtools)return;n.__hasDevtools=!0;const o=d0++;s_({id:"org.vuejs.router"+(o?"."+o:""),label:"Vue Router",packageName:"vue-router",homepage:"https://router.vuejs.org",logo:"https://router.vuejs.org/logo.png",componentStateTypes:["Routing"],app:t},r=>{typeof r.now!="function"&&console.warn("[Vue Router]: You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.on.inspectComponent((d,f)=>{d.instanceData&&d.instanceData.state.push({type:"Routing",key:"$route",editable:!1,value:eo(n.currentRoute.value,"Current Route")})}),r.on.visitComponentTree(({treeNode:d,componentInstance:f})=>{if(f.__vrv_devtools){const h=f.__vrv_devtools;d.tags.push({label:(h.name?`${h.name.toString()}: `:"")+h.path,textColor:0,tooltip:"This component is rendered by &lt;router-view&gt;",backgroundColor:df})}$t(f.__vrl_devtools)&&(f.__devtoolsApi=r,f.__vrl_devtools.forEach(h=>{let m=yf,y="";h.isExactActive?(m=hf,y="This is exactly active"):h.isActive&&(m=ff,y="This link is active"),d.tags.push({label:h.route.path,textColor:0,tooltip:y,backgroundColor:m})}))}),we(n.currentRoute,()=>{c(),r.notifyComponentUpdate(),r.sendInspectorTree(i),r.sendInspectorState(i)});const l="router:navigations:"+o;r.addTimelineLayer({id:l,label:`Router${o?" "+o:""} Navigations`,color:4237508}),n.onError((d,f)=>{r.addTimelineEvent({layerId:l,event:{title:"Error during Navigation",subtitle:f.fullPath,logType:"error",time:r.now(),data:{error:d},groupId:f.meta.__navigationId}})});let a=0;n.beforeEach((d,f)=>{const h={guard:pr("beforeEach"),from:eo(f,"Current Location during this navigation"),to:eo(d,"Target location")};Object.defineProperty(d.meta,"__navigationId",{value:a++}),r.addTimelineEvent({layerId:l,event:{time:r.now(),title:"Start of navigation",subtitle:d.fullPath,data:h,groupId:d.meta.__navigationId}})}),n.afterEach((d,f,h)=>{const m={guard:pr("afterEach")};h?(m.failure={_custom:{type:Error,readOnly:!0,display:h?h.message:"",tooltip:"Navigation Failure",value:h}},m.status=pr("❌")):m.status=pr("✅"),m.from=eo(f,"Current Location during this navigation"),m.to=eo(d,"Target location"),r.addTimelineEvent({layerId:l,event:{title:"End of navigation",subtitle:d.fullPath,time:r.now(),data:m,logType:h?"warning":"default",groupId:d.meta.__navigationId}})});const i="router-inspector:"+o;r.addInspector({id:i,label:"Routes"+(o?" "+o:""),icon:"book",treeFilterPlaceholder:"Search routes"});function c(){if(!p)return;const d=p;let f=s.getRoutes().filter(h=>!h.parent);f.forEach(vf),d.filter&&(f=f.filter(h=>Da(h,d.filter.toLowerCase()))),f.forEach(h=>gf(h,n.currentRoute.value)),d.rootNodes=f.map(mf)}let p;r.on.getInspectorTree(d=>{p=d,d.app===t&&d.inspectorId===i&&c()}),r.on.getInspectorState(d=>{if(d.app===t&&d.inspectorId===i){const h=s.getRoutes().find(m=>m.record.__vd_id===d.nodeId);h&&(d.state={options:y0(h)})}}),r.sendInspectorTree(i),r.sendInspectorState(i)})}function h0(t){return t.optional?t.repeatable?"*":"?":t.repeatable?"+":""}function y0(t){const{record:n}=t,s=[{editable:!1,key:"path",value:n.path}];return n.name!=null&&s.push({editable:!1,key:"name",value:n.name}),s.push({editable:!1,key:"regexp",value:t.re}),t.keys.length&&s.push({editable:!1,key:"keys",value:{_custom:{type:null,readOnly:!0,display:t.keys.map(o=>`${o.name}${h0(o)}`).join(" "),tooltip:"Param keys",value:t.keys}}}),n.redirect!=null&&s.push({editable:!1,key:"redirect",value:n.redirect}),t.alias.length&&s.push({editable:!1,key:"aliases",value:t.alias.map(o=>o.record.path)}),Object.keys(t.record.meta).length&&s.push({editable:!1,key:"meta",value:t.record.meta}),s.push({key:"score",editable:!1,value:{_custom:{type:null,readOnly:!0,display:t.score.map(o=>o.join(", ")).join(" | "),tooltip:"Score used to sort routes",value:t.score}}}),s}const df=15485081,ff=2450411,hf=8702998,m0=2282478,yf=16486972,g0=6710886;function mf(t){const n=[],{record:s}=t;s.name!=null&&n.push({label:String(s.name),textColor:0,backgroundColor:m0}),s.aliasOf&&n.push({label:"alias",textColor:0,backgroundColor:yf}),t.__vd_match&&n.push({label:"matches",textColor:0,backgroundColor:df}),t.__vd_exactActive&&n.push({label:"exact",textColor:0,backgroundColor:hf}),t.__vd_active&&n.push({label:"active",textColor:0,backgroundColor:ff}),s.redirect&&n.push({label:typeof s.redirect=="string"?`redirect: ${s.redirect}`:"redirects",textColor:16777215,backgroundColor:g0});let o=s.__vd_id;return o==null&&(o=String(v0++),s.__vd_id=o),{id:o,label:s.path,tags:n,children:t.children.map(mf)}}let v0=0;const _0=/^\/(.*)\/([a-z]*)$/;function gf(t,n){const s=n.matched.length&&Hn(n.matched[n.matched.length-1],t.record);t.__vd_exactActive=t.__vd_active=s,s||(t.__vd_active=n.matched.some(o=>Hn(o,t.record))),t.children.forEach(o=>gf(o,n))}function vf(t){t.__vd_match=!1,t.children.forEach(vf)}function Da(t,n){const s=String(t.re).match(_0);if(t.__vd_match=!1,!s||s.length<3)return!1;if(new RegExp(s[1].replace(/\$$/,""),s[2]).test(n))return t.children.forEach(a=>Da(a,n)),t.record.path!=="/"||n==="/"?(t.__vd_match=t.re.test(n),!0):!1;const r=t.record.path.toLowerCase(),l=Io(r);return!n.startsWith("/")&&(l.includes(n)||r.includes(n))||l.startsWith(n)||r.startsWith(n)||t.record.name&&String(t.record.name).includes(n)?!0:t.children.some(a=>Da(a,n))}function w0(t,n){const s={};for(const o in t)n.includes(o)||(s[o]=t[o]);return s}function A0(t){const n=I_(t.routes,t),s=t.parseQuery||e0,o=t.stringifyQuery||hu,r=t.history;if(!r)throw new Error('Provide the "history" option when calling "createRouter()": https://next.router.vuejs.org/api/#history.');const l=Xs(),a=Xs(),i=Xs(),c=nn(bn);let p=bn;un&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const d=$l.bind(null,T=>""+T),f=$l.bind(null,X_),h=$l.bind(null,Io);function m(T,se){let G,re;return nf(T)?(G=n.getRecordMatcher(T),re=se):re=T,n.addRoute(re,G)}function y(T){const se=n.getRecordMatcher(T);se?n.removeRoute(se):$e(`Cannot remove non-existent route "${String(T)}"`)}function v(){return n.getRoutes().map(T=>T.record)}function _(T){return!!n.getRecordMatcher(T)}function D(T,se){if(se=Me({},se||c.value),typeof T=="string"){const de=Tl(s,T,se.path),g=n.resolve({path:de.path},se),A=r.createHref(de.fullPath);return A.startsWith("//")?$e(`Location "${T}" resolved to "${A}". A resolved location cannot start with multiple slashes.`):g.matched.length||$e(`No match found for location with path "${T}"`),Me(de,g,{params:h(g.params),hash:Io(de.hash),redirectedFrom:void 0,href:A})}let G;if("path"in T)"params"in T&&!("name"in T)&&Object.keys(T.params).length&&$e(`Path "${T.path}" was passed with params but they will be ignored. Use a named route alongside params instead.`),G=Me({},T,{path:Tl(s,T.path,se.path).path});else{const de=Me({},T.params);for(const g in de)de[g]==null&&delete de[g];G=Me({},T,{params:f(T.params)}),se.params=f(se.params)}const re=n.resolve(G,se),Ce=T.hash||"";Ce&&!Ce.startsWith("#")&&$e(`A \`hash\` should always start with the character "#". Replace "${Ce}" with "#${Ce}".`),re.params=d(h(re.params));const Se=a_(o,Me({},T,{hash:Q_(Ce),path:re.path})),me=r.createHref(Se);return me.startsWith("//")?$e(`Location "${T}" resolved to "${me}". A resolved location cannot start with multiple slashes.`):re.matched.length||$e(`No match found for location with path "${"path"in T?T.path:T}"`),Me({fullPath:Se,hash:Ce,query:o===hu?t0(T.query):T.query||{}},re,{redirectedFrom:void 0,href:me})}function b(T){return typeof T=="string"?Tl(s,T,c.value.path):Me({},T)}function w(T,se){if(p!==T)return Ns(8,{from:se,to:T})}function k(T){return H(T)}function S(T){return k(Me(b(T),{replace:!0}))}function M(T){const se=T.matched[T.matched.length-1];if(se&&se.redirect){const{redirect:G}=se;let re=typeof G=="function"?G(T):G;if(typeof re=="string"&&(re=re.includes("?")||re.includes("#")?re=b(re):{path:re},re.params={}),!("path"in re)&&!("name"in re))throw $e(`Invalid redirect found:
${JSON.stringify(re,null,2)}
 when navigating to "${T.fullPath}". A redirect must contain a name or path. This will break in production.`),new Error("Invalid redirect");return Me({query:T.query,hash:T.hash,params:"path"in re?{}:T.params},re)}}function H(T,se){const G=p=D(T),re=c.value,Ce=T.state,Se=T.force,me=T.replace===!0,de=M(G);if(de)return H(Me(b(de),{state:typeof de=="object"?Me({},Ce,de.state):Ce,force:Se,replace:me}),se||G);const g=G;g.redirectedFrom=se;let A;return!Se&&ou(o,re,G)&&(A=Ns(16,{to:g,from:re}),Fe(re,re,!0,!1)),(A?Promise.resolve(A):V(g,re)).catch(x=>on(x)?on(x,2)?x:De(x):ee(x,g,re)).then(x=>{if(x){if(on(x,2))return ou(o,D(x.to),g)&&se&&(se._count=se._count?se._count+1:1)>10?($e(`Detected an infinite redirection in a navigation guard when going from "${re.fullPath}" to "${g.fullPath}". Aborting to avoid a Stack Overflow. This will break in production if not fixed.`),Promise.reject(new Error("Infinite redirect in navigation guard"))):H(Me({replace:me},b(x.to),{state:typeof x.to=="object"?Me({},Ce,x.to.state):Ce,force:Se}),se||g)}else x=pe(g,re,!0,me,Ce);return ne(g,re,x),x})}function B(T,se){const G=w(T,se);return G?Promise.reject(G):Promise.resolve()}function V(T,se){let G;const[re,Ce,Se]=b0(T,se);G=Ol(re.reverse(),"beforeRouteLeave",T,se);for(const de of re)de.leaveGuards.forEach(g=>{G.push(Cn(g,T,se))});const me=B.bind(null,T,se);return G.push(me),Ds(G).then(()=>{G=[];for(const de of l.list())G.push(Cn(de,T,se));return G.push(me),Ds(G)}).then(()=>{G=Ol(Ce,"beforeRouteUpdate",T,se);for(const de of Ce)de.updateGuards.forEach(g=>{G.push(Cn(g,T,se))});return G.push(me),Ds(G)}).then(()=>{G=[];for(const de of T.matched)if(de.beforeEnter&&!se.matched.includes(de))if($t(de.beforeEnter))for(const g of de.beforeEnter)G.push(Cn(g,T,se));else G.push(Cn(de.beforeEnter,T,se));return G.push(me),Ds(G)}).then(()=>(T.matched.forEach(de=>de.enterCallbacks={}),G=Ol(Se,"beforeRouteEnter",T,se),G.push(me),Ds(G))).then(()=>{G=[];for(const de of a.list())G.push(Cn(de,T,se));return G.push(me),Ds(G)}).catch(de=>on(de,8)?de:Promise.reject(de))}function ne(T,se,G){for(const re of i.list())re(T,se,G)}function pe(T,se,G,re,Ce){const Se=w(T,se);if(Se)return Se;const me=se===bn,de=un?history.state:{};G&&(re||me?r.replace(T.fullPath,Me({scroll:me&&de&&de.scroll},Ce)):r.push(T.fullPath,Ce)),c.value=T,Fe(T,se,G,me),De()}let K;function be(){K||(K=r.listen((T,se,G)=>{if(!_n.listening)return;const re=D(T),Ce=M(re);if(Ce){H(Me(Ce,{replace:!0}),re).catch(mo);return}p=re;const Se=c.value;un&&y_(lu(Se.fullPath,G.delta),ul()),V(re,Se).catch(me=>on(me,12)?me:on(me,2)?(H(me.to,re).then(de=>{on(de,20)&&!G.delta&&G.type===Po.pop&&r.go(-1,!1)}).catch(mo),Promise.reject()):(G.delta&&r.go(-G.delta,!1),ee(me,re,Se))).then(me=>{me=me||pe(re,Se,!1),me&&(G.delta&&!on(me,8)?r.go(-G.delta,!1):G.type===Po.pop&&on(me,20)&&r.go(-1,!1)),ne(re,Se,me)}).catch(mo)}))}let ve=Xs(),Ee=Xs(),Ie;function ee(T,se,G){De(T);const re=Ee.list();return re.length?re.forEach(Ce=>Ce(T,se,G)):($e("uncaught error during route navigation:"),console.error(T)),Promise.reject(T)}function ce(){return Ie&&c.value!==bn?Promise.resolve():new Promise((T,se)=>{ve.add([T,se])})}function De(T){return Ie||(Ie=!T,be(),ve.list().forEach(([se,G])=>T?G(T):se()),ve.reset()),T}function Fe(T,se,G,re){const{scrollBehavior:Ce}=t;if(!un||!Ce)return Promise.resolve();const Se=!G&&m_(lu(T.fullPath,0))||(re||!G)&&history.state&&history.state.scroll||null;return lt().then(()=>Ce(T,se,Se)).then(me=>me&&h_(me)).catch(me=>ee(me,T,se))}const At=T=>r.go(T);let st;const yt=new Set,_n={currentRoute:c,listening:!0,addRoute:m,removeRoute:y,hasRoute:_,getRoutes:v,resolve:D,options:t,push:k,replace:S,go:At,back:()=>At(-1),forward:()=>At(1),beforeEach:l.add,beforeResolve:a.add,afterEach:i.add,onError:Ee.add,isReady:ce,install(T){const se=this;T.component("RouterLink",l0),T.component("RouterView",u0),T.config.globalProperties.$router=se,Object.defineProperty(T.config.globalProperties,"$route",{enumerable:!0,get:()=>C(c)}),un&&!st&&c.value===bn&&(st=!0,k(r.location).catch(Ce=>{$e("Unexpected error when starting the router:",Ce)}));const G={};for(const Ce in bn)G[Ce]=$(()=>c.value[Ce]);T.provide(Ei,se),T.provide(pf,Ve(G)),T.provide(Ea,c);const re=T.unmount;yt.add(T),T.unmount=function(){yt.delete(T),yt.size<1&&(p=bn,K&&K(),K=null,c.value=bn,st=!1,Ie=!1),re()},un&&f0(T,se,n)}};return _n}function Ds(t){return t.reduce((n,s)=>n.then(()=>s()),Promise.resolve())}function b0(t,n){const s=[],o=[],r=[],l=Math.max(n.matched.length,t.matched.length);for(let a=0;a<l;a++){const i=n.matched[a];i&&(t.matched.find(p=>Hn(p,i))?o.push(i):s.push(i));const c=t.matched[a];c&&(n.matched.find(p=>Hn(p,c))||r.push(c))}return[s,o,r]}const Pl=Y(!1),vo=Y(!1),$s=Y(!1),E0=Y(!0),ka=cv({xs:460,...ov}),fs=Gv(),_f=Lv(),D0=$(()=>fs.height.value-fs.width.value/On>180),wf=Iv(Wt?document.body:null),Mn=sv(),k0=$(()=>{var t,n;return["INPUT","TEXTAREA"].includes(((t=Mn.value)==null?void 0:t.tagName)||"")||((n=Mn.value)==null?void 0:n.classList.contains("CodeMirror-code"))}),C0=$(()=>{var t;return["BUTTON","A"].includes(((t=Mn.value)==null?void 0:t.tagName)||"")});zt("slidev-camera","default");zt("slidev-mic","default");const Ar=zt("slidev-scale",0),pt=zt("slidev-show-overview",!1),Il=zt("slidev-presenter-cursor",!0),wu=zt("slidev-show-editor",!1);zt("slidev-editor-width",Wt?window.innerWidth*.4:100);const Af=Gd(pt);function Au(t,n,s,o=r=>r){return t*o(.5-n*(.5-s))}function x0(t){return[-t[0],-t[1]]}function qt(t,n){return[t[0]+n[0],t[1]+n[1]]}function It(t,n){return[t[0]-n[0],t[1]-n[1]]}function jt(t,n){return[t[0]*n,t[1]*n]}function B0(t,n){return[t[0]/n,t[1]/n]}function to(t){return[t[1],-t[0]]}function bu(t,n){return t[0]*n[0]+t[1]*n[1]}function S0(t,n){return t[0]===n[0]&&t[1]===n[1]}function $0(t){return Math.hypot(t[0],t[1])}function T0(t){return t[0]*t[0]+t[1]*t[1]}function Eu(t,n){return T0(It(t,n))}function bf(t){return B0(t,$0(t))}function O0(t,n){return Math.hypot(t[1]-n[1],t[0]-n[0])}function no(t,n,s){let o=Math.sin(s),r=Math.cos(s),l=t[0]-n[0],a=t[1]-n[1],i=l*r-a*o,c=l*o+a*r;return[i+n[0],c+n[1]]}function Ca(t,n,s){return qt(t,jt(It(n,t),s))}function Du(t,n,s){return qt(t,jt(n,s))}var{min:ks,PI:P0}=Math,ku=.275,so=P0+1e-4;function I0(t,n={}){let{size:s=16,smoothing:o=.5,thinning:r=.5,simulatePressure:l=!0,easing:a=ee=>ee,start:i={},end:c={},last:p=!1}=n,{cap:d=!0,easing:f=ee=>ee*(2-ee)}=i,{cap:h=!0,easing:m=ee=>--ee*ee*ee+1}=c;if(t.length===0||s<=0)return[];let y=t[t.length-1].runningLength,v=i.taper===!1?0:i.taper===!0?Math.max(s,y):i.taper,_=c.taper===!1?0:c.taper===!0?Math.max(s,y):c.taper,D=Math.pow(s*o,2),b=[],w=[],k=t.slice(0,10).reduce((ee,ce)=>{let De=ce.pressure;if(l){let Fe=ks(1,ce.distance/s),At=ks(1,1-Fe);De=ks(1,ee+(At-ee)*(Fe*ku))}return(ee+De)/2},t[0].pressure),S=Au(s,r,t[t.length-1].pressure,a),M,H=t[0].vector,B=t[0].point,V=B,ne=B,pe=V,K=!1;for(let ee=0;ee<t.length;ee++){let{pressure:ce}=t[ee],{point:De,vector:Fe,distance:At,runningLength:st}=t[ee];if(ee<t.length-1&&y-st<3)continue;if(r){if(l){let Se=ks(1,At/s),me=ks(1,1-Se);ce=ks(1,k+(me-k)*(Se*ku))}S=Au(s,r,ce,a)}else S=s/2;M===void 0&&(M=S);let yt=st<v?f(st/v):1,_n=y-st<_?m((y-st)/_):1;S=Math.max(.01,S*Math.min(yt,_n));let T=(ee<t.length-1?t[ee+1]:t[ee]).vector,se=ee<t.length-1?bu(Fe,T):1,G=bu(Fe,H)<0&&!K,re=se!==null&&se<0;if(G||re){let Se=jt(to(H),S);for(let me=1/13,de=0;de<=1;de+=me)ne=no(It(De,Se),De,so*de),b.push(ne),pe=no(qt(De,Se),De,so*-de),w.push(pe);B=ne,V=pe,re&&(K=!0);continue}if(K=!1,ee===t.length-1){let Se=jt(to(Fe),S);b.push(It(De,Se)),w.push(qt(De,Se));continue}let Ce=jt(to(Ca(T,Fe,se)),S);ne=It(De,Ce),(ee<=1||Eu(B,ne)>D)&&(b.push(ne),B=ne),pe=qt(De,Ce),(ee<=1||Eu(V,pe)>D)&&(w.push(pe),V=pe),k=ce,H=Fe}let be=t[0].point.slice(0,2),ve=t.length>1?t[t.length-1].point.slice(0,2):qt(t[0].point,[1,1]),Ee=[],Ie=[];if(t.length===1){if(!(v||_)||p){let ee=Du(be,bf(to(It(be,ve))),-(M||S)),ce=[];for(let De=1/13,Fe=De;Fe<=1;Fe+=De)ce.push(no(ee,be,so*2*Fe));return ce}}else{if(!(v||_&&t.length===1))if(d)for(let ce=1/13,De=ce;De<=1;De+=ce){let Fe=no(w[0],be,so*De);Ee.push(Fe)}else{let ce=It(b[0],w[0]),De=jt(ce,.5),Fe=jt(ce,.51);Ee.push(It(be,De),It(be,Fe),qt(be,Fe),qt(be,De))}let ee=to(x0(t[t.length-1].vector));if(_||v&&t.length===1)Ie.push(ve);else if(h){let ce=Du(ve,ee,S);for(let De=1/29,Fe=De;Fe<1;Fe+=De)Ie.push(no(ce,ve,so*3*Fe))}else Ie.push(qt(ve,jt(ee,S)),qt(ve,jt(ee,S*.99)),It(ve,jt(ee,S*.99)),It(ve,jt(ee,S)))}return b.concat(Ie,w.reverse(),Ee)}function M0(t,n={}){var s;let{streamline:o=.5,size:r=16,last:l=!1}=n;if(t.length===0)return[];let a=.15+(1-o)*.85,i=Array.isArray(t[0])?t:t.map(({x:m,y,pressure:v=.5})=>[m,y,v]);if(i.length===2){let m=i[1];i=i.slice(0,-1);for(let y=1;y<5;y++)i.push(Ca(i[0],m,y/4))}i.length===1&&(i=[...i,[...qt(i[0],[1,1]),...i[0].slice(2)]]);let c=[{point:[i[0][0],i[0][1]],pressure:i[0][2]>=0?i[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],p=!1,d=0,f=c[0],h=i.length-1;for(let m=1;m<i.length;m++){let y=l&&m===h?i[m].slice(0,2):Ca(f.point,i[m],a);if(S0(f.point,y))continue;let v=O0(y,f.point);if(d+=v,m<h&&!p){if(d<r)continue;p=!0}f={point:y,pressure:i[m][2]>=0?i[m][2]:.5,vector:bf(It(f.point,y)),distance:v,runningLength:d},c.push(f)}return c[0].vector=((s=c[1])==null?void 0:s.vector)||[0,0],c}function R0(t,n={}){return I0(M0(t,n),n)}var L0=()=>({events:{},emit(t,...n){let s=this.events[t]||[];for(let o=0,r=s.length;o<r;o++)s[o](...n)},on(t,n){var s;return(s=this.events[t])!=null&&s.push(n)||(this.events[t]=[n]),()=>{var o;this.events[t]=(o=this.events[t])==null?void 0:o.filter(r=>n!==r)}}});function qr(t,n){return t-n}function F0(t){return t<0?-1:1}function Hr(t){return[Math.abs(t),F0(t)]}function Ef(){const t=()=>((1+Math.random())*65536|0).toString(16).substring(1);return`${t()+t()}-${t()}-${t()}-${t()}-${t()}${t()}${t()}`}var N0=2,pn=N0,Vs=class{constructor(t){this.drauu=t,this.event=void 0,this.point=void 0,this.start=void 0,this.el=null}onSelected(t){}onUnselected(){}onStart(t){}onMove(t){return!1}onEnd(t){}get brush(){return this.drauu.brush}get shiftPressed(){return this.drauu.shiftPressed}get altPressed(){return this.drauu.altPressed}get svgElement(){return this.drauu.el}getMousePosition(t){var n;const s=this.drauu.el,o=this.drauu.options.coordinateScale??1;if(this.drauu.options.coordinateTransform===!1){const r=this.drauu.el.getBoundingClientRect();return{x:(t.pageX-r.left)*o,y:(t.pageY-r.top)*o,pressure:t.pressure}}else{const r=this.drauu.svgPoint;r.x=t.clientX,r.y=t.clientY;const l=r.matrixTransform((n=s.getScreenCTM())==null?void 0:n.inverse());return{x:l.x*o,y:l.y*o,pressure:t.pressure}}}createElement(t,n){const s=document.createElementNS("http://www.w3.org/2000/svg",t),o=n?{...this.brush,...n}:this.brush;return s.setAttribute("fill",o.fill??"transparent"),s.setAttribute("stroke",o.color),s.setAttribute("stroke-width",o.size.toString()),s.setAttribute("stroke-linecap","round"),o.dasharray&&s.setAttribute("stroke-dasharray",o.dasharray),s}attr(t,n){this.el.setAttribute(t,typeof n=="string"?n:n.toFixed(pn))}_setEvent(t){this.event=t,this.point=this.getMousePosition(t)}_eventDown(t){return this._setEvent(t),this.start=this.point,this.onStart(this.point)}_eventMove(t){return this._setEvent(t),this.onMove(this.point)}_eventUp(t){return this._setEvent(t),this.onEnd(this.point)}},j0=class extends Vs{constructor(){super(...arguments),this.points=[]}onStart(t){return this.el=document.createElementNS("http://www.w3.org/2000/svg","path"),this.points=[t],this.attr("fill",this.brush.color),this.attr("d",this.getSvgData(this.points)),this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&this.points.push(t),this.attr("d",this.getSvgData(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!!t}getSvgData(t){const n=R0(t,{size:this.brush.size*2,thinning:.9,simulatePressure:!1,start:{taper:5},end:{taper:5},...this.brush.stylusOptions});if(!n.length)return"";const s=n.reduce((o,[r,l],a,i)=>{const[c,p]=i[(a+1)%i.length];return o.push(r,l,(r+c)/2,(l+p)/2),o},["M",...n[0],"Q"]);return s.push("Z"),s.map(o=>typeof o=="number"?o.toFixed(2):o).join(" ")}},q0=class extends Vs{onStart(t){return this.el=this.createElement("ellipse"),this.attr("cx",t.x),this.attr("cy",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[n,s]=Hr(t.x-this.start.x),[o,r]=Hr(t.y-this.start.y);if(this.shiftPressed){const l=Math.min(n,o);n=l,o=l}if(this.altPressed)this.attr("cx",this.start.x),this.attr("cy",this.start.y),this.attr("rx",n),this.attr("ry",o);else{const[l,a]=[this.start.x,this.start.x+n*s].sort(qr),[i,c]=[this.start.y,this.start.y+o*r].sort(qr);this.attr("cx",(l+a)/2),this.attr("cy",(i+c)/2),this.attr("rx",(a-l)/2),this.attr("ry",(c-i)/2)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function Df(t,n){const s=document.createElementNS("http://www.w3.org/2000/svg","defs"),o=document.createElementNS("http://www.w3.org/2000/svg","marker"),r=document.createElementNS("http://www.w3.org/2000/svg","path");return r.setAttribute("fill",n),o.setAttribute("id",t),o.setAttribute("viewBox","0 -5 10 10"),o.setAttribute("refX","5"),o.setAttribute("refY","0"),o.setAttribute("markerWidth","4"),o.setAttribute("markerHeight","4"),o.setAttribute("orient","auto"),r.setAttribute("d","M0,-5L10,0L0,5"),o.appendChild(r),s.appendChild(o),s}var H0=class extends Vs{onStart(t){if(this.el=this.createElement("line",{fill:"transparent"}),this.attr("x1",t.x),this.attr("y1",t.y),this.attr("x2",t.x),this.attr("y2",t.y),this.brush.arrowEnd){const n=Ef(),s=document.createElementNS("http://www.w3.org/2000/svg","g");return s.append(Df(n,this.brush.color)),s.append(this.el),this.attr("marker-end",`url(#${n})`),s}return this.el}onMove(t){if(!this.el)return!1;let{x:n,y:s}=t;if(this.shiftPressed){const o=t.x-this.start.x,r=t.y-this.start.y;if(r!==0){let l=o/r;l=Math.round(l),Math.abs(l)<=1?(n=this.start.x+r*l,s=this.start.y+r):(n=this.start.x+o,s=this.start.y)}}return this.altPressed?(this.attr("x1",this.start.x*2-n),this.attr("y1",this.start.y*2-s),this.attr("x2",n),this.attr("y2",s)):(this.attr("x1",this.start.x),this.attr("y1",this.start.y),this.attr("x2",n),this.attr("y2",s)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||t.getTotalLength()<5)}},V0=class extends Vs{onStart(t){return this.el=this.createElement("rect"),this.brush.cornerRadius&&(this.attr("rx",this.brush.cornerRadius),this.attr("ry",this.brush.cornerRadius)),this.attr("x",t.x),this.attr("y",t.y),this.el}onMove(t){if(!this.el||!this.start)return!1;let[n,s]=Hr(t.x-this.start.x),[o,r]=Hr(t.y-this.start.y);if(this.shiftPressed){const l=Math.min(n,o);n=l,o=l}if(this.altPressed)this.attr("x",this.start.x-n),this.attr("y",this.start.y-o),this.attr("width",n*2),this.attr("height",o*2);else{const[l,a]=[this.start.x,this.start.x+n*s].sort(qr),[i,c]=[this.start.y,this.start.y+o*r].sort(qr);this.attr("x",l),this.attr("y",i),this.attr("width",a-l),this.attr("height",c-i)}return!0}onEnd(){const t=this.el;return this.el=null,!(!t||!t.getTotalLength())}};function U0(t,n){const s=t.x-n.x,o=t.y-n.y;return s*s+o*o}function W0(t,n,s){let o=n.x,r=n.y,l=s.x-o,a=s.y-r;if(l!==0||a!==0){const i=((t.x-o)*l+(t.y-r)*a)/(l*l+a*a);i>1?(o=s.x,r=s.y):i>0&&(o+=l*i,r+=a*i)}return l=t.x-o,a=t.y-r,l*l+a*a}function z0(t,n){let s=t[0];const o=[s];let r;for(let l=1,a=t.length;l<a;l++)r=t[l],U0(r,s)>n&&(o.push(r),s=r);return s!==r&&r&&o.push(r),o}function xa(t,n,s,o,r){let l=o,a=0;for(let i=n+1;i<s;i++){const c=W0(t[i],t[n],t[s]);c>l&&(a=i,l=c)}l>o&&(a-n>1&&xa(t,n,a,o,r),r.push(t[a]),s-a>1&&xa(t,a,s,o,r))}function K0(t,n){const s=t.length-1,o=[t[0]];return xa(t,0,s,n,o),o.push(t[s]),o}function Cu(t,n,s=!1){if(t.length<=2)return t;const o=n!==void 0?n*n:1;return t=s?t:z0(t,o),t=K0(t,o),t}var Y0=class extends Vs{constructor(){super(...arguments),this.points=[],this.count=0}onStart(t){if(this.el=this.createElement("path",{fill:"transparent"}),this.points=[t],this.brush.arrowEnd){this.arrowId=Ef();const n=Df(this.arrowId,this.brush.color);this.el.appendChild(n)}return this.el}onMove(t){return this.el||this.onStart(t),this.points[this.points.length-1]!==t&&(this.points.push(t),this.count+=1),this.count>5&&(this.points=Cu(this.points,1,!0),this.count=0),this.attr("d",Bu(this.points)),!0}onEnd(){const t=this.el;return this.el=null,!(!t||(t.setAttribute("d",Bu(Cu(this.points,1,!0))),!t.getTotalLength()))}};function G0(t,n){const s=n.x-t.x,o=n.y-t.y;return{length:Math.sqrt(s**2+o**2),angle:Math.atan2(o,s)}}function xu(t,n,s,o){const r=n||t,l=s||t,a=.2,i=G0(r,l),c=i.angle+(o?Math.PI:0),p=i.length*a,d=t.x+Math.cos(c)*p,f=t.y+Math.sin(c)*p;return{x:d,y:f}}function Q0(t,n,s){const o=xu(s[n-1],s[n-2],t),r=xu(t,s[n-1],s[n+1],!0);return`C ${o.x.toFixed(pn)},${o.y.toFixed(pn)} ${r.x.toFixed(pn)},${r.y.toFixed(pn)} ${t.x.toFixed(pn)},${t.y.toFixed(pn)}`}function Bu(t){return t.reduce((n,s,o,r)=>o===0?`M ${s.x.toFixed(pn)},${s.y.toFixed(pn)}`:`${n} ${Q0(s,o,r)}`,"")}var J0=class extends Vs{constructor(){super(...arguments),this.pathSubFactor=20,this.pathFragments=[]}onSelected(t){const n=(s,o)=>{if(s&&s.length)for(let r=0;r<s.length;r++){const l=s[r];if(l.getTotalLength){const a=l.getTotalLength();for(let i=0;i<this.pathSubFactor;i++){const c=l.getPointAtLength(a*i/this.pathSubFactor),p=l.getPointAtLength(a*(i+1)/this.pathSubFactor);this.pathFragments.push({x1:c.x,x2:p.x,y1:c.y,y2:p.y,segment:i,element:o||l})}}else l.children&&n(l.children,l)}};t&&n(t.children)}onUnselected(){this.pathFragments=[]}onStart(t){this.svgPointPrevious=this.svgElement.createSVGPoint(),this.svgPointPrevious.x=t.x,this.svgPointPrevious.y=t.y}onMove(t){this.svgPointCurrent=this.svgElement.createSVGPoint(),this.svgPointCurrent.x=t.x,this.svgPointCurrent.y=t.y;const n=this.checkAndEraseElement();return this.svgPointPrevious=this.svgPointCurrent,n}onEnd(){return this.svgPointPrevious=void 0,this.svgPointCurrent=void 0,!0}checkAndEraseElement(){const t=[];if(this.pathFragments.length)for(let n=0;n<this.pathFragments.length;n++){const s=this.pathFragments[n],o={x1:this.svgPointPrevious.x,x2:this.svgPointCurrent.x,y1:this.svgPointPrevious.y,y2:this.svgPointCurrent.y};this.lineLineIntersect(s,o)&&(s.element.remove(),t.push(n))}return t.length&&(this.pathFragments=this.pathFragments.filter((n,s)=>!t.includes(s))),t.length>0}lineLineIntersect(t,n){const s=t.x1,o=t.x2,r=n.x1,l=n.x2,a=t.y1,i=t.y2,c=n.y1,p=n.y2,d=(s-o)*(c-p)-(a-i)*(r-l),f=(s*i-a*o)*(r-l)-(s-o)*(r*p-c*l),h=(s*i-a*o)*(c-p)-(a-i)*(r*p-c*l),m=(y,v,_)=>y>=v&&y<=_?!0:y>=_&&y<=v;if(d===0)return!1;{const y={x:f/d,y:h/d};return m(y.x,s,o)&&m(y.y,a,i)&&m(y.x,r,l)&&m(y.y,c,p)}}};function Z0(t){return{draw:new Y0(t),stylus:new j0(t),line:new H0(t),rectangle:new V0(t),ellipse:new q0(t),eraseLine:new J0(t)}}var X0=class{constructor(t={}){this.options=t,this.el=null,this.svgPoint=null,this.eventEl=null,this.shiftPressed=!1,this.altPressed=!1,this.drawing=!1,this._emitter=L0(),this._models=Z0(this),this._undoStack=[],this._disposables=[],this.options.brush||(this.options.brush={color:"black",size:3,mode:"stylus"}),t.el&&this.mount(t.el,t.eventTarget)}get model(){return this._models[this.mode]}get mounted(){return!!this.el}get mode(){return this.options.brush.mode||"stylus"}set mode(t){this._models[this.mode].onUnselected(),this.options.brush.mode=t,this.model.onSelected(this.el)}get brush(){return this.options.brush}set brush(t){this.options.brush=t}resolveSelector(t){return typeof t=="string"?document.querySelector(t):t||null}mount(t,n){if(this.el)throw new Error("[drauu] already mounted, unmount previous target first");if(this.el=this.resolveSelector(t),!this.el)throw new Error("[drauu] target element not found");if(this.el.tagName.toLocaleLowerCase()!=="svg")throw new Error("[drauu] can only mount to a SVG element");if(!this.el.createSVGPoint)throw new Error("[drauu] SVG element must be create by document.createElementNS('http://www.w3.org/2000/svg', 'svg')");this.svgPoint=this.el.createSVGPoint();const s=this.resolveSelector(n)||this.el,o=this.eventStart.bind(this),r=this.eventMove.bind(this),l=this.eventEnd.bind(this),a=this.eventKeyboard.bind(this);s.addEventListener("pointerdown",o,{passive:!1}),window.addEventListener("pointermove",r,{passive:!1}),window.addEventListener("pointerup",l,{passive:!1}),window.addEventListener("pointercancel",l,{passive:!1}),window.addEventListener("keydown",a,!1),window.addEventListener("keyup",a,!1),this._disposables.push(()=>{s.removeEventListener("pointerdown",o),window.removeEventListener("pointermove",r),window.removeEventListener("pointerup",l),window.removeEventListener("pointercancel",l),window.removeEventListener("keydown",a,!1),window.removeEventListener("keyup",a,!1)}),this._emitter.emit("mounted")}unmount(){this._disposables.forEach(t=>t()),this._disposables.length=0,this.el=null,this._emitter.emit("unmounted")}on(t,n){return this._emitter.on(t,n)}undo(){const t=this.el;return t.lastElementChild?(this._undoStack.push(t.lastElementChild.cloneNode(!0)),t.lastElementChild.remove(),this._emitter.emit("changed"),!0):!1}redo(){return this._undoStack.length?(this.el.appendChild(this._undoStack.pop()),this._emitter.emit("changed"),!0):!1}canRedo(){return!!this._undoStack.length}canUndo(){var t;return!!((t=this.el)!=null&&t.lastElementChild)}eventMove(t){!this.acceptsInput(t)||!this.drawing||this.model._eventMove(t)&&(t.stopPropagation(),t.preventDefault(),this._emitter.emit("changed"))}eventStart(t){this.acceptsInput(t)&&(t.stopPropagation(),t.preventDefault(),this._currentNode&&this.cancel(),this.drawing=!0,this._emitter.emit("start"),this._currentNode=this.model._eventDown(t),this._currentNode&&this.mode!=="eraseLine"&&this.el.appendChild(this._currentNode),this._emitter.emit("changed"))}eventEnd(t){if(!this.acceptsInput(t)||!this.drawing)return;const n=this.model._eventUp(t);n?(n instanceof Element&&n!==this._currentNode&&(this._currentNode=n),this.commit()):this.cancel(),this.drawing=!1,this._emitter.emit("end"),this._emitter.emit("changed")}acceptsInput(t){return!this.options.acceptsInputTypes||this.options.acceptsInputTypes.includes(t.pointerType)}eventKeyboard(t){this.shiftPressed===t.shiftKey&&this.altPressed===t.altKey||(this.shiftPressed=t.shiftKey,this.altPressed=t.altKey,this.model.point&&this.model.onMove(this.model.point)&&this._emitter.emit("changed"))}commit(){this._undoStack.length=0;const t=this._currentNode;this._currentNode=void 0,this._emitter.emit("committed",t)}clear(){this._undoStack.length=0,this.cancel(),this.el.innerHTML="",this._emitter.emit("changed")}cancel(){this._currentNode&&(this.el.removeChild(this._currentNode),this._currentNode=void 0,this._emitter.emit("canceled"))}dump(){return this.el.innerHTML}load(t){this.clear(),this.el.innerHTML=t}};function e1(t){return new X0(t)}const Ba=["#ff595e","#ffca3a","#8ac926","#1982c4","#6a4c93","#ffffff","#000000"],Xt=zt("slidev-drawing-enabled",!1),WS=zt("slidev-drawing-pinned",!1),t1=Y(!1),n1=Y(!1),s1=Y(!1),Mo=Y(!1),rs=$6(zt("slidev-drawing-brush",{color:Ba[0],size:4,mode:"stylus"})),Su=Y("stylus"),kf=$(()=>Te.drawings.syncAll||gt.value);let Ro=!1;const oo=$({get(){return Su.value},set(t){Su.value=t,t==="arrow"?(rs.mode="line",rs.arrowEnd=!0):(rs.mode=t,rs.arrowEnd=!1)}}),o1=Ve({brush:rs,acceptsInputTypes:$(()=>Xt.value&&(!Te.drawings.presenterOnly||gt.value)?void 0:["pen"]),coordinateTransform:!1}),ht=Xr(e1(o1));function r1(){ht.clear(),kf.value&&Wd(Ye.value,"")}function Di(){var t;n1.value=ht.canRedo(),t1.value=ht.canUndo(),s1.value=!!((t=ht.el)!=null&&t.children.length)}function l1(t){Ro=!0;const n=Nr[t||Ye.value];n!=null?ht.load(n):ht.clear(),Di(),Ro=!1}ht.on("changed",()=>{if(Di(),!Ro){const t=ht.dump(),n=Ye.value;(Nr[n]||"")!==t&&kf.value&&Wd(n,ht.dump())}});v6(t=>{Ro=!0,t[Ye.value]!=null&&ht.load(t[Ye.value]||""),Ro=!1,Di()});lt(()=>{we(Ye,()=>{ht.mounted&&l1()},{immediate:!0})});ht.on("start",()=>Mo.value=!0);ht.on("end",()=>Mo.value=!1);window.addEventListener("keydown",t=>{if(!Xt.value)return;const n=!t.ctrlKey&&!t.altKey&&!t.shiftKey&&!t.metaKey;let s=!0;t.code==="KeyZ"&&(t.ctrlKey||t.metaKey)?t.shiftKey?ht.redo():ht.undo():t.code==="Escape"?Xt.value=!1:t.code==="KeyL"&&n?oo.value="line":t.code==="KeyA"&&n?oo.value="arrow":t.code==="KeyS"&&n?oo.value="stylus":t.code==="KeyR"&&n?oo.value="rectangle":t.code==="KeyE"&&n?oo.value="ellipse":t.code==="KeyC"&&n?r1():t.code.startsWith("Digit")&&n&&+t.code[5]<=Ba.length?rs.color=Ba[+t.code[5]-1]:s=!1,s&&(t.preventDefault(),t.stopPropagation())},!1);function Je(...t){return $(()=>t.every(n=>ot(n)))}function Et(t){return $(()=>!ot(t))}const $u=wv(),Ml=zt("slidev-color-schema","auto"),Sa=$(()=>Te.colorSchema!=="auto"),ki=$({get(){return Sa.value?Te.colorSchema==="dark":Ml.value==="auto"?$u.value:Ml.value==="dark"},set(t){Sa.value||(Ml.value=t===$u.value?"auto":t?"dark":"light")}}),Cf=Gd(ki);Wt&&we(ki,t=>{const n=document.querySelector("html");n.classList.toggle("dark",t),n.classList.toggle("light",!t)},{immediate:!0});const br=Y(1),Er=$(()=>Qe.length-1),St=Y(0),Ci=Y(0);function a1(){St.value>br.value&&(St.value-=1)}function i1(){St.value<Er.value&&(St.value+=1)}function c1(){if(St.value>br.value){let t=St.value-Ci.value;t<br.value&&(t=br.value),St.value=t}}function u1(){if(St.value<Er.value){let t=St.value+Ci.value;t>Er.value&&(t=Er.value),St.value=t}}function p1(){const{escape:t,space:n,shift:s,left:o,right:r,up:l,down:a,enter:i,d:c,g:p,o:d}=_f;let f=[{name:"next_space",key:Je(n,Et(s)),fn:Rn,autoRepeat:!0},{name:"prev_space",key:Je(n,s),fn:Ln,autoRepeat:!0},{name:"next_right",key:Je(r,Et(s),Et(pt)),fn:Rn,autoRepeat:!0},{name:"prev_left",key:Je(o,Et(s),Et(pt)),fn:Ln,autoRepeat:!0},{name:"next_page_key",key:"pageDown",fn:Rn,autoRepeat:!0},{name:"prev_page_key",key:"pageUp",fn:Ln,autoRepeat:!0},{name:"next_down",key:Je(a,Et(pt)),fn:Fo,autoRepeat:!0},{name:"prev_up",key:Je(l,Et(pt)),fn:()=>No(!1),autoRepeat:!0},{name:"next_shift",key:Je(r,s),fn:Fo,autoRepeat:!0},{name:"prev_shift",key:Je(o,s),fn:()=>No(!1),autoRepeat:!0},{name:"toggle_dark",key:Je(c,Et(Xt)),fn:Cf},{name:"toggle_overview",key:Je(d,Et(Xt)),fn:Af},{name:"hide_overview",key:Je(t,Et(Xt)),fn:()=>pt.value=!1},{name:"goto",key:Je(p,Et(Xt)),fn:()=>$s.value=!$s.value},{name:"next_overview",key:Je(r,pt),fn:i1},{name:"prev_overview",key:Je(o,pt),fn:a1},{name:"up_overview",key:Je(l,pt),fn:c1},{name:"down_overview",key:Je(a,pt),fn:u1},{name:"goto_from_overview",key:Je(i,pt),fn:()=>{qs(St.value),pt.value=!1}}];const h=new Set(f.map(y=>y.name));if(f.filter(y=>y.name&&h.has(y.name)).length===0){const y=["========== WARNING ==========","defineShortcutsSetup did not return any of the base shortcuts.","See https://sli.dev/custom/config-shortcuts.html for migration.",'If it is intentional, return at least one shortcut with one of the base names (e.g. name:"goto").'].join(`

`);alert(y),console.warn(y)}return f}const xf=Je(Et(k0),Et(C0),E0);function d1(t,n,s=!1){typeof t=="string"&&(t=_f[t]);const o=Je(t,xf);let r=0,l;const a=()=>{if(clearTimeout(l),!o.value){r=0;return}s&&(l=setTimeout(a,Math.max(1e3-r*250,150)),r++),n()};return we(o,a,{flush:"sync"})}function f1(t,n){return nv(t,s=>{xf.value&&(s.repeat||n())})}function h1(){const t=p1();new Map(t.map(s=>[s.key,s])).forEach(s=>{s.fn&&d1(s.key,s.fn,s.autoRepeat)}),f1("f",()=>wf.toggle())}const y1={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},m1=e("path",{fill:"currentColor",d:"M24 9.4L22.6 8L16 14.6L9.4 8L8 9.4l6.6 6.6L8 22.6L9.4 24l6.6-6.6l6.6 6.6l1.4-1.4l-6.6-6.6L24 9.4z"},null,-1),g1=[m1];function v1(t,n){return E(),oe("svg",y1,g1)}const _1={name:"carbon-close",render:v1};function xi(t,n=""){var r,l;const s=["slidev-page",n],o=(l=(r=t==null?void 0:t.meta)==null?void 0:r.slide)==null?void 0:l.no;return o!=null&&s.push(`slidev-page-${o}`),s.filter(Boolean).join(" ")}const w1=Le({__name:"SlideContainer",props:{width:{type:Number},meta:{default:()=>({})},scale:{type:[Number,String]}},setup(t){const n=t;O(F);const s=Y(),o=Pv(s),r=$(()=>n.width?n.width:o.width.value),l=$(()=>n.width?n.width/On:o.height.value);n.width&&vs(()=>{s.value&&(s.value.style.width=`${r.value}px`,s.value.style.height=`${l.value}px`)});const a=$(()=>r.value/l.value),i=$(()=>n.scale&&!js.value?n.scale:a.value<On?r.value/Pn:l.value*On/Pn),c=$(()=>({height:`${_i}px`,width:`${Pn}px`,transform:`translate(-50%, -50%) scale(${i.value})`})),p=$(()=>({"select-none":!Te.selectable,"slidev-code-line-numbers":Te.lineNumbers}));return kt(Vd,i),(d,f)=>(E(),oe("div",{id:"slide-container",ref_key:"root",ref:s,class:Ke(C(p))},[e("div",{id:"slide-content",style:at(C(c))},[jn(d.$slots,"default")],4),jn(d.$slots,"controls")],2))}});const N=(t,n)=>{const s=t.__vccOpts||t;for(const[o,r]of n)s[o]=r;return s},Bf=N(w1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlideContainer.vue"]]),Bi=Le({name:"SlideWrapper",props:{clicks:{type:[Number,String],default:0},clicksElements:{type:Array,default:()=>[]},clicksOrderMap:{type:Map,default:()=>new Map},clicksDisabled:{type:Boolean,default:!1},context:{type:String,default:"main"},is:{type:Object,default:void 0},route:{type:Object,default:void 0}},setup(t,{emit:n}){const s=Zt(t,"clicks",n),o=Zt(t,"clicksElements",n),r=Zt(t,"clicksDisabled",n),l=Zt(t,"clicksOrderMap",n);o.value.length=0,kt(s6,t.route),kt(o6,t.context),kt(ho,s),kt(yo,r),kt(ts,o),kt(fa,l)},render(){var t,n;return this.$props.is?Bt(this.$props.is):(n=(t=this.$slots)==null?void 0:t.default)==null?void 0:n.call(t)}}),A1=["innerHTML"],b1=Le({__name:"DrawingPreview",props:{page:{type:Number,required:!0}},setup(t){return O(F),(n,s)=>C(Nr)[t.page]?(E(),oe("svg",{key:0,class:"w-full h-full absolute top-0 pointer-events-none",innerHTML:C(Nr)[t.page]},null,8,A1)):ke("v-if",!0)}}),Sf=N(b1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/DrawingPreview.vue"]]),E1=Object.freeze(Object.defineProperty({__proto__:null,default:Sf},Symbol.toStringTag,{value:"Module"})),D1={class:"slides-overview bg-main !bg-opacity-75 p-16 overflow-y-auto"},k1=["onClick"],C1=Le({__name:"SlidesOverview",props:{modelValue:{type:Boolean,required:!0}},emits:[],setup(t,{emit:n}){const s=t;O(F);const o=Zt(s,"modelValue",n);function r(){o.value=!1}function l(m){qs(m),r()}function a(m){return m===St.value}const i=ka.smaller("xs"),c=ka.smaller("sm"),p=4*16*2,d=2*16,f=$(()=>i.value?fs.width.value-p:c.value?(fs.width.value-p-d)/2:300),h=$(()=>Math.floor((fs.width.value-p)/(f.value+d)));return vs(()=>{St.value=Ye.value,Ci.value=h.value}),(m,y)=>{const v=_1;return E(),oe(Oe,null,[cd(e("div",D1,[e("div",{class:"grid gap-y-4 gap-x-8 w-full",style:at(`grid-template-columns: repeat(auto-fit,minmax(${C(f)}px,1fr))`)},[(E(!0),oe(Oe,null,Hs(C(Qe).slice(0,-1),(_,D)=>(E(),oe("div",{key:_.path,class:"relative"},[e("div",{class:Ke(["inline-block border rounded border-opacity-50 overflow-hidden bg-main hover:border-$slidev-theme-primary",{"border-$slidev-theme-primary":a(D+1),"border-gray-400":!a(D+1)}]),style:at(C(wi)),onClick:b=>l(+_.path)},[(E(),P(Bf,{key:_.path,width:C(f),"clicks-disabled":!0,class:"pointer-events-none"},{default:I(()=>[te(C(Bi),{is:_==null?void 0:_.component,"clicks-disabled":!0,class:Ke(C(xi)(_)),route:_,context:"overview"},null,8,["is","class","route"]),te(Sf,{page:+_.path},null,8,["page"])]),_:2},1032,["width"]))],14,k1),e("div",{class:"absolute top-0 opacity-50",style:at(`left: ${C(f)+5}px`)},hn(D+1),5)]))),128))],4)],512),[[Id,C(o)]]),C(o)?(E(),oe("button",{key:0,class:"fixed text-2xl top-4 right-4 slidev-icon-btn text-gray-400",onClick:r},[te(v)])):ke("v-if",!0)],64)}}});const x1=N(C1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlidesOverview.vue"]]),B1="/owasp-top-ten-workshop/assets/logo-b72bde5d.png",S1={key:0,class:"fixed top-0 bottom-0 left-0 right-0 grid z-20"},$1=Le({__name:"Modal",props:{modelValue:{default:!1},class:{default:""}},emits:["modelValue"],setup(t,{emit:n}){const s=t;O(F);const o=Zt(s,"modelValue",n);function r(){o.value=!1}return(l,a)=>(E(),P(od,null,[C(o)?(E(),oe("div",S1,[e("div",{bg:"black opacity-80",class:"absolute top-0 bottom-0 left-0 right-0 -z-1",onClick:a[0]||(a[0]=i=>r())}),e("div",{class:Ke(["m-auto rounded-md bg-main shadow",s.class]),"dark:border":"~ main"},[jn(l.$slots,"default")],2)])):ke("v-if",!0)],1024))}}),T1=N($1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Modal.vue"]]),O1={class:"slidev-info-dialog slidev-layout flex flex-col gap-4 text-base"},P1=["innerHTML"],I1=e("a",{href:"https://github.com/slidevjs/slidev",target:"_blank",class:"!opacity-100 !border-none !text-current"},[e("div",{class:"flex gap-1 children:my-auto"},[e("div",{class:"opacity-50 text-sm mr-2"},"Powered by"),e("img",{class:"w-5 h-5",src:B1,alt:"Slidev"}),e("div",{style:{color:"#2082A6"}},[e("b",null,"Sli"),u("dev ")])])],-1),M1=Le({__name:"InfoDialog",props:{modelValue:{default:!1}},emits:["modelValue"],setup(t,{emit:n}){const s=t;O(F);const o=Zt(s,"modelValue",n),r=$(()=>typeof Te.info=="string");return(l,a)=>(E(),P(T1,{modelValue:C(o),"onUpdate:modelValue":a[0]||(a[0]=i=>Pe(o)?o.value=i:null),class:"px-6 py-4"},{default:I(()=>[e("div",O1,[C(r)?(E(),oe("div",{key:0,class:"mb-4",innerHTML:C(Te).info},null,8,P1)):ke("v-if",!0),I1])]),_:1},8,["modelValue"]))}});const R1=N(M1,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/InfoDialog.vue"]]);function gn(t){return Array.isArray?Array.isArray(t):Of(t)==="[object Array]"}const L1=1/0;function F1(t){if(typeof t=="string")return t;let n=t+"";return n=="0"&&1/t==-L1?"-0":n}function N1(t){return t==null?"":F1(t)}function en(t){return typeof t=="string"}function $f(t){return typeof t=="number"}function j1(t){return t===!0||t===!1||q1(t)&&Of(t)=="[object Boolean]"}function Tf(t){return typeof t=="object"}function q1(t){return Tf(t)&&t!==null}function Ct(t){return t!=null}function Rl(t){return!t.trim().length}function Of(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const H1="Incorrect 'index' type",V1=t=>`Invalid value for key ${t}`,U1=t=>`Pattern length exceeds max of ${t}.`,W1=t=>`Missing ${t} property in key`,z1=t=>`Property 'weight' in key '${t}' must be a positive integer`,Tu=Object.prototype.hasOwnProperty;class K1{constructor(n){this._keys=[],this._keyMap={};let s=0;n.forEach(o=>{let r=Pf(o);s+=r.weight,this._keys.push(r),this._keyMap[r.id]=r,s+=r.weight}),this._keys.forEach(o=>{o.weight/=s})}get(n){return this._keyMap[n]}keys(){return this._keys}toJSON(){return JSON.stringify(this._keys)}}function Pf(t){let n=null,s=null,o=null,r=1,l=null;if(en(t)||gn(t))o=t,n=Ou(t),s=$a(t);else{if(!Tu.call(t,"name"))throw new Error(W1("name"));const a=t.name;if(o=a,Tu.call(t,"weight")&&(r=t.weight,r<=0))throw new Error(z1(a));n=Ou(a),s=$a(a),l=t.getFn}return{path:n,id:s,weight:r,src:o,getFn:l}}function Ou(t){return gn(t)?t:t.split(".")}function $a(t){return gn(t)?t.join("."):t}function Y1(t,n){let s=[],o=!1;const r=(l,a,i)=>{if(Ct(l))if(!a[i])s.push(l);else{let c=a[i];const p=l[c];if(!Ct(p))return;if(i===a.length-1&&(en(p)||$f(p)||j1(p)))s.push(N1(p));else if(gn(p)){o=!0;for(let d=0,f=p.length;d<f;d+=1)r(p[d],a,i+1)}else a.length&&r(p,a,i+1)}};return r(t,en(n)?n.split("."):n,0),o?s:s[0]}const G1={includeMatches:!1,findAllMatches:!1,minMatchCharLength:1},Q1={isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:(t,n)=>t.score===n.score?t.idx<n.idx?-1:1:t.score<n.score?-1:1},J1={location:0,threshold:.6,distance:100},Z1={useExtendedSearch:!1,getFn:Y1,ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1};var he={...Q1,...G1,...J1,...Z1};const X1=/[^ ]+/g;function ew(t=1,n=3){const s=new Map,o=Math.pow(10,n);return{get(r){const l=r.match(X1).length;if(s.has(l))return s.get(l);const a=1/Math.pow(l,.5*t),i=parseFloat(Math.round(a*o)/o);return s.set(l,i),i},clear(){s.clear()}}}class Si{constructor({getFn:n=he.getFn,fieldNormWeight:s=he.fieldNormWeight}={}){this.norm=ew(s,3),this.getFn=n,this.isCreated=!1,this.setIndexRecords()}setSources(n=[]){this.docs=n}setIndexRecords(n=[]){this.records=n}setKeys(n=[]){this.keys=n,this._keysMap={},n.forEach((s,o)=>{this._keysMap[s.id]=o})}create(){this.isCreated||!this.docs.length||(this.isCreated=!0,en(this.docs[0])?this.docs.forEach((n,s)=>{this._addString(n,s)}):this.docs.forEach((n,s)=>{this._addObject(n,s)}),this.norm.clear())}add(n){const s=this.size();en(n)?this._addString(n,s):this._addObject(n,s)}removeAt(n){this.records.splice(n,1);for(let s=n,o=this.size();s<o;s+=1)this.records[s].i-=1}getValueForItemAtKeyId(n,s){return n[this._keysMap[s]]}size(){return this.records.length}_addString(n,s){if(!Ct(n)||Rl(n))return;let o={v:n,i:s,n:this.norm.get(n)};this.records.push(o)}_addObject(n,s){let o={i:s,$:{}};this.keys.forEach((r,l)=>{let a=r.getFn?r.getFn(n):this.getFn(n,r.path);if(Ct(a)){if(gn(a)){let i=[];const c=[{nestedArrIndex:-1,value:a}];for(;c.length;){const{nestedArrIndex:p,value:d}=c.pop();if(Ct(d))if(en(d)&&!Rl(d)){let f={v:d,i:p,n:this.norm.get(d)};i.push(f)}else gn(d)&&d.forEach((f,h)=>{c.push({nestedArrIndex:h,value:f})})}o.$[l]=i}else if(en(a)&&!Rl(a)){let i={v:a,n:this.norm.get(a)};o.$[l]=i}}}),this.records.push(o)}toJSON(){return{keys:this.keys,records:this.records}}}function If(t,n,{getFn:s=he.getFn,fieldNormWeight:o=he.fieldNormWeight}={}){const r=new Si({getFn:s,fieldNormWeight:o});return r.setKeys(t.map(Pf)),r.setSources(n),r.create(),r}function tw(t,{getFn:n=he.getFn,fieldNormWeight:s=he.fieldNormWeight}={}){const{keys:o,records:r}=t,l=new Si({getFn:n,fieldNormWeight:s});return l.setKeys(o),l.setIndexRecords(r),l}function dr(t,{errors:n=0,currentLocation:s=0,expectedLocation:o=0,distance:r=he.distance,ignoreLocation:l=he.ignoreLocation}={}){const a=n/t.length;if(l)return a;const i=Math.abs(o-s);return r?a+i/r:i?1:a}function nw(t=[],n=he.minMatchCharLength){let s=[],o=-1,r=-1,l=0;for(let a=t.length;l<a;l+=1){let i=t[l];i&&o===-1?o=l:!i&&o!==-1&&(r=l-1,r-o+1>=n&&s.push([o,r]),o=-1)}return t[l-1]&&l-o>=n&&s.push([o,l-1]),s}const ns=32;function sw(t,n,s,{location:o=he.location,distance:r=he.distance,threshold:l=he.threshold,findAllMatches:a=he.findAllMatches,minMatchCharLength:i=he.minMatchCharLength,includeMatches:c=he.includeMatches,ignoreLocation:p=he.ignoreLocation}={}){if(n.length>ns)throw new Error(U1(ns));const d=n.length,f=t.length,h=Math.max(0,Math.min(o,f));let m=l,y=h;const v=i>1||c,_=v?Array(f):[];let D;for(;(D=t.indexOf(n,y))>-1;){let H=dr(n,{currentLocation:D,expectedLocation:h,distance:r,ignoreLocation:p});if(m=Math.min(H,m),y=D+d,v){let B=0;for(;B<d;)_[D+B]=1,B+=1}}y=-1;let b=[],w=1,k=d+f;const S=1<<d-1;for(let H=0;H<d;H+=1){let B=0,V=k;for(;B<V;)dr(n,{errors:H,currentLocation:h+V,expectedLocation:h,distance:r,ignoreLocation:p})<=m?B=V:k=V,V=Math.floor((k-B)/2+B);k=V;let ne=Math.max(1,h-V+1),pe=a?f:Math.min(h+V,f)+d,K=Array(pe+2);K[pe+1]=(1<<H)-1;for(let ve=pe;ve>=ne;ve-=1){let Ee=ve-1,Ie=s[t.charAt(Ee)];if(v&&(_[Ee]=+!!Ie),K[ve]=(K[ve+1]<<1|1)&Ie,H&&(K[ve]|=(b[ve+1]|b[ve])<<1|1|b[ve+1]),K[ve]&S&&(w=dr(n,{errors:H,currentLocation:Ee,expectedLocation:h,distance:r,ignoreLocation:p}),w<=m)){if(m=w,y=Ee,y<=h)break;ne=Math.max(1,2*h-y)}}if(dr(n,{errors:H+1,currentLocation:h,expectedLocation:h,distance:r,ignoreLocation:p})>m)break;b=K}const M={isMatch:y>=0,score:Math.max(.001,w)};if(v){const H=nw(_,i);H.length?c&&(M.indices=H):M.isMatch=!1}return M}function ow(t){let n={};for(let s=0,o=t.length;s<o;s+=1){const r=t.charAt(s);n[r]=(n[r]||0)|1<<o-s-1}return n}class Mf{constructor(n,{location:s=he.location,threshold:o=he.threshold,distance:r=he.distance,includeMatches:l=he.includeMatches,findAllMatches:a=he.findAllMatches,minMatchCharLength:i=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreLocation:p=he.ignoreLocation}={}){if(this.options={location:s,threshold:o,distance:r,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:c,ignoreLocation:p},this.pattern=c?n:n.toLowerCase(),this.chunks=[],!this.pattern.length)return;const d=(h,m)=>{this.chunks.push({pattern:h,alphabet:ow(h),startIndex:m})},f=this.pattern.length;if(f>ns){let h=0;const m=f%ns,y=f-m;for(;h<y;)d(this.pattern.substr(h,ns),h),h+=ns;if(m){const v=f-ns;d(this.pattern.substr(v),v)}}else d(this.pattern,0)}searchIn(n){const{isCaseSensitive:s,includeMatches:o}=this.options;if(s||(n=n.toLowerCase()),this.pattern===n){let y={isMatch:!0,score:0};return o&&(y.indices=[[0,n.length-1]]),y}const{location:r,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:c,ignoreLocation:p}=this.options;let d=[],f=0,h=!1;this.chunks.forEach(({pattern:y,alphabet:v,startIndex:_})=>{const{isMatch:D,score:b,indices:w}=sw(n,y,v,{location:r+_,distance:l,threshold:a,findAllMatches:i,minMatchCharLength:c,includeMatches:o,ignoreLocation:p});D&&(h=!0),f+=b,D&&w&&(d=[...d,...w])});let m={isMatch:h,score:h?f/this.chunks.length:1};return h&&o&&(m.indices=d),m}}class Un{constructor(n){this.pattern=n}static isMultiMatch(n){return Pu(n,this.multiRegex)}static isSingleMatch(n){return Pu(n,this.singleRegex)}search(){}}function Pu(t,n){const s=t.match(n);return s?s[1]:null}class rw extends Un{constructor(n){super(n)}static get type(){return"exact"}static get multiRegex(){return/^="(.*)"$/}static get singleRegex(){return/^=(.*)$/}search(n){const s=n===this.pattern;return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class lw extends Un{constructor(n){super(n)}static get type(){return"inverse-exact"}static get multiRegex(){return/^!"(.*)"$/}static get singleRegex(){return/^!(.*)$/}search(n){const o=n.indexOf(this.pattern)===-1;return{isMatch:o,score:o?0:1,indices:[0,n.length-1]}}}class aw extends Un{constructor(n){super(n)}static get type(){return"prefix-exact"}static get multiRegex(){return/^\^"(.*)"$/}static get singleRegex(){return/^\^(.*)$/}search(n){const s=n.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,this.pattern.length-1]}}}class iw extends Un{constructor(n){super(n)}static get type(){return"inverse-prefix-exact"}static get multiRegex(){return/^!\^"(.*)"$/}static get singleRegex(){return/^!\^(.*)$/}search(n){const s=!n.startsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,n.length-1]}}}class cw extends Un{constructor(n){super(n)}static get type(){return"suffix-exact"}static get multiRegex(){return/^"(.*)"\$$/}static get singleRegex(){return/^(.*)\$$/}search(n){const s=n.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[n.length-this.pattern.length,n.length-1]}}}class uw extends Un{constructor(n){super(n)}static get type(){return"inverse-suffix-exact"}static get multiRegex(){return/^!"(.*)"\$$/}static get singleRegex(){return/^!(.*)\$$/}search(n){const s=!n.endsWith(this.pattern);return{isMatch:s,score:s?0:1,indices:[0,n.length-1]}}}class Rf extends Un{constructor(n,{location:s=he.location,threshold:o=he.threshold,distance:r=he.distance,includeMatches:l=he.includeMatches,findAllMatches:a=he.findAllMatches,minMatchCharLength:i=he.minMatchCharLength,isCaseSensitive:c=he.isCaseSensitive,ignoreLocation:p=he.ignoreLocation}={}){super(n),this._bitapSearch=new Mf(n,{location:s,threshold:o,distance:r,includeMatches:l,findAllMatches:a,minMatchCharLength:i,isCaseSensitive:c,ignoreLocation:p})}static get type(){return"fuzzy"}static get multiRegex(){return/^"(.*)"$/}static get singleRegex(){return/^(.*)$/}search(n){return this._bitapSearch.searchIn(n)}}class Lf extends Un{constructor(n){super(n)}static get type(){return"include"}static get multiRegex(){return/^'"(.*)"$/}static get singleRegex(){return/^'(.*)$/}search(n){let s=0,o;const r=[],l=this.pattern.length;for(;(o=n.indexOf(this.pattern,s))>-1;)s=o+l,r.push([o,s-1]);const a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}const Ta=[rw,Lf,aw,iw,uw,cw,lw,Rf],Iu=Ta.length,pw=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/,dw="|";function fw(t,n={}){return t.split(dw).map(s=>{let o=s.trim().split(pw).filter(l=>l&&!!l.trim()),r=[];for(let l=0,a=o.length;l<a;l+=1){const i=o[l];let c=!1,p=-1;for(;!c&&++p<Iu;){const d=Ta[p];let f=d.isMultiMatch(i);f&&(r.push(new d(f,n)),c=!0)}if(!c)for(p=-1;++p<Iu;){const d=Ta[p];let f=d.isSingleMatch(i);if(f){r.push(new d(f,n));break}}}return r})}const hw=new Set([Rf.type,Lf.type]);class yw{constructor(n,{isCaseSensitive:s=he.isCaseSensitive,includeMatches:o=he.includeMatches,minMatchCharLength:r=he.minMatchCharLength,ignoreLocation:l=he.ignoreLocation,findAllMatches:a=he.findAllMatches,location:i=he.location,threshold:c=he.threshold,distance:p=he.distance}={}){this.query=null,this.options={isCaseSensitive:s,includeMatches:o,minMatchCharLength:r,findAllMatches:a,ignoreLocation:l,location:i,threshold:c,distance:p},this.pattern=s?n:n.toLowerCase(),this.query=fw(this.pattern,this.options)}static condition(n,s){return s.useExtendedSearch}searchIn(n){const s=this.query;if(!s)return{isMatch:!1,score:1};const{includeMatches:o,isCaseSensitive:r}=this.options;n=r?n:n.toLowerCase();let l=0,a=[],i=0;for(let c=0,p=s.length;c<p;c+=1){const d=s[c];a.length=0,l=0;for(let f=0,h=d.length;f<h;f+=1){const m=d[f],{isMatch:y,indices:v,score:_}=m.search(n);if(y){if(l+=1,i+=_,o){const D=m.constructor.type;hw.has(D)?a=[...a,...v]:a.push(v)}}else{i=0,l=0,a.length=0;break}}if(l){let f={isMatch:!0,score:i/l};return o&&(f.indices=a),f}}return{isMatch:!1,score:1}}}const Oa=[];function mw(...t){Oa.push(...t)}function Pa(t,n){for(let s=0,o=Oa.length;s<o;s+=1){let r=Oa[s];if(r.condition(t,n))return new r(t,n)}return new Mf(t,n)}const Vr={AND:"$and",OR:"$or"},Ia={PATH:"$path",PATTERN:"$val"},Ma=t=>!!(t[Vr.AND]||t[Vr.OR]),gw=t=>!!t[Ia.PATH],vw=t=>!gn(t)&&Tf(t)&&!Ma(t),Mu=t=>({[Vr.AND]:Object.keys(t).map(n=>({[n]:t[n]}))});function Ff(t,n,{auto:s=!0}={}){const o=r=>{let l=Object.keys(r);const a=gw(r);if(!a&&l.length>1&&!Ma(r))return o(Mu(r));if(vw(r)){const c=a?r[Ia.PATH]:l[0],p=a?r[Ia.PATTERN]:r[c];if(!en(p))throw new Error(V1(c));const d={keyId:$a(c),pattern:p};return s&&(d.searcher=Pa(p,n)),d}let i={children:[],operator:l[0]};return l.forEach(c=>{const p=r[c];gn(p)&&p.forEach(d=>{i.children.push(o(d))})}),i};return Ma(t)||(t=Mu(t)),o(t)}function _w(t,{ignoreFieldNorm:n=he.ignoreFieldNorm}){t.forEach(s=>{let o=1;s.matches.forEach(({key:r,norm:l,score:a})=>{const i=r?r.weight:null;o*=Math.pow(a===0&&i?Number.EPSILON:a,(i||1)*(n?1:l))}),s.score=o})}function ww(t,n){const s=t.matches;n.matches=[],Ct(s)&&s.forEach(o=>{if(!Ct(o.indices)||!o.indices.length)return;const{indices:r,value:l}=o;let a={indices:r,value:l};o.key&&(a.key=o.key.src),o.idx>-1&&(a.refIndex=o.idx),n.matches.push(a)})}function Aw(t,n){n.score=t.score}function bw(t,n,{includeMatches:s=he.includeMatches,includeScore:o=he.includeScore}={}){const r=[];return s&&r.push(ww),o&&r.push(Aw),t.map(l=>{const{idx:a}=l,i={item:n[a],refIndex:a};return r.length&&r.forEach(c=>{c(l,i)}),i})}class Us{constructor(n,s={},o){this.options={...he,...s},this.options.useExtendedSearch,this._keyStore=new K1(this.options.keys),this.setCollection(n,o)}setCollection(n,s){if(this._docs=n,s&&!(s instanceof Si))throw new Error(H1);this._myIndex=s||If(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}add(n){Ct(n)&&(this._docs.push(n),this._myIndex.add(n))}remove(n=()=>!1){const s=[];for(let o=0,r=this._docs.length;o<r;o+=1){const l=this._docs[o];n(l,o)&&(this.removeAt(o),o-=1,r-=1,s.push(l))}return s}removeAt(n){this._docs.splice(n,1),this._myIndex.removeAt(n)}getIndex(){return this._myIndex}search(n,{limit:s=-1}={}){const{includeMatches:o,includeScore:r,shouldSort:l,sortFn:a,ignoreFieldNorm:i}=this.options;let c=en(n)?en(this._docs[0])?this._searchStringList(n):this._searchObjectList(n):this._searchLogical(n);return _w(c,{ignoreFieldNorm:i}),l&&c.sort(a),$f(s)&&s>-1&&(c=c.slice(0,s)),bw(c,this._docs,{includeMatches:o,includeScore:r})}_searchStringList(n){const s=Pa(n,this.options),{records:o}=this._myIndex,r=[];return o.forEach(({v:l,i:a,n:i})=>{if(!Ct(l))return;const{isMatch:c,score:p,indices:d}=s.searchIn(l);c&&r.push({item:l,idx:a,matches:[{score:p,value:l,norm:i,indices:d}]})}),r}_searchLogical(n){const s=Ff(n,this.options),o=(i,c,p)=>{if(!i.children){const{keyId:f,searcher:h}=i,m=this._findMatches({key:this._keyStore.get(f),value:this._myIndex.getValueForItemAtKeyId(c,f),searcher:h});return m&&m.length?[{idx:p,item:c,matches:m}]:[]}const d=[];for(let f=0,h=i.children.length;f<h;f+=1){const m=i.children[f],y=o(m,c,p);if(y.length)d.push(...y);else if(i.operator===Vr.AND)return[]}return d},r=this._myIndex.records,l={},a=[];return r.forEach(({$:i,i:c})=>{if(Ct(i)){let p=o(s,i,c);p.length&&(l[c]||(l[c]={idx:c,item:i,matches:[]},a.push(l[c])),p.forEach(({matches:d})=>{l[c].matches.push(...d)}))}}),a}_searchObjectList(n){const s=Pa(n,this.options),{keys:o,records:r}=this._myIndex,l=[];return r.forEach(({$:a,i})=>{if(!Ct(a))return;let c=[];o.forEach((p,d)=>{c.push(...this._findMatches({key:p,value:a[d],searcher:s}))}),c.length&&l.push({idx:i,item:a,matches:c})}),l}_findMatches({key:n,value:s,searcher:o}){if(!Ct(s))return[];let r=[];if(gn(s))s.forEach(({v:l,i:a,n:i})=>{if(!Ct(l))return;const{isMatch:c,score:p,indices:d}=o.searchIn(l);c&&r.push({score:p,key:n,value:l,idx:a,norm:i,indices:d})});else{const{v:l,n:a}=s,{isMatch:i,score:c,indices:p}=o.searchIn(l);i&&r.push({score:c,key:n,value:l,norm:a,indices:p})}return r}}Us.version="6.6.2";Us.createIndex=If;Us.parseIndex=tw;Us.config=he;Us.parseQuery=Ff;mw(yw);const Ew={class:"bg-main transform",shadow:"~",p:"x-4 y-2",border:"~ transparent rounded dark:main"},Dw=["value","disabled","onKeydown"],kw=["border","onClick"],Cw={"w-4":"","text-right":"",op50:"","text-sm":""},xw=Le({__name:"Goto",setup(t){O(F);const n=Y(),s=Y(),o=Y(),r=Y(),l=Y(""),a=Y(0);function i(w){return w!=null}const c=$(()=>new Us(Qe.map(w=>{var k;return(k=w.meta)==null?void 0:k.slide}).filter(i),{keys:["no","title"],threshold:.3,shouldSort:!0,minMatchCharLength:1})),p=$(()=>l.value.startsWith("/")?l.value.substring(1):l.value),d=$(()=>c.value.search(p.value).map(w=>w.item)),f=$(()=>!!d.value.length);function h(){if(f.value){const w=d.value.at(a.value||0);w&&qs(w.no)}m()}function m(){l.value="",$s.value=!1}function y(w){w.preventDefault(),a.value++,a.value>=d.value.length&&(a.value=0),_()}function v(w){w.preventDefault(),a.value--,a.value<=-2&&(a.value=d.value.length-1),_()}function _(){var k;const w=(k=r.value)==null?void 0:k[a.value];w&&o.value&&(w.offsetTop+w.offsetHeight>o.value.offsetHeight+o.value.scrollTop?o.value.scrollTo({behavior:"smooth",top:w.offsetTop+w.offsetHeight-o.value.offsetHeight+1}):w.offsetTop<o.value.scrollTop&&o.value.scrollTo({behavior:"smooth",top:w.offsetTop}))}function D(w){a.value=0,l.value=w.target.value}function b(w){qs(w),m()}return we($s,async w=>{var k;w?(l.value="",a.value=0,setTimeout(()=>{var S;return(S=s.value)==null?void 0:S.focus()},0)):(k=s.value)==null||k.blur()}),we(Mn,()=>{var w;(w=n.value)!=null&&w.contains(Mn.value)||m()}),(w,k)=>(E(),oe("div",{id:"slidev-goto-dialog",ref_key:"container",ref:n,class:Ke(["fixed right-5 transition-all",C($s)?"top-5":"-top-20"])},[e("div",Ew,[e("input",{ref_key:"input",ref:s,value:l.value,type:"text",disabled:!C($s),class:Ke(["outline-none bg-transparent",{"text-red-400":!C(f)&&l.value}]),placeholder:"Goto...",onKeydown:[ar(h,["enter"]),ar(m,["escape"]),ar(y,["down"]),ar(v,["up"])],onInput:D},null,42,Dw)]),C(d).length>0?(E(),oe("ul",{key:0,ref_key:"list",ref:o,class:"autocomplete-list",shadow:"~",border:"~ transparent rounded dark:main"},[(E(!0),oe(Oe,null,Hs(C(d),(S,M)=>(E(),oe("li",{ref_for:!0,ref_key:"items",ref:r,key:S.id,role:"button",tabindex:"0",p:"x-4 y-2","cursor-pointer":"",hover:"op100",flex:"~ gap-2","items-center":"",border:M===0?"":"t main",class:Ke(a.value===M?"bg-active op100":"op80"),onClick:ng(H=>b(S.no),["stop"])},[e("div",Cw,hn(S.no),1),u(" "+hn(S.title),1)],10,kw))),128))],512)):ke("v-if",!0)],2))}});const Bw=N(xw,[["__scopeId","data-v-f5ee02a7"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Goto.vue"]]),Sw=Le({__name:"Controls",setup(t){O(F);const n=nn(),s=nn();return(o,r)=>(E(),oe(Oe,null,[te(x1,{modelValue:C(pt),"onUpdate:modelValue":r[0]||(r[0]=l=>Pe(pt)?pt.value=l:null)},null,8,["modelValue"]),te(Bw),C(n)?(E(),P(C(n),{key:0})):ke("v-if",!0),C(s)?(E(),P(C(s),{key:1,modelValue:C(Pl),"onUpdate:modelValue":r[1]||(r[1]=l=>Pe(Pl)?Pl.value=l:null)},null,8,["modelValue"])):ke("v-if",!0),C(Te).info?(E(),P(R1,{key:2,modelValue:C(vo),"onUpdate:modelValue":r[2]||(r[2]=l=>Pe(vo)?vo.value=l:null)},null,8,["modelValue"])):ke("v-if",!0)],64))}}),$w=N(Sw,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Controls.vue"]]),Tw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Ow=e("path",{fill:"currentColor",d:"M30 8h-4.1c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2h14.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30V8zm-9 4c-1.7 0-3-1.3-3-3s1.3-3 3-3s3 1.3 3 3s-1.3 3-3 3zM2 24h4.1c.5 2.3 2.5 4 4.9 4s4.4-1.7 4.9-4H30v-2H15.9c-.5-2.3-2.5-4-4.9-4s-4.4 1.7-4.9 4H2v2zm9-4c1.7 0 3 1.3 3 3s-1.3 3-3 3s-3-1.3-3-3s1.3-3 3-3z"},null,-1),Pw=[Ow];function Iw(t,n){return E(),oe("svg",Tw,Pw)}const Mw={name:"carbon-settings-adjust",render:Iw},Rw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Lw=e("path",{fill:"currentColor",d:"M17 22v-8h-4v2h2v6h-3v2h8v-2h-3zM16 8a1.5 1.5 0 1 0 1.5 1.5A1.5 1.5 0 0 0 16 8z"},null,-1),Fw=e("path",{fill:"currentColor",d:"M16 30a14 14 0 1 1 14-14a14 14 0 0 1-14 14Zm0-26a12 12 0 1 0 12 12A12 12 0 0 0 16 4Z"},null,-1),Nw=[Lw,Fw];function jw(t,n){return E(),oe("svg",Rw,Nw)}const qw={name:"carbon-information",render:jw},Hw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Vw=e("path",{fill:"currentColor",d:"M26 24v4H6v-4H4v4a2 2 0 0 0 2 2h20a2 2 0 0 0 2-2v-4zm0-10l-1.41-1.41L17 20.17V2h-2v18.17l-7.59-7.58L6 14l10 10l10-10z"},null,-1),Uw=[Vw];function Ww(t,n){return E(),oe("svg",Hw,Uw)}const zw={name:"carbon-download",render:Ww},Kw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},Yw=e("path",{fill:"currentColor",d:"M29.415 19L27.7 17.285A2.97 2.97 0 0 0 28 16a3 3 0 1 0-3 3a2.97 2.97 0 0 0 1.286-.3L28 20.414V28h-6v-3a7.008 7.008 0 0 0-7-7H9a7.008 7.008 0 0 0-7 7v5h28v-9.586A1.988 1.988 0 0 0 29.415 19ZM4 25a5.006 5.006 0 0 1 5-5h6a5.006 5.006 0 0 1 5 5v3H4Z"},null,-1),Gw=e("path",{fill:"currentColor",d:"M12 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7Z"},null,-1),Qw=[Yw,Gw];function Jw(t,n){return E(),oe("svg",Kw,Qw)}const Zw={name:"carbon-user-speaker",render:Jw},Xw={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},eA=e("path",{fill:"currentColor",d:"M15 10h2v8h-2zm5 4h2v4h-2zm-10-2h2v6h-2z"},null,-1),tA=e("path",{fill:"currentColor",d:"M25 4h-8V2h-2v2H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8v6h-4v2h10v-2h-4v-6h8a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm0 16H7V6h18Z"},null,-1),nA=[eA,tA];function sA(t,n){return E(),oe("svg",Xw,nA)}const oA={name:"carbon-presentation-file",render:sA},rA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},lA=e("path",{fill:"currentColor",d:"M27.307 6.107L30 3.414L28.586 2l-2.693 2.693L24.8 3.6a1.933 1.933 0 0 0-2.8 0l-18 18V28h6.4l18-18a1.933 1.933 0 0 0 0-2.8ZM9.6 26H6v-3.6L23.4 5L27 8.6ZM9 11.586L16.586 4L18 5.414L10.414 13z"},null,-1),aA=[lA];function iA(t,n){return E(),oe("svg",rA,aA)}const cA={name:"carbon-pen",render:iA},uA={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},pA=e("g",{fill:"currentColor"},[e("path",{d:"M213.66 201L201 213.66a8 8 0 0 1-11.31 0L140 164a8 8 0 0 0-13 2.46l-19.46 44.77a8 8 0 0 1-14.85-.71L40.41 50.44a8 8 0 0 1 10-10l160.1 52.24a8 8 0 0 1 .71 14.85L166.45 127a8 8 0 0 0-2.45 13l49.67 49.67a8 8 0 0 1-.01 11.33Z",opacity:".2"}),e("path",{d:"m169.64 134.33l44.77-19.46a16 16 0 0 0-1.41-29.8L52.92 32.8A16 16 0 0 0 32.8 52.92L85.07 213a15.83 15.83 0 0 0 14.41 11h.78a15.83 15.83 0 0 0 14.61-9.59l19.46-44.77L184 219.31a16 16 0 0 0 22.63 0l12.68-12.68a16 16 0 0 0 0-22.63Zm-69.48 73.76l.06-.05Zm95.15-.09l-49.67-49.67a16 16 0 0 0-26 4.94l-19.42 44.65L48 48l159.87 52.21l-44.64 19.41a16 16 0 0 0-4.94 26L208 195.31Z"})],-1),dA=[pA];function fA(t,n){return E(),oe("svg",uA,dA)}const hA={name:"ph-cursor-duotone",render:fA},yA={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},mA=e("path",{fill:"currentColor",d:"M219.31 192a16 16 0 0 1 0 22.63l-4.68 4.68a16 16 0 0 1-22.63 0l-55.25-55.24l-21.88 50.34a15.84 15.84 0 0 1-14.61 9.59h-.78a15.82 15.82 0 0 1-14.41-11L32.8 52.92A15.95 15.95 0 0 1 52.92 32.8L213 85.07a16 16 0 0 1 1.41 29.8l-50.34 21.88Z"},null,-1),gA=[mA];function vA(t,n){return E(),oe("svg",yA,gA)}const Nf={name:"ph-cursor-fill",render:vA},_A={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},wA=e("path",{fill:"currentColor",d:"M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6ZM5.394 6.813L6.81 5.399l3.505 3.506L8.9 10.319zM2 15.005h5v2H2zm3.394 10.193L8.9 21.692l1.414 1.414l-3.505 3.506zM15 25.005h2v5h-2zm6.687-1.9l1.414-1.414l3.506 3.506l-1.414 1.414zm3.313-8.1h5v2h-5zm-3.313-6.101l3.506-3.506l1.414 1.414l-3.506 3.506zM15 2.005h2v5h-2z"},null,-1),AA=[wA];function bA(t,n){return E(),oe("svg",_A,AA)}const EA={name:"carbon-sun",render:bA},DA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},kA=e("path",{fill:"currentColor",d:"M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3Z"},null,-1),CA=[kA];function xA(t,n){return E(),oe("svg",DA,CA)}const BA={name:"carbon-moon",render:xA},SA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},$A=e("path",{fill:"currentColor",d:"M8 4v4H4V4Zm2-2H2v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8Zm8 2v4h-4V4Zm2-2h-8v8h8ZM8 14v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8ZM8 24v4H4v-4Zm2-2H2v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Zm8 2v4h-4v-4Zm2-2h-8v8h8Z"},null,-1),TA=[$A];function OA(t,n){return E(),oe("svg",SA,TA)}const PA={name:"carbon-apps",render:OA},IA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},MA=e("path",{fill:"currentColor",d:"m18 6l-1.43 1.393L24.15 15H4v2h20.15l-7.58 7.573L18 26l10-10L18 6z"},null,-1),RA=[MA];function LA(t,n){return E(),oe("svg",IA,RA)}const FA={name:"carbon-arrow-right",render:LA},NA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},jA=e("path",{fill:"currentColor",d:"m14 26l1.41-1.41L7.83 17H28v-2H7.83l7.58-7.59L14 6L4 16l10 10z"},null,-1),qA=[jA];function HA(t,n){return E(),oe("svg",NA,qA)}const VA={name:"carbon-arrow-left",render:HA},UA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},WA=e("path",{fill:"currentColor",d:"M20 2v2h6.586L18 12.582L19.414 14L28 5.414V12h2V2H20zm-6 17.416L12.592 18L4 26.586V20H2v10h10v-2H5.414L14 19.416z"},null,-1),zA=[WA];function KA(t,n){return E(),oe("svg",UA,zA)}const YA={name:"carbon-maximize",render:KA},GA={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},QA=e("path",{fill:"currentColor",d:"M4 18v2h6.586L2 28.582L3.414 30L12 21.414V28h2V18H4zM30 3.416L28.592 2L20 10.586V4h-2v10h10v-2h-6.586L30 3.416z"},null,-1),JA=[QA];function ZA(t,n){return E(),oe("svg",GA,JA)}const XA={name:"carbon-minimize",render:ZA},eb={class:"slidev-icon",viewBox:"0 0 32 32",width:"1.2em",height:"1.2em"},tb=e("path",{fill:"currentColor",d:"m13 24l-9-9l1.414-1.414L13 21.171L26.586 7.586L28 9L13 24z"},null,-1),nb=[tb];function sb(t,n){return E(),oe("svg",eb,nb)}const ob={name:"carbon-checkmark",render:sb},rb={class:"select-list"},lb={class:"title"},ab={class:"items"},ib=["onClick"],cb=Le({__name:"SelectList",props:{modelValue:{type:[Object,String,Number]},title:{type:String},items:{type:Array}},setup(t,{emit:n}){const s=t;O(F);const o=Zt(s,"modelValue",n,{passive:!0});return(r,l)=>{const a=ob;return E(),oe("div",rb,[e("div",lb,hn(t.title),1),e("div",ab,[(E(!0),oe(Oe,null,Hs(t.items,i=>(E(),oe("div",{key:i.value,class:Ke(["item",{active:C(o)===i.value}]),onClick:()=>{var c;o.value=i.value,(c=i.onClick)==null||c.call(i)}},[te(a,{class:Ke(["text-green-500",{"opacity-0":C(o)!==i.value}])},null,8,["class"]),u(" "+hn(i.display||i.value),1)],10,ib))),128))])])}}});const ub=N(cb,[["__scopeId","data-v-3f89fa11"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SelectList.vue"]]),pb={class:"text-sm"},db=Le({__name:"Settings",setup(t){O(F);const n=[{display:"Fit",value:0},{display:"1:1",value:1}];return(s,o)=>(E(),oe("div",pb,[te(ub,{modelValue:C(Ar),"onUpdate:modelValue":o[0]||(o[0]=r=>Pe(Ar)?Ar.value=r:null),title:"Scale",items:n},null,8,["modelValue"])]))}}),fb=N(db,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Settings.vue"]]),hb={key:0,class:"rounded-md bg-main shadow absolute bottom-10 left-0 z-20","dark:border":"~ main"},yb=Le({__name:"MenuButton",props:{modelValue:{default:!1},disabled:{default:!1}},setup(t,{emit:n}){const s=t;O(F);const o=Zt(s,"modelValue",n,{passive:!0}),r=Y();return ev(r,()=>{o.value=!1}),(l,a)=>(E(),oe("div",{ref_key:"el",ref:r,class:"flex relative"},[e("button",{class:Ke({disabled:t.disabled}),onClick:a[0]||(a[0]=i=>o.value=!C(o))},[jn(l.$slots,"button",{class:Ke({disabled:t.disabled})})],2),(E(),P(od,null,[C(o)?(E(),oe("div",hb,[jn(l.$slots,"menu")])):ke("v-if",!0)],1024))],512))}}),mb=N(yb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/MenuButton.vue"]]),gb={class:"w-1px opacity-10 bg-current m-1 lg:m-2"},vb={__name:"VerticalDivider",setup(t){return O(F),(n,s)=>(E(),oe("div",gb))}},fr=N(vb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/VerticalDivider.vue"]]),_b={render(){return[]}},wb={class:"slidev-icon-btn"},Ab={class:"h-40px flex",p:"l-1 t-0.5 r-2",text:"sm leading-2"},bb={class:"my-auto"},Eb={class:"opacity-50"},Db=Le({__name:"NavControls",props:{persist:{default:!1}},setup(t){const n=t;O(F);const s=ka.smaller("md"),{isFullscreen:o,toggle:r}=wf,l=$(()=>La.value?`?password=${La.value}`:""),a=$(()=>`/presenter/${Ye.value}${l.value}`),i=$(()=>`/${Ye.value}${l.value}`),c=Y();function p(){c.value&&Mn.value&&c.value.contains(Mn.value)&&Mn.value.blur()}const d=$(()=>n.persist?"text-$slidev-controls-foreground bg-transparent":"rounded-md bg-main shadow dark:border dark:border-gray-400 dark:border-opacity-10"),f=nn(),h=nn();return In(()=>import("./DrawingControls-a68dff15.js"),[]).then(m=>h.value=m.default),(m,y)=>{const v=XA,_=YA,D=VA,b=FA,w=PA,k=BA,S=EA,M=Nf,H=hA,B=cA,V=oA,ne=Ir("RouterLink"),pe=Zw,K=zw,be=qw,ve=Mw;return E(),oe("nav",{ref_key:"root",ref:c,class:"flex flex-col"},[e("div",{class:Ke(["flex flex-wrap-reverse text-xl gap-0.5 p-1 lg:gap-1 lg:p-2",C(d)]),onMouseleave:p},[C(cn)?ke("v-if",!0):(E(),oe("button",{key:0,class:"slidev-icon-btn",onClick:y[0]||(y[0]=(...Ee)=>C(r)&&C(r)(...Ee))},[C(o)?(E(),P(v,{key:0})):(E(),P(_,{key:1}))])),e("button",{class:Ke(["slidev-icon-btn",{disabled:!C(a5)}]),onClick:y[1]||(y[1]=(...Ee)=>C(Ln)&&C(Ln)(...Ee))},[te(D)],2),e("button",{class:Ke(["slidev-icon-btn",{disabled:!C(l5)}]),title:"Next",onClick:y[2]||(y[2]=(...Ee)=>C(Rn)&&C(Rn)(...Ee))},[te(b)],2),C(cn)?ke("v-if",!0):(E(),oe("button",{key:1,class:"slidev-icon-btn",title:"Slides overview",onClick:y[3]||(y[3]=Ee=>C(Af)())},[te(w)])),C(Sa)?ke("v-if",!0):(E(),oe("button",{key:2,class:"slidev-icon-btn",title:"Toggle dark mode",onClick:y[4]||(y[4]=Ee=>C(Cf)())},[C(ki)?(E(),P(k,{key:0})):(E(),P(S,{key:1}))])),te(fr),C(cn)?ke("v-if",!0):(E(),oe(Oe,{key:3},[!C(gt)&&!C(s)&&C(f)?(E(),oe(Oe,{key:0},[te(C(f)),te(fr)],64)):ke("v-if",!0),C(gt)?(E(),oe("button",{key:1,class:"slidev-icon-btn",title:"Show presenter cursor",onClick:y[5]||(y[5]=Ee=>Il.value=!C(Il))},[C(Il)?(E(),P(M,{key:0})):(E(),P(H,{key:1,class:"opacity-50"}))])):ke("v-if",!0)],64)),(!C(Te).drawings.presenterOnly||C(gt))&&!C(cn)?(E(),oe(Oe,{key:4},[e("button",{class:"slidev-icon-btn relative",title:"Drawing",onClick:y[6]||(y[6]=Ee=>Xt.value=!C(Xt))},[te(B),C(Xt)?(E(),oe("div",{key:0,class:"absolute left-1 right-1 bottom-0 h-0.7 rounded-full",style:at({background:C(rs).color})},null,4)):ke("v-if",!0)]),te(fr)],64)):ke("v-if",!0),C(cn)?ke("v-if",!0):(E(),oe(Oe,{key:5},[C(gt)?(E(),P(ne,{key:0,to:C(i),class:"slidev-icon-btn",title:"Play Mode"},{default:I(()=>[te(V)]),_:1},8,["to"])):ke("v-if",!0),C(t5)?(E(),P(ne,{key:1,to:C(a),class:"slidev-icon-btn",title:"Presenter Mode"},{default:I(()=>[te(pe)]),_:1},8,["to"])):ke("v-if",!0),ke("v-if",!0)],64)),(E(),oe(Oe,{key:6},[C(Te).download?(E(),oe("button",{key:0,class:"slidev-icon-btn",onClick:y[8]||(y[8]=(...Ee)=>C(Fa)&&C(Fa)(...Ee))},[te(K)])):ke("v-if",!0)],64)),!C(gt)&&C(Te).info&&!C(cn)?(E(),oe("button",{key:7,class:"slidev-icon-btn",onClick:y[9]||(y[9]=Ee=>vo.value=!C(vo))},[te(be)])):ke("v-if",!0),!C(gt)&&!C(cn)?(E(),P(mb,{key:8},{button:I(()=>[e("button",wb,[te(ve)])]),menu:I(()=>[te(fb)]),_:1})):ke("v-if",!0),C(cn)?ke("v-if",!0):(E(),P(fr,{key:9})),e("div",Ab,[e("div",bb,[u(hn(C(Ye))+" ",1),e("span",Eb,"/ "+hn(C(n5)),1)])]),te(C(_b))],34)],512)}}}),kb=N(Db,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/NavControls.vue"]]),jf={render(){return[]}},qf={render(){return[]}},Cb={key:0,class:"absolute top-0 left-0 right-0 bottom-0 pointer-events-none text-xl"},xb=Le({__name:"PresenterMouse",setup(t){return O(F),(n,s)=>{const o=Nf;return C(Sl).cursor?(E(),oe("div",Cb,[te(o,{class:"absolute",style:at({left:`${C(Sl).cursor.x}%`,top:`${C(Sl).cursor.y}%`})},null,8,["style"])])):ke("v-if",!0)}}}),Bb=N(xb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PresenterMouse.vue"]]),Sb=Le({__name:"SlidesShow",props:{context:{type:String,required:!0}},setup(t){O(F),we(dt,()=>{var o,r;(o=dt.value)!=null&&o.meta&&dt.value.meta.preload!==!1&&(dt.value.meta.__preloaded=!0),(r=Ll.value)!=null&&r.meta&&Ll.value.meta.preload!==!1&&(Ll.value.meta.__preloaded=!0)},{immediate:!0});const n=nn();In(()=>import("./DrawingLayer-ee855a0e.js"),[]).then(o=>n.value=o.default);const s=$(()=>Qe.filter(o=>{var r;return((r=o.meta)==null?void 0:r.__preloaded)||o===dt.value}));return(o,r)=>(E(),oe(Oe,null,[ke(" Global Bottom "),te(C(qf)),ke(" Slides "),te(G9,Ue(C(u5),{id:"slideshow",tag:"div"}),{default:I(()=>[(E(!0),oe(Oe,null,Hs(C(s),l=>{var a;return cd((E(),P(C(Bi),{key:l.path,is:l==null?void 0:l.component,clicks:l===C(dt)?C(Mt):0,"clicks-elements":((a=l.meta)==null?void 0:a.__clicksElements)||[],"clicks-disabled":!1,class:Ke(C(xi)(l)),route:l,context:t.context},null,8,["is","clicks","clicks-elements","class","route","context"])),[[Id,l===C(dt)]])}),128))]),_:1},16),ke(" Global Top "),te(C(jf)),C(n)?(E(),P(C(n),{key:0})):ke("v-if",!0),C(gt)?ke("v-if",!0):(E(),P(Bb,{key:1}))],64))}});const $b=N(Sb,[["__scopeId","data-v-afb4231e"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/SlidesShow.vue"]]),Tb=Le({__name:"PrintStyle",setup(t){O(F);function n(s,{slots:o}){if(o.default)return Bt("style",o.default())}return(s,o)=>(E(),P(n,null,{default:I(()=>[u(" @page { size: "+hn(C(Pn))+"px "+hn(C(_i))+"px; margin: 0px; } ",1)]),_:1}))}}),Hf=N(Tb,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintStyle.vue"]]),Ob=Le({__name:"Play",setup(t){O(F),h1();const n=Y();function s(l){var a;wu.value||((a=l.target)==null?void 0:a.id)==="slide-container"&&(l.screenX/window.innerWidth>.6?Rn():Ln())}p5(n);const o=$(()=>D0.value||wu.value);nn();const r=nn();return In(()=>import("./DrawingControls-a68dff15.js"),[]).then(l=>r.value=l.default),(l,a)=>(E(),oe(Oe,null,[C(js)?(E(),P(Hf,{key:0})):ke("v-if",!0),e("div",{id:"page-root",ref_key:"root",ref:n,class:"grid grid-cols-[1fr_max-content]",style:at(C(wi))},[te(Bf,{class:"w-full h-full",style:at({background:"var(--slidev-slide-container-background, black)"}),width:C(js)?C(fs).width.value:void 0,scale:C(Ar),onPointerdown:s},{default:I(()=>[te($b,{context:"slide"})]),controls:I(()=>[e("div",{class:Ke(["absolute bottom-0 left-0 transition duration-300 opacity-0 hover:opacity-100",[C(o)?"opacity-100 right-0":"opacity-0 p-2",C(Mo)?"pointer-events-none":""]])},[te(kb,{class:"m-auto",persist:C(o)},null,8,["persist"])],2),!C(Te).drawings.presenterOnly&&!C(cn)&&C(r)?(E(),P(C(r),{key:0,class:"ml-0"})):ke("v-if",!0)]),_:1},8,["style","width","scale"]),ke("v-if",!0)],4),te($w)],64))}}),Pb=N(Ob,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Play.vue"]]);/*! js-yaml 4.1.0 https://github.com/nodeca/js-yaml @license MIT */function Vf(t){return typeof t>"u"||t===null}function Ib(t){return typeof t=="object"&&t!==null}function Mb(t){return Array.isArray(t)?t:Vf(t)?[]:[t]}function Rb(t,n){var s,o,r,l;if(n)for(l=Object.keys(n),s=0,o=l.length;s<o;s+=1)r=l[s],t[r]=n[r];return t}function Lb(t,n){var s="",o;for(o=0;o<n;o+=1)s+=t;return s}function Fb(t){return t===0&&Number.NEGATIVE_INFINITY===1/t}var Nb=Vf,jb=Ib,qb=Mb,Hb=Lb,Vb=Fb,Ub=Rb,$i={isNothing:Nb,isObject:jb,toArray:qb,repeat:Hb,isNegativeZero:Vb,extend:Ub};function Uf(t,n){var s="",o=t.reason||"(unknown reason)";return t.mark?(t.mark.name&&(s+='in "'+t.mark.name+'" '),s+="("+(t.mark.line+1)+":"+(t.mark.column+1)+")",!n&&t.mark.snippet&&(s+=`

`+t.mark.snippet),o+" "+s):o}function Lo(t,n){Error.call(this),this.name="YAMLException",this.reason=t,this.mark=n,this.message=Uf(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}Lo.prototype=Object.create(Error.prototype);Lo.prototype.constructor=Lo;Lo.prototype.toString=function(n){return this.name+": "+Uf(this,n)};var ss=Lo,Wb=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],zb=["scalar","sequence","mapping"];function Kb(t){var n={};return t!==null&&Object.keys(t).forEach(function(s){t[s].forEach(function(o){n[String(o)]=s})}),n}function Yb(t,n){if(n=n||{},Object.keys(n).forEach(function(s){if(Wb.indexOf(s)===-1)throw new ss('Unknown option "'+s+'" is met in definition of "'+t+'" YAML type.')}),this.options=n,this.tag=t,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(s){return s},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.representName=n.representName||null,this.defaultStyle=n.defaultStyle||null,this.multi=n.multi||!1,this.styleAliases=Kb(n.styleAliases||null),zb.indexOf(this.kind)===-1)throw new ss('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var it=Yb;function Ru(t,n){var s=[];return t[n].forEach(function(o){var r=s.length;s.forEach(function(l,a){l.tag===o.tag&&l.kind===o.kind&&l.multi===o.multi&&(r=a)}),s[r]=o}),s}function Gb(){var t={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},n,s;function o(r){r.multi?(t.multi[r.kind].push(r),t.multi.fallback.push(r)):t[r.kind][r.tag]=t.fallback[r.tag]=r}for(n=0,s=arguments.length;n<s;n+=1)arguments[n].forEach(o);return t}function Ra(t){return this.extend(t)}Ra.prototype.extend=function(n){var s=[],o=[];if(n instanceof it)o.push(n);else if(Array.isArray(n))o=o.concat(n);else if(n&&(Array.isArray(n.implicit)||Array.isArray(n.explicit)))n.implicit&&(s=s.concat(n.implicit)),n.explicit&&(o=o.concat(n.explicit));else throw new ss("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");s.forEach(function(l){if(!(l instanceof it))throw new ss("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(l.loadKind&&l.loadKind!=="scalar")throw new ss("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(l.multi)throw new ss("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),o.forEach(function(l){if(!(l instanceof it))throw new ss("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var r=Object.create(Ra.prototype);return r.implicit=(this.implicit||[]).concat(s),r.explicit=(this.explicit||[]).concat(o),r.compiledImplicit=Ru(r,"implicit"),r.compiledExplicit=Ru(r,"explicit"),r.compiledTypeMap=Gb(r.compiledImplicit,r.compiledExplicit),r};var Qb=Ra,Jb=new it("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return t!==null?t:""}}),Zb=new it("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return t!==null?t:[]}}),Xb=new it("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return t!==null?t:{}}}),e3=new Qb({explicit:[Jb,Zb,Xb]});function t3(t){if(t===null)return!0;var n=t.length;return n===1&&t==="~"||n===4&&(t==="null"||t==="Null"||t==="NULL")}function n3(){return null}function s3(t){return t===null}var o3=new it("tag:yaml.org,2002:null",{kind:"scalar",resolve:t3,construct:n3,predicate:s3,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function r3(t){if(t===null)return!1;var n=t.length;return n===4&&(t==="true"||t==="True"||t==="TRUE")||n===5&&(t==="false"||t==="False"||t==="FALSE")}function l3(t){return t==="true"||t==="True"||t==="TRUE"}function a3(t){return Object.prototype.toString.call(t)==="[object Boolean]"}var i3=new it("tag:yaml.org,2002:bool",{kind:"scalar",resolve:r3,construct:l3,predicate:a3,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"});function c3(t){return 48<=t&&t<=57||65<=t&&t<=70||97<=t&&t<=102}function u3(t){return 48<=t&&t<=55}function p3(t){return 48<=t&&t<=57}function d3(t){if(t===null)return!1;var n=t.length,s=0,o=!1,r;if(!n)return!1;if(r=t[s],(r==="-"||r==="+")&&(r=t[++s]),r==="0"){if(s+1===n)return!0;if(r=t[++s],r==="b"){for(s++;s<n;s++)if(r=t[s],r!=="_"){if(r!=="0"&&r!=="1")return!1;o=!0}return o&&r!=="_"}if(r==="x"){for(s++;s<n;s++)if(r=t[s],r!=="_"){if(!c3(t.charCodeAt(s)))return!1;o=!0}return o&&r!=="_"}if(r==="o"){for(s++;s<n;s++)if(r=t[s],r!=="_"){if(!u3(t.charCodeAt(s)))return!1;o=!0}return o&&r!=="_"}}if(r==="_")return!1;for(;s<n;s++)if(r=t[s],r!=="_"){if(!p3(t.charCodeAt(s)))return!1;o=!0}return!(!o||r==="_")}function f3(t){var n=t,s=1,o;if(n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),o=n[0],(o==="-"||o==="+")&&(o==="-"&&(s=-1),n=n.slice(1),o=n[0]),n==="0")return 0;if(o==="0"){if(n[1]==="b")return s*parseInt(n.slice(2),2);if(n[1]==="x")return s*parseInt(n.slice(2),16);if(n[1]==="o")return s*parseInt(n.slice(2),8)}return s*parseInt(n,10)}function h3(t){return Object.prototype.toString.call(t)==="[object Number]"&&t%1===0&&!$i.isNegativeZero(t)}var y3=new it("tag:yaml.org,2002:int",{kind:"scalar",resolve:d3,construct:f3,predicate:h3,represent:{binary:function(t){return t>=0?"0b"+t.toString(2):"-0b"+t.toString(2).slice(1)},octal:function(t){return t>=0?"0o"+t.toString(8):"-0o"+t.toString(8).slice(1)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return t>=0?"0x"+t.toString(16).toUpperCase():"-0x"+t.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),m3=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function g3(t){return!(t===null||!m3.test(t)||t[t.length-1]==="_")}function v3(t){var n,s;return n=t.replace(/_/g,"").toLowerCase(),s=n[0]==="-"?-1:1,"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?s===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:s*parseFloat(n,10)}var _3=/^[-+]?[0-9]+e/;function w3(t,n){var s;if(isNaN(t))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if($i.isNegativeZero(t))return"-0.0";return s=t.toString(10),_3.test(s)?s.replace("e",".e"):s}function A3(t){return Object.prototype.toString.call(t)==="[object Number]"&&(t%1!==0||$i.isNegativeZero(t))}var b3=new it("tag:yaml.org,2002:float",{kind:"scalar",resolve:g3,construct:v3,predicate:A3,represent:w3,defaultStyle:"lowercase"}),E3=e3.extend({implicit:[o3,i3,y3,b3]}),D3=E3,Wf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),zf=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function k3(t){return t===null?!1:Wf.exec(t)!==null||zf.exec(t)!==null}function C3(t){var n,s,o,r,l,a,i,c=0,p=null,d,f,h;if(n=Wf.exec(t),n===null&&(n=zf.exec(t)),n===null)throw new Error("Date resolve error");if(s=+n[1],o=+n[2]-1,r=+n[3],!n[4])return new Date(Date.UTC(s,o,r));if(l=+n[4],a=+n[5],i=+n[6],n[7]){for(c=n[7].slice(0,3);c.length<3;)c+="0";c=+c}return n[9]&&(d=+n[10],f=+(n[11]||0),p=(d*60+f)*6e4,n[9]==="-"&&(p=-p)),h=new Date(Date.UTC(s,o,r,l,a,i,c)),p&&h.setTime(h.getTime()-p),h}function x3(t){return t.toISOString()}var B3=new it("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:k3,construct:C3,instanceOf:Date,represent:x3});function S3(t){return t==="<<"||t===null}var $3=new it("tag:yaml.org,2002:merge",{kind:"scalar",resolve:S3}),Ti=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function T3(t){if(t===null)return!1;var n,s,o=0,r=t.length,l=Ti;for(s=0;s<r;s++)if(n=l.indexOf(t.charAt(s)),!(n>64)){if(n<0)return!1;o+=6}return o%8===0}function O3(t){var n,s,o=t.replace(/[\r\n=]/g,""),r=o.length,l=Ti,a=0,i=[];for(n=0;n<r;n++)n%4===0&&n&&(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)),a=a<<6|l.indexOf(o.charAt(n));return s=r%4*6,s===0?(i.push(a>>16&255),i.push(a>>8&255),i.push(a&255)):s===18?(i.push(a>>10&255),i.push(a>>2&255)):s===12&&i.push(a>>4&255),new Uint8Array(i)}function P3(t){var n="",s=0,o,r,l=t.length,a=Ti;for(o=0;o<l;o++)o%3===0&&o&&(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]),s=(s<<8)+t[o];return r=l%3,r===0?(n+=a[s>>18&63],n+=a[s>>12&63],n+=a[s>>6&63],n+=a[s&63]):r===2?(n+=a[s>>10&63],n+=a[s>>4&63],n+=a[s<<2&63],n+=a[64]):r===1&&(n+=a[s>>2&63],n+=a[s<<4&63],n+=a[64],n+=a[64]),n}function I3(t){return Object.prototype.toString.call(t)==="[object Uint8Array]"}var M3=new it("tag:yaml.org,2002:binary",{kind:"scalar",resolve:T3,construct:O3,predicate:I3,represent:P3}),R3=Object.prototype.hasOwnProperty,L3=Object.prototype.toString;function F3(t){if(t===null)return!0;var n=[],s,o,r,l,a,i=t;for(s=0,o=i.length;s<o;s+=1){if(r=i[s],a=!1,L3.call(r)!=="[object Object]")return!1;for(l in r)if(R3.call(r,l))if(!a)a=!0;else return!1;if(!a)return!1;if(n.indexOf(l)===-1)n.push(l);else return!1}return!0}function N3(t){return t!==null?t:[]}var j3=new it("tag:yaml.org,2002:omap",{kind:"sequence",resolve:F3,construct:N3}),q3=Object.prototype.toString;function H3(t){if(t===null)return!0;var n,s,o,r,l,a=t;for(l=new Array(a.length),n=0,s=a.length;n<s;n+=1){if(o=a[n],q3.call(o)!=="[object Object]"||(r=Object.keys(o),r.length!==1))return!1;l[n]=[r[0],o[r[0]]]}return!0}function V3(t){if(t===null)return[];var n,s,o,r,l,a=t;for(l=new Array(a.length),n=0,s=a.length;n<s;n+=1)o=a[n],r=Object.keys(o),l[n]=[r[0],o[r[0]]];return l}var U3=new it("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:H3,construct:V3}),W3=Object.prototype.hasOwnProperty;function z3(t){if(t===null)return!0;var n,s=t;for(n in s)if(W3.call(s,n)&&s[n]!==null)return!1;return!0}function K3(t){return t!==null?t:{}}var Y3=new it("tag:yaml.org,2002:set",{kind:"mapping",resolve:z3,construct:K3});D3.extend({implicit:[B3,$3],explicit:[M3,j3,U3,Y3]});function Lu(t){return t===48?"\0":t===97?"\x07":t===98?"\b":t===116||t===9?"	":t===110?`
`:t===118?"\v":t===102?"\f":t===114?"\r":t===101?"\x1B":t===32?" ":t===34?'"':t===47?"/":t===92?"\\":t===78?"":t===95?" ":t===76?"\u2028":t===80?"\u2029":""}var G3=new Array(256),Q3=new Array(256);for(var Cs=0;Cs<256;Cs++)G3[Cs]=Lu(Cs)?1:0,Q3[Cs]=Lu(Cs);function J3(t){return Array.from(new Set(t))}function Fu(...t){let n,s,o;t.length===1?(n=0,o=1,[s]=t):[n,s,o=1]=t;const r=[];let l=n;for(;l<s;)r.push(l),l+=o||1;return r}function Kf(t,n){if(!n||n==="all"||n==="*")return Fu(1,t+1);const s=[];for(const o of n.split(/[,;]/g))if(!o.includes("-"))s.push(+o);else{const[r,l]=o.split("-",2);s.push(...Fu(+r,l?+l+1:t+1))}return J3(s).filter(o=>o<=t).sort((o,r)=>o-r)}function Yf(t){const n=$(()=>t.value.path),s=$(()=>Qe.length-1),o=$(()=>parseInt(n.value.split(/\//g).slice(-1)[0])||1),r=$(()=>pl(o.value)),l=$(()=>Qe.find(h=>h.path===`${o.value}`)),a=$(()=>{var h,m,y;return(y=(m=(h=l.value)==null?void 0:h.meta)==null?void 0:m.slide)==null?void 0:y.id}),i=$(()=>{var h,m;return((m=(h=l.value)==null?void 0:h.meta)==null?void 0:m.layout)||(o.value===1?"cover":"default")}),c=$(()=>Qe.find(h=>h.path===`${Math.min(Qe.length,o.value+1)}`)),p=$(()=>Qe.filter(h=>{var m,y;return(y=(m=h.meta)==null?void 0:m.slide)==null?void 0:y.title}).reduce((h,m)=>(Oi(h,m),h),[])),d=$(()=>Pi(p.value,l.value)),f=$(()=>Ii(d.value));return{route:t,path:n,total:s,currentPage:o,currentPath:r,currentRoute:l,currentSlideId:a,currentLayout:i,nextRoute:c,rawTree:p,treeWithActiveStatuses:d,tree:f,downloadPDF:Fa,next:Rn,nextSlide:Fo,openInEditor:d5,prev:Ln,prevSlide:No}}function Gf(t,n,s){const o=Y(0);lt(()=>{_t.afterEach(async()=>{await lt(),o.value+=1})});const r=$(()=>{var c,p;return o.value,((p=(c=n.value)==null?void 0:c.meta)==null?void 0:p.__clicksElements)||[]}),l=$(()=>{var c,p;return+(((p=(c=n.value)==null?void 0:c.meta)==null?void 0:p.clicks)??r.value.length)}),a=$(()=>s.value<Qe.length-1||t.value<l.value),i=$(()=>s.value>1||t.value>0);return{clicks:t,clicksElements:r,clicksTotal:l,hasNext:a,hasPrev:i}}const Z3=["id"],X3=Le({__name:"PrintSlideClick",props:{clicks:{type:Number,required:!0},clicksElements:{type:Array,required:!1},nav:{type:null,required:!0},route:{type:null,required:!0}},emits:["update:clicksElements"],setup(t,{emit:n}){const s=t,o=Zt(s,"clicksElements",n),r=$(()=>({height:`${_i}px`,width:`${Pn}px`})),l=nn();In(()=>Promise.resolve().then(()=>E1),void 0).then(p=>l.value=p.default);const a=$(()=>s.clicks),i=Gf(a,s.nav.currentRoute,s.nav.currentPage),c=$(()=>`${s.route.path.toString().padStart(3,"0")}-${(a.value+1).toString().padStart(2,"0")}`);return kt(F,Ve({nav:{...s.nav,...i},configs:Te,themeConfigs:$(()=>Te.themeConfig)})),(p,d)=>{var f;return E(),oe("div",{id:C(c),class:"print-slide-container",style:at(C(r))},[te(C(qf)),te(C(Bi),{is:(f=t.route)==null?void 0:f.component,"clicks-elements":C(o),"onUpdate:clicksElements":d[0]||(d[0]=h=>Pe(o)?o.value=h:null),clicks:C(a),"clicks-disabled":!1,class:Ke(C(xi)(t.route)),route:t.route},null,8,["is","clicks-elements","clicks","class","route"]),C(l)?(E(),P(C(l),{key:0,page:+t.route.path},null,8,["page"])):ke("v-if",!0),te(C(jf))],12,Z3)}}}),Nu=N(X3,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintSlideClick.vue"]]),eE=Le({__name:"PrintSlide",props:{route:{type:null,required:!0}},setup(t){var l;const n=t;O(F);const s=Y(((l=n.route.meta)==null?void 0:l.__clicksElements)||[]),o=$(()=>n.route),r=Yf(o);return(a,i)=>(E(),oe(Oe,null,[te(Nu,{"clicks-elements":s.value,"onUpdate:clicksElements":i[0]||(i[0]=c=>s.value=c),clicks:0,nav:C(r),route:C(o)},null,8,["clicks-elements","nav","route"]),C(_o)?ke("v-if",!0):(E(!0),oe(Oe,{key:0},Hs(s.value.length,c=>(E(),P(Nu,{key:c,clicks:c,nav:C(r),route:C(o)},null,8,["clicks","nav","route"]))),128))],64))}}),tE=N(eE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintSlide.vue"]]),nE={id:"print-content"},sE=Le({__name:"PrintContainer",props:{width:{type:Number,required:!0}},setup(t){const n=t;O(F);const s=$(()=>n.width),o=$(()=>n.width/On),r=$(()=>s.value/o.value),l=$(()=>r.value<On?s.value/Pn:o.value*On/Pn);let a=Qe.slice(0,-1);Lt.value.query.range&&(a=Kf(a.length,Lt.value.query.range).map(p=>a[p-1]));const i=$(()=>({"select-none":!Te.selectable,"slidev-code-line-numbers":Te.lineNumbers}));return kt(Vd,l),(c,p)=>(E(),oe("div",{id:"print-container",class:Ke(C(i))},[e("div",nE,[(E(!0),oe(Oe,null,Hs(C(a),d=>(E(),P(tE,{key:d.path,route:d},null,8,["route"]))),128))]),jn(c.$slots,"controls")],2))}});const oE=N(sE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/PrintContainer.vue"]]),rE=Le({__name:"Print",setup(t){return O(F),vs(()=>{js?document.body.parentNode.classList.add("print"):document.body.parentNode.classList.remove("print")}),(n,s)=>(E(),oe(Oe,null,[C(js)?(E(),P(Hf,{key:0})):ke("v-if",!0),e("div",{id:"page-root",class:"grid grid-cols-[1fr_max-content]",style:at(C(wi))},[te(oE,{class:"w-full h-full",style:at({background:"var(--slidev-slide-container-background, black)"}),width:C(fs).width.value},null,8,["style","width"])],4)],64))}});const lE=N(rE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/internals/Print.vue"]]);const aE={class:"slidev-layout end"},iE={__name:"end",setup(t){return O(F),(n,s)=>(E(),oe("div",aE," END "))}},cE=N(iE,[["__scopeId","data-v-e532b98d"],["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/layouts/end.vue"]]),uE="/owasp-top-ten-workshop/images/nearform.svg",pE="/owasp-top-ten-workshop/assets/owasp-8902e583.png",dE={class:"slidev-layout default"},fE={__name:"default",setup(t){return O(F),(n,s)=>(E(),oe("div",dE,[jn(n.$slots,"default")]))}},Z=N(fE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/layouts/default.vue"]]),hE=e("img",{class:"logo",src:uE},null,-1),yE=e("h1",null,"OWASP Top Ten Security Vulnerabilities Workshop",-1),mE=e("img",{src:pE,style:{width:"30%"}},null,-1),gE=e("div",{class:"copyright"},[e("p",null,"© Copyright 2022 NearForm Ltd. All Rights Reserved.")],-1),vE={__name:"1",setup(t){const n={theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[hE,yE,mE,gE]),_:1},16))}},_E=N(vE,[["__file","/@slidev/slides/1.md"]]),wE=e("h1",null,"Introduction: OWASP 🐝",-1),AE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("p",null,[u("The Open Web Application Security Project ("),e("strong",null,"OWASP"),u(") is a "),e("strong",null,"non profit"),u(" foundation that works to improve the security of software")])]),e("li",null,[e("p",null,[u("OWASP has community-led "),e("strong",null,"open-source"),u(" software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences")])])])],-1),bE={__name:"2",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[wE,AE]),_:1},16))}},EE=N(bE,[["__file","/@slidev/slides/2.md"]]),DE=e("h1",null,"Introduction: OWASP Top Ten",-1),kE=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("The "),e("strong",null,[e("a",{href:"https://owasp.org/Top10/",target:"_blank",rel:"noopener"},"OWASP Top Ten")]),u(" is a standard awareness document for developers and web application security")]),e("li",null,"It represents a broad consensus about the most critical security risks to web applications")])],-1),CE={__name:"3",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[DE,kE]),_:1},16))}},xE=N(CE,[["__file","/@slidev/slides/3.md"]]),BE=e("h1",null,"Workshop Setup",-1),SE=e("div",{class:"dense"},[e("ul",null,[e("li",null,"This workshop will explain each of the 10 vulnerabilities"),e("li",null,"There is a Fastify node.js server demonstrating the security issues"),e("li",null,"At each step you are asked to fix the vulnerability in the server"),e("li",null,[u("You will find the solution to each step in the file "),e("code",null,"solution.js"),u(" inside "),e("code",null,"src/a{n}-{name}"),u(" folder (the actual path may vary)")]),e("li",null,"The 💡 icon indicates hints")])],-1),$E={__name:"4",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[BE,SE]),_:1},16))}},TE=N($E,[["__file","/@slidev/slides/4.md"]]),OE={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},PE=e("path",{fill:"currentColor",d:"M200 32h-36.26a47.92 47.92 0 0 0-71.48 0H56a16 16 0 0 0-16 16v168a16 16 0 0 0 16 16h144a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16Zm-72 0a32 32 0 0 1 32 32H96a32 32 0 0 1 32-32Zm72 184H56V48h26.75A47.93 47.93 0 0 0 80 64v8a8 8 0 0 0 8 8h80a8 8 0 0 0 8-8v-8a47.93 47.93 0 0 0-2.75-16H200Z"},null,-1),IE=[PE];function ME(t,n){return E(),oe("svg",OE,IE)}const RE={name:"ph-clipboard",render:ME},LE={class:"slidev-icon",viewBox:"0 0 256 256",width:"1.2em",height:"1.2em"},FE=e("path",{fill:"currentColor",d:"M173.66 98.34a8 8 0 0 1 0 11.32l-56 56a8 8 0 0 1-11.32 0l-24-24a8 8 0 0 1 11.32-11.32L112 148.69l50.34-50.35a8 8 0 0 1 11.32 0ZM232 128A104 104 0 1 1 128 24a104.11 104.11 0 0 1 104 104Zm-16 0a88 88 0 1 0-88 88a88.1 88.1 0 0 0 88-88Z"},null,-1),NE=[FE];function jE(t,n){return E(),oe("svg",LE,NE)}const qE={name:"ph-check-circle",render:jE},HE=["title"],VE=Le({__name:"CodeBlockWrapper",props:{ranges:{default:()=>[]},at:{type:Number,default:void 0},maxHeight:{type:String,default:void 0}},setup(t){const n=t;O(F);const s=O(ho),o=O(ts),r=O(yo);function l(f=5){const h=[],m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",y=m.length;for(let v=0;v<f;v++)h.push(m.charAt(Math.floor(Math.random()*y)));return h.join("")}const a=Y(),i=Tt();_s(()=>{const f=n.at==null?o==null?void 0:o.value.length:n.at,h=$(()=>r!=null&&r.value?n.ranges.length-1:Math.min(Math.max(0,((s==null?void 0:s.value)||0)-(f||0)),n.ranges.length-1)),m=$(()=>n.ranges[h.value]||"");if(n.ranges.length>=2&&!(r!=null&&r.value)){const y=l(),v=i6(n.ranges.length-1).map(_=>y+_);o!=null&&o.value&&(o.value.push(...v),ll(()=>v.forEach(_=>ha(o.value,_)),i))}vs(()=>{if(!a.value)return;const v=a.value.querySelector(".shiki-dark")?Array.from(a.value.querySelectorAll(".shiki")):[a.value];for(const _ of v){const D=Array.from(_.querySelectorAll(".line")),b=Kf(D.length,m.value);if(D.forEach((w,k)=>{const S=b.includes(k+1);w.classList.toggle(Zn,!0),w.classList.toggle("highlighted",S),w.classList.toggle("dishonored",!S)}),n.maxHeight){const w=Array.from(_.querySelectorAll(".line.highlighted"));w.reduce((S,M)=>M.offsetHeight+S,0)>a.value.offsetHeight?w[0].scrollIntoView({behavior:"smooth",block:"start"}):w.length>0&&w[Math.round((w.length-1)/2)].scrollIntoView({behavior:"smooth",block:"center"})}}})});const{copied:c,copy:p}=uv();function d(){var h,m;const f=(m=(h=a.value)==null?void 0:h.querySelector(".slidev-code"))==null?void 0:m.textContent;f&&p(f)}return(f,h)=>{const m=qE,y=RE;return E(),oe("div",{ref_key:"el",ref:a,class:"slidev-code-wrapper relative group",style:at({"max-height":n.maxHeight,"overflow-y":n.maxHeight?"scroll":void 0})},[jn(f.$slots,"default"),C(Te).codeCopy?(E(),oe("button",{key:0,class:"slidev-code-copy absolute top-0 right-0 transition opacity-0 group-hover:opacity-20 hover:!opacity-100",title:C(c)?"Copied":"Copy",onClick:h[0]||(h[0]=v=>d())},[C(c)?(E(),P(m,{key:0,class:"p-2 w-8 h-8"})):(E(),P(y,{key:1,class:"p-2 w-8 h-8"}))],8,HE)):ke("v-if",!0)],4)}}}),tt=N(VE,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/builtin/CodeBlockWrapper.vue"]]),UE=e("h1",null,"Getting setup",-1),WE={class:"dense"},zE=e("h4",null,"Requirements",-1),KE=e("br",null,null,-1),YE=e("ul",null,[e("li",null,"Node LTS"),e("li",null,"docker"),e("li",null,"docker-compose"),e("li",null,"Postman (if you want to be able to test vulnerabilities)")],-1),GE=e("h4",null,"Setup",-1),QE=e("br",null,null,-1),JE=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"git"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"clone"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"https://github.com/nearform/owasp-top-ten-workshop")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"ci")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"run"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"db:up")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"run"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"db:migrate")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"git"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"clone"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"https://github.com/nearform/owasp-top-ten-workshop")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"ci")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"run"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"db:up")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"run"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"db:migrate")])])])],-1),ZE={__name:"5",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[UE,e("div",WE,[zE,KE,YE,GE,QE,te(r,Ue({},{ranges:[""]}),{default:I(()=>[JE]),_:1},16)])]),_:1},16)}}},XE=N(ZE,[["__file","/@slidev/slides/5.md"]]),eD=e("h1",null,"Running the modules",-1),tD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("code",null,"cd src/a{x}-step-name")]),e("li",null,[e("code",null,"npm start"),u(" will run the server ready to respond to requests")]),e("li",null,[e("code",null,"npm run verify"),u(" will run automated tests that fail by default until this step’s issue is solved")]),e("li",null,"Check out README.md in the projects for potential additional info")])],-1),nD=e("h3",null,"Example",-1),sD=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#B8A965"}},"cd"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"src/a01-access-control")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#80A665"}},"npm"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D"}},"start")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#998418"}},"cd"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"src/a01-access-control")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#59873A"}},"npm"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B56959"}},"start")])])])],-1),oD=e("p",null,[u("The server for that step will run on "),e("a",{href:"http://localhost:3000",target:"_blank",rel:"noopener"},"http://localhost:3000")],-1),rD={__name:"6",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[eD,tD,nD,te(r,Ue({},{ranges:[""]}),{default:I(()=>[sD]),_:1},16),oD]),_:1},16)}}},lD=N(rD,[["__file","/@slidev/slides/6.md"]]),aD=e("h1",null,"Testing the vulnerabilities",-1),iD=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests"),e("li",null,[u("The "),e("code",null,"postman"),u(" folder contains a collection that can be imported into Postman to easily send those requests")]),e("li",null,[u("The Postman collection is pre-logged in with user "),e("code",null,"alice"),u(". The "),e("code",null,"Bearer token"),u(" is set that represents "),e("code",null,"alice"),u(".")])])],-1),cD={__name:"7",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[aD,iD]),_:1},16))}},uD=N(cD,[["__file","/@slidev/slides/7.md"]]),pD=e("h1",null,"Automated testing",-1),dD=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Some vulnerabilities have automated tests which verify the presence of the vulnerability"),e("li",null,"Those tests will fail until you fix the vulnerability"),e("li",null,[e("code",null,"npm run verify"),u(" in a step’s folder")])])],-1),fD={__name:"8",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[pD,dD]),_:1},16))}},hD=N(fD,[["__file","/@slidev/slides/8.md"]]),yD=e("h1",null,"A01 Broken Access Control",-1),mD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A01_2021-Broken_Access_Control/",target:"_blank",rel:"noopener"},"AO1:2021 - Broken Access Control")]),e("li",null,"User should only act based on specific permissions"),e("li",null,"Incorrect permissions -> unauthorised access of data")])],-1),gD={__name:"9",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[yD,mD]),_:1},16))}},vD=N(gD,[["__file","/@slidev/slides/9.md"]]),_D=e("h1",null,"A01 Common vulnerabilities",-1),wD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Not applying principle of "),e("strong",null,"least privilege")]),e("li",null,"Checks can be bypassed by tampering with page or request"),e("li",null,"Allowing access to someone else’s info by knowing the UUID"),e("li",null,"CORS allows untrusted origins")])],-1),AD={__name:"10",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[_D,wD]),_:1},16))}},bD=N(AD,[["__file","/@slidev/slides/10.md"]]),ED=e("h1",null,"A01 How to Prevent",-1),DD=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Deny access by default"),e("li",null,"Avoid duplication of access control logic"),e("li",null,[u("Enforce "),e("strong",null,"user ownership"),u(" when manipulating data")])])],-1),kD={__name:"11",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[ED,DD]),_:1},16))}},CD=N(kD,[["__file","/@slidev/slides/11.md"]]),xD=e("h1",null,"A01 Exercise",-1),BD={class:"dense"},SD=e("ul",null,[e("li",null,[u("The "),e("code",null,"/profile"),u(" route returns sensitive user data")]),e("li",null,[u("It takes a "),e("code",null,"username"),u(" query parameter to return the user’s info")])],-1),$D=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#dbd7caee"}},"GET http://localhost:3000/profile?username=alice")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#393a34"}},"GET http://localhost:3000/profile?username=alice")])])])],-1),TD=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"1"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"23")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"1"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"23")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),OD={__name:"12",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[xD,e("div",BD,[SD,$D,te(r,Ue({},{ranges:[""]}),{default:I(()=>[TD]),_:1},16)])]),_:1},16)}}},PD=N(OD,[["__file","/@slidev/slides/12.md"]]),ID=e("h1",null,"A01 The problem",-1),MD={class:"dense"},RD=e("ul",null,[e("li",null,[u("Run the server for step 1 ("),e("code",null,"cd src/a01-access-control"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,"In Postman, run the query for A01: Access Control. Observe the data for Alice being returned"),e("li",null,[u("Now change the "),e("code",null,"username"),u(" query parameter to "),e("code",null,"bob"),u(". Result:")])],-1),LD=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"id"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"age"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"31")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"id"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"age"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"31")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),FD=e("ul",null,[e("li",null,"Bob’s data is being exposed! Remember we’re logged in as Alice and shouldn’t see Bob’s data")],-1),ND={__name:"13",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[ID,e("div",MD,[RD,te(r,Ue({},{ranges:[""]}),{default:I(()=>[LD]),_:1},16),FD])]),_:1},16)}}},jD=N(ND,[["__file","/@slidev/slides/13.md"]]),qD=e("h1",null,"A01 Fixing it 🪄",-1),HD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the automated tests for step 1 - "),e("code",null,"npm run verify")]),e("li",null,"The tests fail because the server shouldn’t return Bob’s data"),e("li",null,[u("Edit the "),e("code",null,"/profile"),u(" route in the exercise folder to return only the "),e("code",null,"logged-in"),u(" user’s profile without exposing other people’s profiles")]),e("li",null,[u("💡 The server uses "),e("a",{href:"https://github.com/fastify/fastify-jwt",target:"_blank",rel:"noopener"},"fastify-jwt"),u(" to handle authentication")])])],-1),VD={__name:"14",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[qD,HD]),_:1},16))}},UD=N(VD,[["__file","/@slidev/slides/14.md"]]),WD=e("h1",null,"A01 Solution 💡",-1),zD={class:"dense"},KD=e("ul",null,[e("li",null,[u("The issue comes from the usage of a user-supplied "),e("code",null,"query"),u(" parameter to choose which profile’s info to check")]),e("li",null,[u("The server should instead fetch the only the "),e("code",null,"logged-in"),u(" user’s info and reply with "),e("code",null,"403"),u(" in other cases")])],-1),YD=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// 💡 We get the username from the logged in user, not from the query!")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"query"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Forbidden"),e("span",{style:{color:"#666666"}},"()"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// if does not match with the user's one, return a 403 Forbidden error")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// 💡 We get the username from the logged in user, not from the query!")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Forbidden"),e("span",{style:{color:"#999999"}},"()"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// if does not match with the user's one, return a 403 Forbidden error")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),GD={__name:"15",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[WD,e("div",zD,[KD,te(r,Ue({},{ranges:[""]}),{default:I(()=>[YD]),_:1},16)])]),_:1},16)}}},QD=N(GD,[["__file","/@slidev/slides/15.md"]]),JD=e("h1",null,"A02 Cryptographic Failures",-1),ZD=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A02_2021-Cryptographic_Failures/",target:"_blank",rel:"noopener"},"A02: Cryptographic Failures")]),e("li",null,[u("Weak or inexistent "),e("strong",null,"cryptography"),u(" of sensitive data")]),e("li",null,"Passwords, credit card numbers, health records, personal information, business secrets…"),e("li",null,"Anything protected by privacy laws or other regulations")])],-1),XD={__name:"16",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[JD,ZD]),_:1},16))}},e7=N(XD,[["__file","/@slidev/slides/16.md"]]),t7=e("h1",null,"A02 Common vulnerabilities",-1),n7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Weak or outdated cryptographic algorithms like "),e("strong",null,"md5 ⚠️")]),e("li",null,"Weak secret keys, default ones, keys from online tutorials, keys checked in source control…"),e("li",null,[u("Lack of traffic encryption ("),e("strong",null,"HTTPS"),u(")")]),e("li",null,"Insufficient entropy in seed generation")])],-1),s7={__name:"17",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[t7,n7]),_:1},16))}},o7=N(s7,[["__file","/@slidev/slides/17.md"]]),r7=e("h1",null,"A02 How to Prevent",-1),l7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Check sensitive data is well "),e("strong",null,"encrypted"),u(". Avoid storing sensitive data unnecessarily")]),e("li",null,"Use up to date and strong standard algorithms"),e("li",null,[u("Proper key/secrets management ("),e("strong",null,"private keys in git ⚠️"),u(")")]),e("li",null,"Disable caching for responses that contain sensitive data")])],-1),a7={__name:"18",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[r7,l7]),_:1},16))}},i7=N(a7,[["__file","/@slidev/slides/18.md"]]),c7=e("h1",null,"A02 A weak hashing algorithm",-1),u7={class:"dense"},p7=e("ul",null,[e("li",null,[u("The "),e("code",null,"/all-data"),u(" endpoint returns all users and their passwords (hashed using md5). Imagine this as a data breach")]),e("li",null,[u("Result of the "),e("code",null,"all-data"),u(" endpoint")])],-1),d7=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"[")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"bob"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#C98A7D99"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"alice"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#B8A965"}},"password"),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#C98A7D99"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"]")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"[")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"bob"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"884a22eb30e5cfd71894d43ac553faa5"),e("span",{style:{color:"#B5695999"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"alice"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#998418"}},"password"),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"5e9d11a14ad1c8dd77e98ef9b53fd1ba"),e("span",{style:{color:"#B5695999"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"]")])])])],-1),f7={__name:"19",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[c7,e("div",u7,[p7,te(r,Ue({},{ranges:[""]}),{default:I(()=>[d7]),_:1},16)])]),_:1},16)}}},h7=N(f7,[["__file","/@slidev/slides/19.md"]]),y7=e("h1",null,"A02 The problem",-1),m7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Using the "),e("code",null,"/all-data"),u(" route, find Alice’s hashed password")]),e("li",null,"With this password hash, try to find the original password Alice created"),e("li",null,"the Postman collection contains requests for doing the queries"),e("li",null,"💡 There are websites to decrypt md5")])],-1),g7={__name:"20",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[y7,m7]),_:1},16))}},v7=N(g7,[["__file","/@slidev/slides/20.md"]]),_7=e("h1",null,"A02 Fixing it 🪄",-1),w7=e("div",{class:"dense"},[e("ul",null,[e("li",null,"md5 hash is vulnerable and shouldn’t be used"),e("li",null,[u("In "),e("code",null,"src/a02-cryptographic-failure"),u(", fix the hashing algorithm used to be a strong algorithm instead of md5")]),e("li",null,[u("Using "),e("a",{href:"https://www.npmjs.com/package/bcrypt",target:"_blank",rel:"noopener"},"bcrypt"),u(" is a good idea for passwords")]),e("li",null,[u("The application exposes a "),e("code",null,"/change-password"),u(" route used to change a user’s password")])])],-1),A7={__name:"21",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[_7,w7]),_:1},16))}},b7=N(A7,[["__file","/@slidev/slides/21.md"]]),E7=e("h1",null,"A02 Solution 💡",-1),D7={class:"dense"},k7=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// utils/crypto.js")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"import"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"hash"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"compare"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"from"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"bcrypt"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"saltRounds"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"10")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"hashPassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"hash"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"saltRounds"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// utils/crypto.js")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"import"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"compare"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"from"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"bcrypt"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"10")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"hashPassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"hash"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"saltRounds"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),C7={__name:"22",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[E7,e("div",D7,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[k7]),_:1},16)])]),_:1},16)}}},x7=N(C7,[["__file","/@slidev/slides/22.md"]]),B7=e("h1",null,"A02 Solution 💡 (2)",-1),S7={class:"dense"},$7=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// utils/crypto.js")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"hash"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"compare"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"hash"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// utils/crypto.js")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"compare"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"hash"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),T7={__name:"23",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[B7,e("div",S7,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[$7]),_:1},16)])]),_:1},16)}}},O7=N(T7,[["__file","/@slidev/slides/23.md"]]),P7=e("h1",null,"A03 Injection 💉",-1),I7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A03_2021-Injection/",target:"_blank",rel:"noopener"},"A03: Injection")]),e("li",null,"Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server"),e("li",null,"Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover."),e("li",null,[u("Common targets: "),e("strong",null,"SQL, NoSQL, ORM, LDAP, JS eval")])])],-1),M7={__name:"24",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[P7,I7]),_:1},16))}},R7=N(M7,[["__file","/@slidev/slides/24.md"]]),L7=e("h1",null,"A03 Common vulnerabilities",-1),F7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Lack of validation or "),e("strong",null,"sanitization"),u(" of user input")]),e("li",null,[u("Dynamic queries or non-parameterized calls without context-aware "),e("strong",null,"escaping"),u(" are used directly in the interpreter")]),e("li",null,[u("Hostile data is used within object-relational mapping (ORM) "),e("strong",null,"search parameters"),u(" to extract additional, sensitive records")])])],-1),N7={__name:"25",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[L7,F7]),_:1},16))}},j7=N(N7,[["__file","/@slidev/slides/25.md"]]),q7=e("h1",null,"A03 Attack",-1),H7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 3 ("),e("code",null,"cd src/a03-injection"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A03: Get customer by name"),u(". Observe the data for "),e("code",null,'name: "alice"'),u(" being returned")]),e("li",null,[u("Try to run the query for "),e("code",null,"A03: SQL Injection"),u(". Observe all the customers being returned")]),e("li",null,[u("The query param value "),e("code",null,"' OR '1'='1"),u(" takes advantage of the unsafe string concatenation to create this SQL query "),e("code",null,"SELECT * FROM customers WHERE name='' OR '1'='1'"),u(" which will return every record in the table")])])],-1),V7={__name:"26",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[q7,H7]),_:1},16))}},U7=N(V7,[["__file","/@slidev/slides/26.md"]]),W7=e("h1",null,"A03 Fixing it 🪄",-1),z7=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("💡 Prefer using a safe API that "),e("strong",null,"sanitizes input"),u(" e.g "),e("code",null,"@nearform/sql")]),e("li",null,[e("strong",null,"Escape special characters"),u(" using the specific escape syntax for that interpreter")]),e("li",null,"Avoid user-supplied table names or column names as they cannot be escaped"),e("li",null,[e("strong",null,"Automated testing"),u(" of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged")])])],-1),K7={__name:"27",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[W7,z7]),_:1},16))}},Y7=N(K7,[["__file","/@slidev/slides/27.md"]]),G7=e("h1",null,"A03 Solution 💡",-1),Q7={class:"dense"},J7=e("ul",null,[e("li",null,[u("The "),e("code",null,"@nearform/sql"),u(" library escapes special characters contained in the user’s input")])],-1),Z7=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// import SQL from '@nearform/sql'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"customer"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/customer"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"name"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"query")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"customers"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"name"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"customers"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#B8A965"}},"length"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"customers")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// import SQL from '@nearform/sql'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"customer"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/customer"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"name"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM customers WHERE name="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"name"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"customers"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#998418"}},"length"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"customers")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),X7={__name:"28",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[G7,e("div",Q7,[J7,te(r,Ue({},{ranges:[""]}),{default:I(()=>[Z7]),_:1},16)])]),_:1},16)}}},ek=N(X7,[["__file","/@slidev/slides/28.md"]]),tk=e("h1",null,"A04 Insecure Design",-1),nk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("a",{href:"https://owasp.org/Top10/A04_2021-Insecure_Design/",target:"_blank",rel:"noopener"},"A04: Insecure Design")]),e("li",null,[u("Fundamental "),e("strong",null,"design flaws"),u(" of the software can cause security issues")]),e("li",null,"Those issues cannot be fixed by a better more secure code implementation"),e("li",null,"Failure to determine the level of security required during design")])],-1),sk={__name:"29",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[tk,nk]),_:1},16))}},ok=N(sk,[["__file","/@slidev/slides/29.md"]]),rk=e("h1",null,"A04 Examples",-1),lk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("A forgotten password flow with "),e("strong",null,[e("em",null,'"security questions"')]),u(" is insecure by design because more than one person can know the answer")]),e("li",null,"An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)"),e("li",null,[u("A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make "),e("strong",null,"hundreds of small booking requests"),u(" at once to block all seats, causing massive revenue loss")])])],-1),ak={__name:"30",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[rk,lk]),_:1},16))}},ik=N(ak,[["__file","/@slidev/slides/30.md"]]),ck=e("h1",null,"A04 How to prevent",-1),uk=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Model threats for the application, all its flows and business logic"),e("li",null,"Continuously evaluate security requirement and design during the development lifecycle"),e("li",null,"Consider security rules and access controls for every user story"),e("li",null,[e("strong",null,"Use unit and integration tests"),u(" to verify the application is resistant to the threat model")])])],-1),pk={__name:"31",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[ck,uk]),_:1},16))}},dk=N(pk,[["__file","/@slidev/slides/31.md"]]),fk=e("h1",null,"A04 Exercise",-1),hk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("The "),e("code",null,"/buy-product"),u(" endpoint does not have protection against bots run by scalpers")]),e("li",null,"It means that someone can buy a lot of stock quickly and leave legitimate customers without any")])],-1),yk={__name:"32",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[fk,hk]),_:1},16))}},mk=N(yk,[["__file","/@slidev/slides/32.md"]]),gk=e("h1",null,"A04 Scalping",-1),vk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 4 ("),e("code",null,"cd src/a04-insecure-design"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A04: Buy product"),u(". Observe the data for "),e("code",null,"success: true"),u(" being returned")]),e("li",null,"Run the query many times in a row in a short period of time"),e("li",null,"Notice that there is no protection against multiple sequential purchases")])],-1),_k={__name:"33",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[gk,vk]),_:1},16))}},wk=N(_k,[["__file","/@slidev/slides/33.md"]]),Ak=e("h1",null,"A04 Fixing it 🪄",-1),bk=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Prefer using rate limiter for your routes"),e("li",null,[u("💡 Using "),e("a",{href:"https://github.com/fastify/fastify-rate-limit",target:"_blank",rel:"noopener"},[e("code",null,"fastify-rate-limit")]),u(" is a good idea for setting a rate limit")]),e("li",null,"Let’s consider a scenario where a user can buy a maximum of two products per minute"),e("li",null,[u("Edit the "),e("code",null,"/buy-product"),u(" route in the exercise folder considering the scenario above")])])],-1),Ek={__name:"34",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Ak,bk]),_:1},16))}},Dk=N(Ek,[["__file","/@slidev/slides/34.md"]]),kk=e("h1",null,"A04 Solution 💡",-1),Ck={class:"dense"},xk=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// register the rateLimit plugin in the server.js file")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"register"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"rateLimit"),e("span",{style:{color:"#666666"}},")")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// register the rateLimit plugin in the server.js file")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"register"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"rateLimit"),e("span",{style:{color:"#999999"}},")")])])])],-1),Bk=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// the rate limit is set to a maximum of two purchases per minute")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"ecommerce"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/buy-product"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"config"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"rateLimit"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"max"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"2"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"          "),e("span",{style:{color:"#B8A965"}},"timeWindow"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"1 minute"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"reply"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BD976A"}},"reply"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"({"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#B8A965"}},"success"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// the rate limit is set to a maximum of two purchases per minute")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"ecommerce"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/buy-product"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"config"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"rateLimit"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"max"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"2"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"          "),e("span",{style:{color:"#998418"}},"timeWindow"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"1 minute"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"reply"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"({"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#998418"}},"success"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Sk={__name:"35",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[kk,e("div",Ck,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[xk]),_:1},16),te(r,Ue({},{ranges:[""]}),{default:I(()=>[Bk]),_:1},16)])]),_:1},16)}}},$k=N(Sk,[["__file","/@slidev/slides/35.md"]]),Tk=e("h1",null,"A05 Security Misconfiguration",-1),Ok=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk"),e("li",null,[e("strong",null,"Badly configured"),u(" servers or services can lead to vulnerabilities")]),e("li",null,"With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration")])],-1),Pk={__name:"36",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Tk,Ok]),_:1},16))}},Ik=N(Pk,[["__file","/@slidev/slides/36.md"]]),Mk=e("h1",null,"A05 Common Vulnerabilities",-1),Rk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Improperly configured "),e("strong",null,"permissions"),u(" or security settings")]),e("li",null,"Unnecessary features enabled: open ports, services, accounts with elevated accesss…"),e("li",null,[e("strong",null,"Default credentials"),u(" unchanged")]),e("li",null,"Out of date or vulnerable server"),e("li",null,"Stack trace from error handling revealing information to users")])],-1),Lk={__name:"37",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Mk,Rk]),_:1},16))}},Fk=N(Lk,[["__file","/@slidev/slides/37.md"]]),Nk=e("h1",null,"A05 How to prevent",-1),jk=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Repeatable, automated and fast to deploy environments"),e("li",null,"Different credentials should be used in each environment"),e("li",null,"Frequently review security updates, patches and permissions"),e("li",null,[u("A "),e("strong",null,"segmented architecture"),u(" increases security by separating components, tenants, containers or cloud security groups")]),e("li",null,[u("An automated "),e("strong",null,"test"),u(" to verify the effectiveness of the configurations")])])],-1),qk={__name:"38",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Nk,jk]),_:1},16))}},Hk=N(qk,[["__file","/@slidev/slides/38.md"]]),Vk=e("h1",null,"A05 Unsigned Cookies 🍪",-1),Uk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 5 ("),e("code",null,"cd src/a05-security-misconfiguration"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A05: Login"),u(". Observe a cookie with "),e("code",null,"userId=1"),u(" being returned")]),e("li",null,[u("Try to run the query for "),e("code",null,"A05: Profile"),u(". Observe the information about profile with "),e("code",null,"userId=1"),u(" being returned")]),e("li",null,[u("Try to "),e("a",{href:"https://learning.postman.com/docs/sending-requests/cookies/",target:"_blank",rel:"noopener"},"change the value of the cookie"),u(" to "),e("code",null,"userId=2"),u(". Observe information about "),e("code",null,"userId=2"),u(" being returned")])])],-1),Wk={__name:"39",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Vk,Uk]),_:1},16))}},zk=N(Wk,[["__file","/@slidev/slides/39.md"]]),Kk=e("h1",null,"A05 Fixing it 🪄",-1),Yk=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("💡 Cookie must always be "),e("strong",null,[e("a",{href:"https://github.com/fastify/fastify-cookie",target:"_blank",rel:"noopener"},"signed")]),u(" to ensure they are not getting tampered with on client-side by an attacker")]),e("li",null,[u("It’s important to use "),e("strong",null,"httpOnly"),u(" cookies to prevent the cookie being accessed through client side script")]),e("li",null,[u("Store the "),e("strong",null,"signing secret"),u(" safely.")]),e("li",null,"Don’t store sentive information in cleartext")])],-1),Gk={__name:"40",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Kk,Yk]),_:1},16))}},Qk=N(Gk,[["__file","/@slidev/slides/40.md"]]),Jk=e("h1",null,"A05 Solution 💡",-1),Zk={class:"dense"},Xk=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"login"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/login"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"schema"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"},"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"rep"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"username"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"No matching user found"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"passwordMatch"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"comparePassword"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"password"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"passwordMatch"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"Invalid Password"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BD976A"}},"rep"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"setCookie"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"userId"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"stringify"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"id"),e("span",{style:{color:"#666666"}},"),"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"signed"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// 💡 signing the cookie")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"httpOnly"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"true"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// http only")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"user logged in"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"login"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/login"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"schema"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"},"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, password FROM users WHERE username = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"username"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"No matching user found"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"comparePassword"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"password"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"passwordMatch"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"Invalid Password"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"rep"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"setCookie"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"userId"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"stringify"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},"),"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"signed"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// 💡 signing the cookie")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"httpOnly"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"true"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// http only")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"user logged in"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),eC={__name:"41",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[Jk,e("div",Zk,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[Xk]),_:1},16)])]),_:1},16)}}},tC=N(eC,[["__file","/@slidev/slides/41.md"]]),nC=e("h1",null,"A05 Solution 💡 (2)",-1),sC={class:"dense"},oC=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profile"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"value"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"id"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"valid"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"unsignCookie"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"//unsign the cookie and check validity")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BD976A"}},"cookies"),e("span",{style:{color:"#666666"}},"?."),e("span",{style:{color:"#BD976A"}},"userId"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"||"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"''")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"valid"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"      "),e("span",{style:{color:"#758575DD"}},"// check if the cookie has been tampered")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Unauthorized"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"id"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"new"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profile"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"value"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"id"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"unsignCookie"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"//unsign the cookie and check validity")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"?."),e("span",{style:{color:"#B07D48"}},"userId"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"||"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"''")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"valid"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"      "),e("span",{style:{color:"#A0ADA0"}},"// check if the cookie has been tampered")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Unauthorized"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT id, username, age FROM users WHERE id = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"id"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"new"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),rC={__name:"42",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[nC,e("div",sC,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[oC]),_:1},16)])]),_:1},16)}}},lC=N(rC,[["__file","/@slidev/slides/42.md"]]),aC=e("h1",null,"A06 Vulnerable and Outdated Components",-1),iC=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Applications use a variety of components and libraries which can have security issues"),e("li",null,"Vulnerable components can be an attack vector until they are patched"),e("li",null,[u("Particularly relevant in the node.js world with an ever-growing "),e("strong",null,"NPM dependency tree")])])],-1),cC={__name:"43",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[aC,iC]),_:1},16))}},uC=N(cC,[["__file","/@slidev/slides/43.md"]]),pC=e("h1",null,"A06 Common Vulnerabilities",-1),dC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Not "),e("strong",null,"tracking versions"),u(" of used components, including nested dependencies")]),e("li",null,"Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes…"),e("li",null,[u("Not "),e("strong",null,"scanning for vulnerabilities"),u(" regularly and subscribing to security news for used components")]),e("li",null,"Not fixing vulnerable dependencies in a timely fashion")])],-1),fC={__name:"44",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[pC,dC]),_:1},16))}},hC=N(fC,[["__file","/@slidev/slides/44.md"]]),yC=e("h1",null,"A06 How to prevent",-1),mC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Remove "),e("strong",null,"unused dependencies"),u(", unnecessary features, components, files, and documentation")]),e("li",null,"Continuously inventory the versions of components and their dependencies"),e("li",null,[u("Monitor for libraries and components that are "),e("strong",null,"unmaintained"),u(" or do not create security patches for older versions")]),e("li",null,[u("Only obtain components from "),e("strong",null,"official"),u(" sources over secure links")])])],-1),gC={__name:"45",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[yC,mC]),_:1},16))}},vC=N(gC,[["__file","/@slidev/slides/45.md"]]),_C=e("h1",null,"A06 The attack 🥷",-1),wC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 6 ("),e("code",null,"cd src/a06-vulnerable-outdated"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A06: Profile"),u(". Observe error "),e("code",null,"404"),u(" being returned")]),e("li",null,[u("Try to run the query for "),e("code",null,"A06: Exploit vulnerability"),u(". Observe the error message response")])])],-1),AC={__name:"46",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[_C,wC]),_:1},16))}},bC=N(AC,[["__file","/@slidev/slides/46.md"]]),EC=e("h1",null,"A06 The attack (2)",-1),DC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Because of an outdated version of the HTTP client library "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici",target:"_blank",rel:"noopener"},"undici")]),u(" we can exploit a known "),e("strong",null,[e("a",{href:"https://www.cvedetails.com/cve/CVE-2022-35949/",target:"_blank",rel:"noopener"},"vulnerability")])]),e("li",null,[u("By passing the value "),e("code",null,"//127.0.0.1"),u(" in the username query param, we override the original hostname and we can make the server perform a GET to "),e("code",null,"127.0.0.1:80")])])],-1),kC={__name:"47",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[EC,DC]),_:1},16))}},CC=N(kC,[["__file","/@slidev/slides/47.md"]]),xC=e("h1",null,"A06 Fixing it 🪄",-1),BC=e("div",{class:"dense"},[e("ul",null,[e("li",null,"💡 Update the library to a version in which this vulnerability was fixed")])],-1),SC={__name:"48",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[xC,BC]),_:1},16))}},$C=N(SC,[["__file","/@slidev/slides/48.md"]]),TC=e("h1",null,"A06 The Solution 💡",-1),OC={class:"dense"},PC=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"import"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"request"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"from"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"undici"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"//💡 updated undici version >= 5.8.1")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"query")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"/"),e("span",{style:{color:"#4D9375"}},"^"),e("span",{style:{color:"#E6CC77"}},"\\/"),e("span",{style:{color:"#C98A7D99"}},"/"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"test"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},"))"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"        "),e("span",{style:{color:"#758575DD"}},"// check username doesn't start with /")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"body"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"({")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"origin"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://example.com"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#B8A965"}},"pathname"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"username")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"statusCode"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"200"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"NotFound"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"import"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"request"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"from"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"undici"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"//💡 updated undici version >= 5.8.1")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"query")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"/"),e("span",{style:{color:"#1E754F"}},"^"),e("span",{style:{color:"#BDA437"}},"\\/"),e("span",{style:{color:"#B5695999"}},"/"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"test"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},"))"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"        "),e("span",{style:{color:"#A0ADA0"}},"// check username doesn't start with /")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"({")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"origin"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"http://example.com"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#998418"}},"pathname"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"username")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"statusCode"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"200"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"NotFound"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),IC={__name:"49",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[TC,e("div",OC,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[PC]),_:1},16)])]),_:1},16)}}},MC=N(IC,[["__file","/@slidev/slides/49.md"]]),RC=e("h1",null,"A07 Identification and Authentication Failures",-1),LC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Verification of the user’s identity, "),e("strong",null,"authentication"),u(", and session management is crucial to security")]),e("li",null,"Weak or vulnerable authentication systems can be exploited to gain access"),e("li",null,"Systems with broken authentication can lead to data breaches and passwords leak")])],-1),FC={__name:"50",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[RC,LC]),_:1},16))}},NC=N(FC,[["__file","/@slidev/slides/50.md"]]),jC=e("h1",null,"A07 Common Vulnerabilities",-1),qC=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Application allows for credentials stuffing or brute forcing"),e("li",null,"Allows default, weak or known passwords"),e("li",null,"Exploitable credential recovery processes"),e("li",null,[u("Lack of effective "),e("strong",null,"multi-factor authentication")]),e("li",null,[u("Unencrypted or weakly encrypted "),e("strong",null,"password storage")])])],-1),HC={__name:"51",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[jC,qC]),_:1},16))}},VC=N(HC,[["__file","/@slidev/slides/51.md"]]),UC=e("h1",null,"A07 How to prevent",-1),WC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Where possible, implement "),e("strong",null,"multi-factor authentication")]),e("li",null,[u("Require "),e("strong",null,"strong passwords"),u(" (length, complexity, rotation policies, and don’t allow leaked passwords use)")]),e("li",null,"Ensure registration and credential recovery use the same messages for all outcomes"),e("li",null,"Limit or increasingly delay failed login attempts"),e("li",null,"Use secure password data store practices (salting + hashing)")])],-1),zC={__name:"52",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[UC,WC]),_:1},16))}},KC=N(zC,[["__file","/@slidev/slides/52.md"]]),YC=e("h1",null,"A07 Allowing leaked passwords 💧",-1),GC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("In 2017 the NIST "),e("strong",null,[e("a",{href:"https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value",target:"_blank",rel:"noopener"},"recommended")]),u(" that websites should check all new passwords against available lists of data breaches.")]),e("li",null,[u("This practice has been adopted by OWASP and became part of their "),e("strong",null,[e("a",{href:"https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.",target:"_blank",rel:"noopener"},"recommendation")]),u(".")]),e("li",null,[u("In the real scenario you should try to use something like "),e("strong",null,[e("a",{href:"https://haveibeenpwned.com/Passwords",target:"_blank",rel:"noopener"},"Have I Been Pwned")])])])],-1),QC={__name:"53",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[YC,GC]),_:1},16))}},JC=N(QC,[["__file","/@slidev/slides/53.md"]]),ZC=e("h1",null,"A07 Allowing leaked passwords 💧 (2)",-1),XC=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("In the workshop - the database contains the list of leaked passwords in "),e("code",null,"databreachrecords")]),e("li",null,[u("Run the server for step 7 ("),e("code",null,"cd src/a07-authentication-failures"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A07: Register"),u(". Observe a token is succesfully returned")]),e("li",null,[u("In the database check the "),e("code",null,"databreachrecords"),u(" table for password used in the Postman request body")])])],-1),ex={__name:"54",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[ZC,XC]),_:1},16))}},tx=N(ex,[["__file","/@slidev/slides/54.md"]]),nx=e("h1",null,"A07 Allowing leaked passwords 💧 (3)",-1),sx=e("div",{class:"dense"},[e("ul",null,[e("li",null,"It should not allow to use passwords that are known to be leaked"),e("li",null,"Instead it should require the user to set a different password indicating what is the reason"),e("li",null,[u("Place your solution in the "),e("code",null,"routes/user/index.js")]),e("li",null,[u("Test it by running "),e("code",null,"npm run verify"),u(" (it will fail initially)")])])],-1),ox={__name:"55",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[nx,sx]),_:1},16))}},rx=N(ox,[["__file","/@slidev/slides/55.md"]]),lx=e("h1",null,"A07 Fixing it 🪄",-1),ax=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("💡 Using data available in "),e("code",null,"dataBreachRecords"),u(" check if requested password is safe to use")]),e("li",null,[u("Run "),e("code",null,"sql"),u(" query inside the "),e("code",null,"/register"),u(" endpoint to check if the password is there")]),e("li",null,[u("Return a "),e("code",null,"400"),u(" error with "),e("code",null,"message"),u(" indicating the source of the leak: "),e("code",null,"'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'")])])],-1),ix={__name:"56",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[lx,ax]),_:1},16))}},cx=N(ix,[["__file","/@slidev/slides/56.md"]]),ux=e("h1",null,"A07 Solution 💡",-1),px={class:"dense"},dx=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"breach"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"password"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"breach"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"res"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"send"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"breach"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"source"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM databreachrecords WHERE password="),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"password"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"breach"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"res"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"send"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"You are trying to use password that is known to be exposed in data breaches: "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"breach"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"source"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B56959"}},". Use a different one. Read more here: https://haveibeenpwned.com/Passwords."),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),fx={__name:"57",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[ux,e("div",px,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[dx]),_:1},16)])]),_:1},16)}}},hx=N(fx,[["__file","/@slidev/slides/57.md"]]),yx=e("h1",null,"A08 Software and Data Integrity Failures",-1),mx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Code and infrastructure not protected against "),e("strong",null,"integrity violations")]),e("li",null,"Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users")])],-1),gx={__name:"58",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[yx,mx]),_:1},16))}},vx=N(gx,[["__file","/@slidev/slides/58.md"]]),_x=e("h1",null,"A08 Common Vulnerabilities",-1),wx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Libraries coming from "),e("strong",null,"untrusted sources"),u(", repos or CDNs")]),e("li",null,[u("Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to "),e("strong",null,"insecure deserialization")]),e("li",null,"An insecure CI/CD pipeline"),e("li",null,"Updates downloaded without sufficient integrity verification")])],-1),Ax={__name:"59",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[_x,wx]),_:1},16))}},bx=N(Ax,[["__file","/@slidev/slides/59.md"]]),Ex=e("h1",null,"A08 How to prevent",-1),Dx=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Using digital signatures for integrity checks on data and downloaded software"),e("li",null,[u("Ensure "),e("strong",null,"npm dependencies"),u(" are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies")]),e("li",null,"Use automated tools to verify that components don’t contain known vulnerabilities"),e("li",null,"Ensure there are code reviews for changes to minimise the risk of malicious code being introduced")])],-1),kx={__name:"60",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Ex,Dx]),_:1},16))}},Cx=N(kx,[["__file","/@slidev/slides/60.md"]]),xx=e("h1",null,"A08 Exercise: Insecure Deserialization",-1),Bx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 8 ("),e("code",null,"cd src/a08-software-data-integrity-failures"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, try to run the query for "),e("code",null,"A08: Get profile from cookie"),u(". There is a cookie attached to the request "),e("code",null,"/profile"),u(" containing the user’s profile encoded as base64. Observe the request "),e("code",null,"status code 500"),u(" being returned")]),e("li",null,[u("This is happening because the server is deserializing a "),e("code",null,"cookie containing a malicious JavaScript"),u(" code which is forcing the server to throw an exception")])])],-1),Sx={__name:"61",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[xx,Bx]),_:1},16))}},$x=N(Sx,[["__file","/@slidev/slides/61.md"]]),Tx=e("h1",null,"A08 Exercise: Insecure Deserialization",-1),Ox={class:"dense"},Px=e("ul",null,[e("li",null,[u("When decoding the cookie attached to the "),e("code",null,"/profile"),u(" request, this is what the output looks like:")])],-1),Ix=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// base64 to ASCII")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"id"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4C9A91"}},"1"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#80A665"}},"username"),e("span",{style:{color:"#666666"}},":")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},'"'),e("span",{style:{color:"#C98A7D"}},"_$$ND_FUNC$$_function () {"),e("span",{style:{color:"#C99076"}},"\\n"),e("span",{style:{color:"#C98A7D"}},"    throw new Error('server error')"),e("span",{style:{color:"#C99076"}},"\\n"),e("span",{style:{color:"#C98A7D"}},"  }()"),e("span",{style:{color:"#C98A7D99"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// base64 to ASCII")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"id"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#2F798A"}},"1"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#59873A"}},"username"),e("span",{style:{color:"#999999"}},":")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},'"'),e("span",{style:{color:"#B56959"}},"_$$ND_FUNC$$_function () {"),e("span",{style:{color:"#A65E2B"}},"\\n"),e("span",{style:{color:"#B56959"}},"    throw new Error('server error')"),e("span",{style:{color:"#A65E2B"}},"\\n"),e("span",{style:{color:"#B56959"}},"  }()"),e("span",{style:{color:"#B5695999"}},'"')]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Mx=e("ul",null,[e("li",null,[u("Note that there is an "),e("code",null,"IIFE"),u(" at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization")]),e("li",null,[u("The full step by step to serialize a JavaScript code and inject it as a cookie can be found "),e("a",{href:"https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/",target:"_blank",rel:"noopener"},"in this article")])],-1),Rx={__name:"62",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[Tx,e("div",Ox,[Px,te(r,Ue({},{ranges:[""]}),{default:I(()=>[Ix]),_:1},16),Mx])]),_:1},16)}}},Lx=N(Rx,[["__file","/@slidev/slides/62.md"]]),Fx=e("h1",null,"A08 Fixing it 🪄",-1),Nx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the automated tests for step 8 - "),e("code",null,"npm run verify")]),e("li",null,"The tests fail because the server shouldn’t trust a library that provides a way to deserialize strings into executable JavaScript code"),e("li",null,[u("Untrusted data passed into "),e("code",null,"unserialize()"),u(" function in "),e("code",null,"node-serialize"),u(" module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)")]),e("li",null,[u("💡 "),e("code",null,"JSON.parse"),u(" is a safer way to deserialize data")])])],-1),jx={__name:"63",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Fx,Nx]),_:1},16))}},qx=N(jx,[["__file","/@slidev/slides/63.md"]]),Hx=e("h1",null,"A08 Solution 💡",-1),Vx={class:"dense"},Ux=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"solution"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/profile"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"cookieAsStr"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"Buffer"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"from"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"cookies"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"profile"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"base64"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},")."),e("span",{style:{color:"#80A665"}},"toString"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"ascii"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"profile"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"JSON"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"parse"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"cookieAsStr"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"+"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"profile"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"Hello guest"),e("span",{style:{color:"#C98A7D99"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"solution"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/profile"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"Buffer"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"from"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"cookies"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"base64"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},")."),e("span",{style:{color:"#59873A"}},"toString"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"ascii"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"JSON"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"parse"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"cookieAsStr"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"Hello "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"+"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"profile"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"Hello guest"),e("span",{style:{color:"#B5695999"}},"'")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),Wx={__name:"64",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[Hx,e("div",Vx,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[Ux]),_:1},16)])]),_:1},16)}}},zx=N(Wx,[["__file","/@slidev/slides/64.md"]]),Kx=e("h1",null,"A09 Security Logging and Monitoring Failures",-1),Yx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Proper logging and monitoring is "),e("strong",null,"critical"),u(" to detecting and responding to breaches")]),e("li",null,"It is important for alerting, accountability, visibility and forensics of security incidents")])],-1),Gx={__name:"65",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Kx,Yx]),_:1},16))}},Qx=N(Gx,[["__file","/@slidev/slides/65.md"]]),Jx=e("h1",null,"A09 Common Vulnerabilities",-1),Zx=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Auditable events, such as logins, failed logins, and "),e("strong",null,"high-value transactions"),u(", are not logged")]),e("li",null,"Warnings and errors generate no, inadequate, or unclear log messages"),e("li",null,[u("Logs of applications and APIs are not monitored for "),e("strong",null,"suspicious activity")]),e("li",null,"The application cannot detect, escalate, or alert for active attacks in real-time or near real-time")])],-1),Xx={__name:"66",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[Jx,Zx]),_:1},16))}},e4=N(Xx,[["__file","/@slidev/slides/66.md"]]),t4=e("h1",null,"A09 How to prevent",-1),n4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Ensure all login, access control, and server-side input validation failures can be logged with "),e("strong",null,"sufficient user context"),u(" to identify suspicious or malicious accounts")]),e("li",null,"Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems"),e("li",null,"Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.")])],-1),s4={__name:"67",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[t4,n4]),_:1},16))}},o4=N(s4,[["__file","/@slidev/slides/67.md"]]),r4=e("h1",null,"A09 Suspicious activity 🤨",-1),l4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 5 ("),e("code",null,"cd src/a09-security-logging"),u(", "),e("code",null,"npm run verify"),u(")")]),e("li",null,[u("You can observe a log message "),e("code",null,"something suspicious is happening")]),e("li",null,[u("Note that the application is using a vulnerable version of the http client "),e("strong",null,[e("a",{href:"https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3",target:"_blank",rel:"noopener"},"undici")])])])],-1),a4={__name:"68",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[r4,l4]),_:1},16))}},i4=N(a4,[["__file","/@slidev/slides/68.md"]]),c4=e("h1",null,"A09 Fixing it 🪄",-1),u4=e("div",{class:"dense"},[e("ul",null,[e("li",null,"💡 Log user input to identify suspicious or malicious access"),e("li",null,"Validate user input")])],-1),p4={__name:"69",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[c4,u4]),_:1},16))}},d4=N(p4,[["__file","/@slidev/slides/69.md"]]),f4=e("h1",null,"A09 Solution 💡",-1),h4={class:"dense"},y4=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#758575DD"}},"// profile route handler")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"console"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"log"),e("span",{style:{color:"#666666"}},"({")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"username"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"user"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"username"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// add context to logs to help identify the user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"input"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"headerCharRegex"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#C4704F"}}," "),e("span",{style:{color:"#C98A7D99"}},"/"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#CB7676"}},"^"),e("span",{style:{color:"#C99076"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#666666"}},"]"),e("span",{style:{color:"#C98A7D99"}},"/"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate user input")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"headerCharRegex"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"exec"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},"])"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"!=="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"null"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"BadRequest"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"body"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"request"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"http://localhost:3001"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},","),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"method"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"GET"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#B8A965"}},"headers"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"headers"),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"content-type"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#A0ADA0"}},"// profile route handler")]),u(`
`),e("span",{class:"line"}),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"console"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"log"),e("span",{style:{color:"#999999"}},"({")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"username"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"user"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"username"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// add context to logs to help identify the user")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"input"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#AB5E3F"}}," "),e("span",{style:{color:"#B5695999"}},"/"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#AB5959"}},"^"),e("span",{style:{color:"#A65E2B"}},"\\t\\x20-\\x7e\\x80-\\xff"),e("span",{style:{color:"#999999"}},"]"),e("span",{style:{color:"#B5695999"}},"/"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate user input")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"headerCharRegex"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"exec"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},"])"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"!=="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"null"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"BadRequest"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"request"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"http://localhost:3001"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},","),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"method"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"GET"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#998418"}},"headers"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"headers"),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"content-type"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},"})")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),m4={__name:"70",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[f4,e("div",h4,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[y4]),_:1},16)])]),_:1},16)}}},g4=N(m4,[["__file","/@slidev/slides/70.md"]]),v4=e("h1",null,"A10 Server Side Request Forgery",-1),_4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("SSRF flaws occur whenever a web application is fetching a remote resource without "),e("strong",null,"validating"),u(" the user-supplied URL")]),e("li",null,[u("It allows an attacker to coerce the application to send a crafted request to an "),e("strong",null,"unexpected destination"),u(", even when protected by a firewall, VPN, or another type of network access control list")])])],-1),w4={__name:"71",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[v4,_4]),_:1},16))}},A4=N(w4,[["__file","/@slidev/slides/71.md"]]),b4=e("h1",null,"A10 How to prevent",-1),E4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[e("strong",null,"Sanitize and validate"),u(" all client-supplied input data")]),e("li",null,"Enforce the URL schema, port, and destination with a positive allow list"),e("li",null,"Do not send raw responses to clients"),e("li",null,"Disable HTTP redirections"),e("li",null,"❗ Do not mitigate SSRF via the use of a deny list or regular expression")])],-1),D4={__name:"72",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[b4,E4]),_:1},16))}},k4=N(D4,[["__file","/@slidev/slides/72.md"]]),C4=e("h1",null,"A10 The Attack 🥷",-1),x4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("Run the server for step 10 ("),e("code",null,"cd src/a10-server-side-request-forgery"),u(", "),e("code",null,"npm start"),u(")")]),e("li",null,[u("In Postman, run the query for "),e("code",null,"A10: Upload Image"),u(". Observe an image being returned")]),e("li",null,[u("Try to run the query for "),e("code",null,"A10: Malicious Image url"),u(". Observe "),e("code",null,"something suspicious is happening"),u(" being returned")]),e("li",null,"The server is not sanitizing user input so it will send a request to whatever url provided in the payload")])],-1),B4={__name:"73",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[C4,x4]),_:1},16))}},S4=N(B4,[["__file","/@slidev/slides/73.md"]]),$4=e("h1",null,"A10 Fixing it 🪄",-1),T4=e("div",{class:"dense"},[e("ul",null,[e("li",null,"Sanitize the url making sure it’s valid"),e("li",null,[u("Create a whitelist of allowed domains by adding them in the database column "),e("code",null,"allowedImageDomain")]),e("li",null,"💡 Make sure the requested domain is in the whitelist")])],-1),O4={__name:"74",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[$4,T4]),_:1},16))}},P4=N(O4,[["__file","/@slidev/slides/74.md"]]),I4=e("h1",null,"A10 Solution 💡",-1),M4={class:"dense"},R4=e("pre",{class:"shiki-container"},[e("pre",{class:"slidev-code shiki shiki-dark Vitesse Dark",style:{"background-color":"#121212"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#4D9375"}},"export"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"default"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"function"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"profilePicture"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"post"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#C98A7D"}},"/user/image"),e("span",{style:{color:"#C98A7D99"}},"'"),e("span",{style:{color:"#666666"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#B8A965"}},"onRequest"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"authenticate"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#CB7676"}},"async"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"=>"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"imgUrl"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"req"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"url"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#80A665"}},"validateUrl"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"imgUrl"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#758575DD"}},"// validate url using the URL object")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#BD976A"}},"rows"),e("span",{style:{color:"#666666"}},":"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"["),e("span",{style:{color:"#BD976A"}},"whitelisted"),e("span",{style:{color:"#666666"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"fastify"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"pg"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"query"),e("span",{style:{color:"#666666"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#80A665"}},"SQL"),e("span",{style:{color:"#C98A7D99"}},"`"),e("span",{style:{color:"#C98A7D"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#666666"}},"${"),e("span",{style:{color:"#C98A7D"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#C98A7D"}},"hostname"),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#C98A7D99"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"if"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#CB7676"}},"!"),e("span",{style:{color:"#BD976A"}},"whitelisted"),e("span",{style:{color:"#666666"}},")"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"        "),e("span",{style:{color:"#4D9375"}},"throw"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"errors"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"Forbidden"),e("span",{style:{color:"#666666"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#CB7676"}},"const"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"{"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"data"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#666666"}},"}"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#CB7676"}},"="),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#4D9375"}},"await"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"axios"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#80A665"}},"get"),e("span",{style:{color:"#666666"}},"("),e("span",{style:{color:"#BD976A"}},"url"),e("span",{style:{color:"#666666"}},"."),e("span",{style:{color:"#BD976A"}},"href"),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"      "),e("span",{style:{color:"#4D9375"}},"return"),e("span",{style:{color:"#DBD7CAEE"}}," "),e("span",{style:{color:"#BD976A"}},"data")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"    "),e("span",{style:{color:"#666666"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#DBD7CAEE"}},"  "),e("span",{style:{color:"#666666"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#666666"}},"}")])])]),e("pre",{class:"slidev-code shiki shiki-light Vitesse Light",style:{"background-color":"#ffffff"},tabindex:"0"},[e("code",null,[e("span",{class:"line"},[e("span",{style:{color:"#1E754F"}},"export"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"default"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"function"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"profilePicture"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"post"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#B56959"}},"/user/image"),e("span",{style:{color:"#B5695999"}},"'"),e("span",{style:{color:"#999999"}},",")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#998418"}},"onRequest"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"authenticate"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"},")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#AB5959"}},"async"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"=>"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"req"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"body")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#59873A"}},"validateUrl"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"imgUrl"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#A0ADA0"}},"// validate url using the URL object")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#B07D48"}},"rows"),e("span",{style:{color:"#999999"}},":"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"["),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},"]")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"fastify"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"pg"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"query"),e("span",{style:{color:"#999999"}},"(")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#59873A"}},"SQL"),e("span",{style:{color:"#B5695999"}},"`"),e("span",{style:{color:"#B56959"}},"SELECT * FROM allowedImageDomain WHERE hostname = "),e("span",{style:{color:"#999999"}},"${"),e("span",{style:{color:"#B56959"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B56959"}},"hostname"),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#B5695999"}},"`")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"if"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#AB5959"}},"!"),e("span",{style:{color:"#B07D48"}},"whitelisted"),e("span",{style:{color:"#999999"}},")"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"        "),e("span",{style:{color:"#1E754F"}},"throw"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"errors"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"Forbidden"),e("span",{style:{color:"#999999"}},"()")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#AB5959"}},"const"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"{"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#999999"}},"}"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#AB5959"}},"="),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#1E754F"}},"await"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"axios"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#59873A"}},"get"),e("span",{style:{color:"#999999"}},"("),e("span",{style:{color:"#B07D48"}},"url"),e("span",{style:{color:"#999999"}},"."),e("span",{style:{color:"#B07D48"}},"href"),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"      "),e("span",{style:{color:"#1E754F"}},"return"),e("span",{style:{color:"#393A34"}}," "),e("span",{style:{color:"#B07D48"}},"data")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"    "),e("span",{style:{color:"#999999"}},"}")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#393A34"}},"  "),e("span",{style:{color:"#999999"}},")")]),u(`
`),e("span",{class:"line"},[e("span",{style:{color:"#999999"}},"}")])])])],-1),L4={__name:"75",setup(t){const n={};return O(F),(s,o)=>{const r=tt;return E(),P(Z,J(Q(n)),{default:I(()=>[I4,e("div",M4,[te(r,Ue({},{ranges:[""]}),{default:I(()=>[R4]),_:1},16)])]),_:1},16)}}},F4=N(L4,[["__file","/@slidev/slides/75.md"]]),N4=e("h1",null,"Beyond the Top 10",-1),j4=e("div",{class:"dense"},[e("ul",null,[e("li",null,"The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing"),e("li",null,"By its nature, the Top 10 is a series of guidelines but can’t be tested easily as its applications are broad"),e("li",null,[u("On the other hand the "),e("a",{href:"https://owasp.org/www-project-application-security-verification-standard/",target:"_blank",rel:"noopener"},"OWASP Application Security Verification Standard"),u(" is a comprehensive list of security criteria")]),e("li",null,"Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail")])],-1),q4={__name:"76",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[N4,j4]),_:1},16))}},H4=N(q4,[["__file","/@slidev/slides/76.md"]]),V4=e("h1",null,"Other useful OWASP resources",-1),U4=e("div",{class:"dense"},[e("ul",null,[e("li",null,[u("The "),e("a",{href:"https://cheatsheetseries.owasp.org",target:"_blank",rel:"noopener"},"OWASP Cheat Sheet Series"),u(" provides condensed information on specific security topics related to OWASP standards")]),e("li",null,[u("The "),e("a",{href:"https://owaspsamm.org",target:"_blank",rel:"noopener"},"OWASP Software Assurance Maturity Model"),u(" can help an organization analyze and improve their software security")])])],-1),W4={__name:"77",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[V4,U4]),_:1},16))}},z4=N(W4,[["__file","/@slidev/slides/77.md"]]),K4=e("h1",null,"Thanks For Having Us!",-1),Y4=e("h2",null,"👏👏👏",-1),G4={__name:"78",setup(t){const n={};return O(F),(s,o)=>(E(),P(Z,J(Q(n)),{default:I(()=>[K4,Y4]),_:1},16))}},Q4=N(G4,[["__file","/@slidev/slides/78.md"]]),J4=[{path:"1",name:"page-1",component:_E,meta:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop",slide:{raw:`---
theme: slidev-theme-nearform
layout: default
highlighter: shiki
lineNumbers: false
---

<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

© Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>
`,title:"OWASP Top Ten Security Vulnerabilities Workshop",level:1,content:`<img class=logo src="/images/nearform.svg">

# OWASP Top Ten Security Vulnerabilities Workshop

<img src="/assets/owasp.png" style="width: 30%;">

<div class="copyright">

© Copyright 2022 NearForm Ltd. All Rights Reserved.

</div>`,frontmatter:{theme:"slidev-theme-nearform",layout:"default",highlighter:"shiki",lineNumbers:!1,title:"OWASP Top Ten Security Vulnerabilities Workshop"},index:0,start:0,end:19,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:0,no:1},__clicksElements:[],__preloaded:!1}},{path:"2",name:"page-2",component:EE,meta:{slide:{raw:`
# Introduction: OWASP 🐝

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>
`,title:"Introduction: OWASP 🐝",level:1,content:`# Introduction: OWASP 🐝

<div class="dense">

- The Open Web Application Security Project (**OWASP**) is a **non profit** foundation that works to improve the security of software

- OWASP has community-led **open-source** software projects, hundreds of local chapters worldwide, tens of thousands of members, and leading educational and training conferences

</div>`,frontmatter:{},index:1,start:20,end:31,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:1,no:2},__clicksElements:[],__preloaded:!1}},{path:"3",name:"page-3",component:xE,meta:{slide:{raw:`
# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>
`,title:"Introduction: OWASP Top Ten",level:1,content:`# Introduction: OWASP Top Ten

<div class="dense">

- The **[OWASP Top Ten](https://owasp.org/Top10/)** is a standard awareness document for developers and web application security
- It represents a broad consensus about the most critical security risks to web applications

</div>`,frontmatter:{},index:2,start:32,end:42,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:2,no:3},__clicksElements:[],__preloaded:!1}},{path:"4",name:"page-4",component:TE,meta:{slide:{raw:`
# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The 💡 icon indicates hints

</div>
`,title:"Workshop Setup",level:1,content:`# Workshop Setup

<div class="dense">

- This workshop will explain each of the 10 vulnerabilities
- There is a Fastify node.js server demonstrating the security issues
- At each step you are asked to fix the vulnerability in the server
- You will find the solution to each step in the file \`solution.js\` inside \`src/a{n}-{name}\` folder (the actual path may vary)
- The 💡 icon indicates hints

</div>`,frontmatter:{},index:3,start:43,end:56,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:3,no:4},__clicksElements:[],__preloaded:!1}},{path:"5",name:"page-5",component:XE,meta:{slide:{raw:`
# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>
`,title:"Getting setup",level:1,content:`# Getting setup

<div class="dense">

#### Requirements

<br />

- Node LTS
- docker
- docker-compose
- Postman (if you want to be able to test vulnerabilities)

#### Setup

<br />

\`\`\`bash
git clone https://github.com/nearform/owasp-top-ten-workshop
npm ci
npm run db:up
npm run db:migrate
\`\`\`

</div>`,frontmatter:{},index:4,start:57,end:84,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:4,no:5},__clicksElements:[],__preloaded:!1}},{path:"6",name:"page-6",component:lD,meta:{slide:{raw:`
# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000
`,title:"Running the modules",level:1,content:`# Running the modules

<div class="dense">

- \`cd src/a{x}-step-name\`
- \`npm start\` will run the server ready to respond to requests
- \`npm run verify\` will run automated tests that fail by default until this step's issue is solved
- Check out README.md in the projects for potential additional info

</div>

### Example

\`\`\`bash
cd src/a01-access-control
npm start
\`\`\`

The server for that step will run on http://localhost:3000`,frontmatter:{},index:5,start:85,end:106,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:5,no:6},__clicksElements:[],__preloaded:!1}},{path:"7",name:"page-7",component:uD,meta:{slide:{raw:`
# Testing the vulnerabilities

<div class="dense">

- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests
- The \`postman\` folder contains a collection that can be imported into Postman to easily send those requests
- The Postman collection is pre-logged in with user \`alice\`. The \`Bearer token\` is set that represents \`alice\`.

</div>
`,title:"Testing the vulnerabilities",level:1,content:'# Testing the vulnerabilities\n\n<div class="dense">\n\n- Some vulnerabilities involve sending specific requests to the server. We will be using the tool Postman to send those requests\n- The `postman` folder contains a collection that can be imported into Postman to easily send those requests\n- The Postman collection is pre-logged in with user `alice`. The `Bearer token` is set that represents `alice`.\n\n</div>',frontmatter:{},index:6,start:107,end:118,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:6,no:7},__clicksElements:[],__preloaded:!1}},{path:"8",name:"page-8",component:hD,meta:{slide:{raw:`
# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>
`,title:"Automated testing",level:1,content:`# Automated testing

<div class="dense">

- Some vulnerabilities have automated tests which verify the presence of the vulnerability
- Those tests will fail until you fix the vulnerability
- \`npm run verify\` in a step's folder

</div>`,frontmatter:{},index:7,start:119,end:130,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:7,no:8},__clicksElements:[],__preloaded:!1}},{path:"9",name:"page-9",component:vD,meta:{slide:{raw:`
# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>
`,title:"A01 Broken Access Control",level:1,content:`# A01 Broken Access Control

<div class="dense">

- [AO1:2021 - Broken Access Control](https://owasp.org/Top10/A01_2021-Broken_Access_Control/)
- User should only act based on specific permissions
- Incorrect permissions -> unauthorised access of data
</div>`,frontmatter:{},index:8,start:131,end:141,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:8,no:9},__clicksElements:[],__preloaded:!1}},{path:"10",name:"page-10",component:bD,meta:{slide:{raw:`
# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>
`,title:"A01 Common vulnerabilities",level:1,content:`# A01 Common vulnerabilities

<div class="dense">

- Not applying principle of **least privilege**
- Checks can be bypassed by tampering with page or request
- Allowing access to someone else's info by knowing the UUID
- CORS allows untrusted origins

</div>`,frontmatter:{},index:9,start:142,end:154,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:9,no:10},__clicksElements:[],__preloaded:!1}},{path:"11",name:"page-11",component:CD,meta:{slide:{raw:`
# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>
`,title:"A01 How to Prevent",level:1,content:`# A01 How to Prevent

<div class="dense">

- Deny access by default
- Avoid duplication of access control logic
- Enforce **user ownership** when manipulating data

</div>`,frontmatter:{},index:10,start:155,end:166,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:10,no:11},__clicksElements:[],__preloaded:!1}},{path:"12",name:"page-12",component:PD,meta:{slide:{raw:`
# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>
`,title:"A01 Exercise",level:1,content:`# A01 Exercise

<div class="dense">

- The \`/profile\` route returns sensitive user data
- It takes a \`username\` query parameter to return the user's info

\`\`\`
GET http://localhost:3000/profile?username=alice
\`\`\`

\`\`\`json
{
  "id": 1,
  "username": "alice",
  "age": 23
}
\`\`\`

</div>`,frontmatter:{},index:11,start:167,end:189,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:11,no:12},__clicksElements:[],__preloaded:!1}},{path:"13",name:"page-13",component:jD,meta:{slide:{raw:`
# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>
`,title:"A01 The problem",level:1,content:`# A01 The problem

<div class="dense">

- Run the server for step 1 (\`cd src/a01-access-control\`, \`npm start\`)
- In Postman, run the query for A01: Access Control. Observe the data for Alice being returned
- Now change the \`username\` query parameter to \`bob\`. Result:

\`\`\`json
{
  "id": 2,
  "username": "bob",
  "age": 31
}
\`\`\`

- Bob's data is being exposed! Remember we're logged in as Alice and shouldn't see Bob's data

</div>`,frontmatter:{},index:12,start:190,end:211,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:12,no:13},__clicksElements:[],__preloaded:!1}},{path:"14",name:"page-14",component:UD,meta:{slide:{raw:`
# A01 Fixing it 🪄

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
- 💡 The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>
`,title:"A01 Fixing it 🪄",level:1,content:`# A01 Fixing it 🪄

<div class="dense">

- Run the automated tests for step 1 - \`npm run verify\`
- The tests fail because the server shouldn't return Bob's data
- Edit the \`/profile\` route in the exercise folder to return only the \`logged-in\` user's profile without exposing other people's profiles
- 💡 The server uses [fastify-jwt](https://github.com/fastify/fastify-jwt) to handle authentication

</div>`,frontmatter:{},index:13,start:212,end:224,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:13,no:14},__clicksElements:[],__preloaded:!1}},{path:"15",name:"page-15",component:QD,meta:{slide:{raw:`
# A01 Solution 💡

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username // 💡 We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>
`,title:"A01 Solution 💡",level:1,content:`# A01 Solution 💡

<div class="dense">

- The issue comes from the usage of a user-supplied \`query\` parameter to choose which profile's info to check
- The server should instead fetch the only the \`logged-in\` user's info and reply with \`403\` in other cases

\`\`\`js
async req => {
  if (!req.user) {
    throw new errors.Unauthorized()
  }
  const username = req.user.username // 💡 We get the username from the logged in user, not from the query!
  if (username !== req.query.username) {
    throw new errors.Forbidden() // if does not match with the user's one, return a 403 Forbidden error
  }
  return user
}
\`\`\`

</div>`,frontmatter:{},index:14,start:225,end:248,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:14,no:15},__clicksElements:[],__preloaded:!1}},{path:"16",name:"page-16",component:e7,meta:{slide:{raw:`
# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>
`,title:"A02 Cryptographic Failures",level:1,content:`# A02 Cryptographic Failures

<div class="dense">

- [A02: Cryptographic Failures](https://owasp.org/Top10/A02_2021-Cryptographic_Failures/)
- Weak or inexistent **cryptography** of sensitive data
- Passwords, credit card numbers, health records, personal information, business secrets...
- Anything protected by privacy laws or other regulations

</div>`,frontmatter:{},index:15,start:249,end:261,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:15,no:16},__clicksElements:[],__preloaded:!1}},{path:"17",name:"page-17",component:o7,meta:{slide:{raw:`
# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 ⚠️**
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>
`,title:"A02 Common vulnerabilities",level:1,content:`# A02 Common vulnerabilities

<div class="dense">

- Weak or outdated cryptographic algorithms like **md5 ⚠️**
- Weak secret keys, default ones, keys from online tutorials, keys checked in source control...
- Lack of traffic encryption (**HTTPS**)
- Insufficient entropy in seed generation

</div>`,frontmatter:{},index:16,start:262,end:274,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:16,no:17},__clicksElements:[],__preloaded:!1}},{path:"18",name:"page-18",component:i7,meta:{slide:{raw:`
# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git ⚠️**)
- Disable caching for responses that contain sensitive data

</div>
`,title:"A02 How to Prevent",level:1,content:`# A02 How to Prevent

<div class="dense">

- Check sensitive data is well **encrypted**. Avoid storing sensitive data unnecessarily
- Use up to date and strong standard algorithms
- Proper key/secrets management (**private keys in git ⚠️**)
- Disable caching for responses that contain sensitive data

</div>`,frontmatter:{},index:17,start:275,end:287,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:17,no:18},__clicksElements:[],__preloaded:!1}},{path:"19",name:"page-19",component:h7,meta:{slide:{raw:`
# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (hashed using md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>
`,title:"A02 A weak hashing algorithm",level:1,content:`# A02 A weak hashing algorithm

<div class="dense">

- The \`/all-data\` endpoint returns all users and their passwords (hashed using md5). Imagine this as a data breach
- Result of the \`all-data\` endpoint

\`\`\`json
[
  {
    "username": "bob",
    "password": "884a22eb30e5cfd71894d43ac553faa5"
  },
  {
    "username": "alice",
    "password": "5e9d11a14ad1c8dd77e98ef9b53fd1ba"
  }
]
\`\`\`

</div>`,frontmatter:{},index:18,start:288,end:311,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:18,no:19},__clicksElements:[],__preloaded:!1}},{path:"20",name:"page-20",component:v7,meta:{slide:{raw:`
# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's hashed password
- With this password hash, try to find the original password Alice created
- the Postman collection contains requests for doing the queries
- 💡 There are websites to decrypt md5

</div>
`,title:"A02 The problem",level:1,content:`# A02 The problem

<div class="dense">

- Using the \`/all-data\` route, find Alice's hashed password
- With this password hash, try to find the original password Alice created
- the Postman collection contains requests for doing the queries
- 💡 There are websites to decrypt md5

</div>`,frontmatter:{},index:19,start:312,end:324,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:19,no:20},__clicksElements:[],__preloaded:!1}},{path:"21",name:"page-21",component:b7,meta:{slide:{raw:`
# A02 Fixing it 🪄

<div class="dense">

- md5 hash is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the hashing algorithm used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>
`,title:"A02 Fixing it 🪄",level:1,content:`# A02 Fixing it 🪄

<div class="dense">

- md5 hash is vulnerable and shouldn't be used
- In \`src/a02-cryptographic-failure\`, fix the hashing algorithm used to be a strong algorithm instead of md5
- Using [bcrypt](https://www.npmjs.com/package/bcrypt) is a good idea for passwords
- The application exposes a \`/change-password\` route used to change a user's password

</div>`,frontmatter:{},index:20,start:325,end:337,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:20,no:21},__clicksElements:[],__preloaded:!1}},{path:"22",name:"page-22",component:x7,meta:{slide:{raw:`
# A02 Solution 💡

<div class="dense">

\`\`\`js
// utils/crypto.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function hashPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>
`,title:"A02 Solution 💡",level:1,content:`# A02 Solution 💡

<div class="dense">

\`\`\`js
// utils/crypto.js
import { hash, compare } from 'bcrypt'

const saltRounds = 10

export async function hashPassword(password) {
  return await hash(password, saltRounds)
}
\`\`\`

</div>`,frontmatter:{},index:21,start:338,end:356,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:21,no:22},__clicksElements:[],__preloaded:!1}},{path:"23",name:"page-23",component:O7,meta:{slide:{raw:`
# A02 Solution 💡 (2)

<div class="dense">

\`\`\`js
// utils/crypto.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>
`,title:"A02 Solution 💡 (2)",level:1,content:`# A02 Solution 💡 (2)

<div class="dense">

\`\`\`js
// utils/crypto.js
export async function comparePassword(password, hash) {
  return await compare(password, hash)
}
\`\`\`

</div>`,frontmatter:{},index:22,start:357,end:371,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:22,no:23},__clicksElements:[],__preloaded:!1}},{path:"24",name:"page-24",component:R7,meta:{slide:{raw:`
# A03 Injection 💉

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>
`,title:"A03 Injection 💉",level:1,content:`# A03 Injection 💉

<div class="dense">

- [A03: Injection](https://owasp.org/Top10/A03_2021-Injection/)
- Injections are a form of attack where a malicious payload is able to effectively inject an arbitrary bit of query or code on the target server
- Injections can result in data loss or corruption, lack of accountability, or denial of access. Injections can sometimes lead to complete host takeover.
- Common targets: **SQL, NoSQL, ORM, LDAP, JS eval**

</div>`,frontmatter:{},index:23,start:372,end:384,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:23,no:24},__clicksElements:[],__preloaded:!1}},{path:"25",name:"page-25",component:j7,meta:{slide:{raw:`
# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>
`,title:"A03 Common vulnerabilities",level:1,content:`# A03 Common vulnerabilities

<div class="dense">

- Lack of validation or **sanitization** of user input
- Dynamic queries or non-parameterized calls without context-aware **escaping** are used directly in the interpreter
- Hostile data is used within object-relational mapping (ORM) **search parameters** to extract additional, sensitive records

</div>`,frontmatter:{},index:24,start:385,end:396,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:24,no:25},__clicksElements:[],__preloaded:!1}},{path:"26",name:"page-26",component:U7,meta:{slide:{raw:`
# A03 Attack

<div class="dense">

- Run the server for step 3 (\`cd src/a03-injection\`, \`npm start\`)
- In Postman, run the query for \`A03: Get customer by name\`. Observe the data for \`name: "alice"\` being returned
- Try to run the query for \`A03: SQL Injection\`. Observe all the customers being returned
- The query param value \`' OR '1'='1\` takes advantage of the unsafe string concatenation to create this SQL query
  \`SELECT * FROM customers WHERE name='' OR '1'='1'\` which will return every record in the table

</div>
`,title:"A03 Attack",level:1,content:"# A03 Attack\n\n<div class=\"dense\">\n\n- Run the server for step 3 (`cd src/a03-injection`, `npm start`)\n- In Postman, run the query for `A03: Get customer by name`. Observe the data for `name: \"alice\"` being returned\n- Try to run the query for `A03: SQL Injection`. Observe all the customers being returned\n- The query param value `' OR '1'='1` takes advantage of the unsafe string concatenation to create this SQL query\n  `SELECT * FROM customers WHERE name='' OR '1'='1'` which will return every record in the table\n\n</div>",frontmatter:{},index:25,start:397,end:410,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:25,no:26},__clicksElements:[],__preloaded:!1}},{path:"27",name:"page-27",component:Y7,meta:{slide:{raw:`
# A03 Fixing it 🪄

<div class="dense">

- 💡 Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>
`,title:"A03 Fixing it 🪄",level:1,content:`# A03 Fixing it 🪄

<div class="dense">

- 💡 Prefer using a safe API that **sanitizes input** e.g \`@nearform/sql\`
- **Escape special characters** using the specific escape syntax for that interpreter
- Avoid user-supplied table names or column names as they cannot be escaped
- **Automated testing** of all parameters, headers, URL, cookies, JSON, SOAP, and XML data inputs is strongly encouraged

</div>`,frontmatter:{},index:26,start:411,end:423,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:26,no:27},__clicksElements:[],__preloaded:!1}},{path:"28",name:"page-28",component:ek,meta:{slide:{raw:`
# A03 Solution 💡

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>
`,title:"A03 Solution 💡",level:1,content:`# A03 Solution 💡

<div class="dense">

- The \`@nearform/sql\` library escapes special characters contained in the user's input

\`\`\`js
// import SQL from '@nearform/sql'
export default async function customer(fastify) {
  fastify.get(
    '/customer',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { name } = req.query
      const { rows: customers } = await fastify.pg.query(
        SQL\`SELECT * FROM customers WHERE name=\${name}\`
      )
      if (!customers.length) throw errors.NotFound()
      return customers
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:27,start:424,end:453,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:27,no:28},__clicksElements:[],__preloaded:!1}},{path:"29",name:"page-29",component:ok,meta:{slide:{raw:`
# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>
`,title:"A04 Insecure Design",level:1,content:`# A04 Insecure Design

<div class="dense">

- [A04: Insecure Design](https://owasp.org/Top10/A04_2021-Insecure_Design/)
- Fundamental **design flaws** of the software can cause security issues
- Those issues cannot be fixed by a better more secure code implementation
- Failure to determine the level of security required during design

</div>`,frontmatter:{},index:28,start:454,end:466,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:28,no:29},__clicksElements:[],__preloaded:!1}},{path:"30",name:"page-30",component:ik,meta:{slide:{raw:`
# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>
`,title:"A04 Examples",level:1,content:`# A04 Examples

<div class="dense">

- A forgotten password flow with **_"security questions"_** is insecure by design because more than one person can know the answer
- An ecommerce website sells high-end video cards that scalpers buy with bots to resell (bad PR with customers)
- A cinema chain allows booking up to fifteen attendees before requiring a deposit. An attacker could make **hundreds of small booking requests** at once to block all seats, causing massive revenue loss

</div>`,frontmatter:{},index:29,start:467,end:478,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:29,no:30},__clicksElements:[],__preloaded:!1}},{path:"31",name:"page-31",component:dk,meta:{slide:{raw:`
# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>
`,title:"A04 How to prevent",level:1,content:`# A04 How to prevent

<div class="dense">

- Model threats for the application, all its flows and business logic
- Continuously evaluate security requirement and design during the development lifecycle
- Consider security rules and access controls for every user story
- **Use unit and integration tests** to verify the application is resistant to the threat model

</div>`,frontmatter:{},index:30,start:479,end:491,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:30,no:31},__clicksElements:[],__preloaded:!1}},{path:"32",name:"page-32",component:mk,meta:{slide:{raw:`
# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>
`,title:"A04 Exercise",level:1,content:`# A04 Exercise

<div class="dense">

- The \`/buy-product\` endpoint does not have protection against bots run by scalpers
- It means that someone can buy a lot of stock quickly and leave legitimate customers without any

</div>`,frontmatter:{},index:31,start:492,end:502,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:31,no:32},__clicksElements:[],__preloaded:!1}},{path:"33",name:"page-33",component:wk,meta:{slide:{raw:`
# A04 Scalping

<div class="dense">

- Run the server for step 4 (\`cd src/a04-insecure-design\`, \`npm start\`)
- In Postman, run the query for \`A04: Buy product\`. Observe the data for \`success: true\` being returned
- Run the query many times in a row in a short period of time
- Notice that there is no protection against multiple sequential purchases
</div>
`,title:"A04 Scalping",level:1,content:'# A04 Scalping\n\n<div class="dense">\n\n- Run the server for step 4 (`cd src/a04-insecure-design`, `npm start`)\n- In Postman, run the query for `A04: Buy product`. Observe the data for `success: true` being returned\n- Run the query many times in a row in a short period of time\n- Notice that there is no protection against multiple sequential purchases\n</div>',frontmatter:{},index:32,start:503,end:514,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:32,no:33},__clicksElements:[],__preloaded:!1}},{path:"34",name:"page-34",component:Dk,meta:{slide:{raw:`
# A04 Fixing it 🪄

<div class="dense">

- Prefer using rate limiter for your routes
- 💡 Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>
`,title:"A04 Fixing it 🪄",level:1,content:`# A04 Fixing it 🪄

<div class="dense">

- Prefer using rate limiter for your routes
- 💡 Using [\`fastify-rate-limit\`](https://github.com/fastify/fastify-rate-limit) is a good idea for setting a rate limit
- Let's consider a scenario where a user can buy a maximum of two products per minute
- Edit the \`/buy-product\` route in the exercise folder considering the scenario above

</div>`,frontmatter:{},index:33,start:515,end:527,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:33,no:34},__clicksElements:[],__preloaded:!1}},{path:"35",name:"page-35",component:$k,meta:{slide:{raw:`
# A04 Solution 💡

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>
`,title:"A04 Solution 💡",level:1,content:`# A04 Solution 💡

<div class="dense">

\`\`\`js
// register the rateLimit plugin in the server.js file
await fastify.register(rateLimit)
\`\`\`

\`\`\`js
// the rate limit is set to a maximum of two purchases per minute
export default async function ecommerce(fastify) {
  fastify.post(
    '/buy-product',
    {
      config: {
        rateLimit: {
          max: 2,
          timeWindow: '1 minute'
        }
      }
    },
    (req, reply) => {
      reply.send({ success: true })
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:34,start:528,end:560,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:34,no:35},__clicksElements:[],__preloaded:!1}},{path:"36",name:"page-36",component:Ik,meta:{slide:{raw:`
# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>
`,title:"A05 Security Misconfiguration",level:1,content:`# A05 Security Misconfiguration

<div class="dense">

- Security misconfigurations are security controls that are inaccurately configured or left insecure, putting your systems and data at risk
- **Badly configured** servers or services can lead to vulnerabilities
- With increased usage of highly configurable software and cloud APIs, there are many opportunities for misconfiguration

</div>`,frontmatter:{},index:35,start:561,end:572,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:35,no:36},__clicksElements:[],__preloaded:!1}},{path:"37",name:"page-37",component:Fk,meta:{slide:{raw:`
# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>
`,title:"A05 Common Vulnerabilities",level:1,content:`# A05 Common Vulnerabilities

<div class="dense">

- Improperly configured **permissions** or security settings
- Unnecessary features enabled: open ports, services, accounts with elevated accesss...
- **Default credentials** unchanged
- Out of date or vulnerable server
- Stack trace from error handling revealing information to users

</div>`,frontmatter:{},index:36,start:573,end:586,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:36,no:37},__clicksElements:[],__preloaded:!1}},{path:"38",name:"page-38",component:Hk,meta:{slide:{raw:`
# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>
`,title:"A05 How to prevent",level:1,content:`# A05 How to prevent

<div class="dense">

- Repeatable, automated and fast to deploy environments
- Different credentials should be used in each environment
- Frequently review security updates, patches and permissions
- A **segmented architecture** increases security by separating components, tenants, containers or cloud security groups
- An automated **test** to verify the effectiveness of the configurations

</div>`,frontmatter:{},index:37,start:587,end:600,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:37,no:38},__clicksElements:[],__preloaded:!1}},{path:"39",name:"page-39",component:zk,meta:{slide:{raw:'\n# A05 Unsigned Cookies 🍪\n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>\n',title:"A05 Unsigned Cookies 🍪",level:1,content:'# A05 Unsigned Cookies 🍪\n\n<div class="dense">\n\n- Run the server for step 5 (`cd src/a05-security-misconfiguration`, `npm start`)\n- In Postman, run the query for `A05: Login`. Observe a cookie with `userId=1` being returned\n- Try to run the query for `A05: Profile`. Observe the information about profile with `userId=1` being returned\n- Try to [change the value of the cookie](https://learning.postman.com/docs/sending-requests/cookies/) to `userId=2`. Observe information about `userId=2` being returned\n\n</div>',frontmatter:{},index:38,start:601,end:613,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:38,no:39},__clicksElements:[],__preloaded:!1}},{path:"40",name:"page-40",component:Qk,meta:{slide:{raw:`
# A05 Fixing it 🪄

<div class="dense">

- 💡 Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>
`,title:"A05 Fixing it 🪄",level:1,content:`# A05 Fixing it 🪄

<div class="dense">

- 💡 Cookie must always be **[signed](https://github.com/fastify/fastify-cookie)** to ensure they are not getting tampered with on client-side by an attacker
- It's important to use **httpOnly** cookies to prevent the cookie being accessed through client side script
- Store the **signing secret** safely.
- Don't store sentive information in cleartext

</div>`,frontmatter:{},index:39,start:614,end:626,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:39,no:40},__clicksElements:[],__preloaded:!1}},{path:"41",name:"page-41",component:tC,meta:{slide:{raw:`
# A05 Solution 💡

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, // 💡 signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>
`,title:"A05 Solution 💡",level:1,content:`# A05 Solution 💡

<div class="dense">

\`\`\`js
export function login(fastify) {
  fastify.post('/login', { schema }, async (req, rep) => {
    const { username, password } = req.body
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, password FROM users WHERE username = \${username}\`
    )
    if (!user) {
      throw errors.Unauthorized('No matching user found')
    }
    const passwordMatch = await comparePassword(password, user.password)
    if (!passwordMatch) {
      throw errors.Unauthorized('Invalid Password')
    }
    rep.setCookie('userId', JSON.stringify(user.id), {
      signed: true, // 💡 signing the cookie
      httpOnly: true // http only
    })
    return 'user logged in'
  })
}
\`\`\`

</div>`,frontmatter:{},index:40,start:627,end:659,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:40,no:41},__clicksElements:[],__preloaded:!1}},{path:"42",name:"page-42",component:lC,meta:{slide:{raw:`
# A05 Solution 💡 (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>
`,title:"A05 Solution 💡 (2)",level:1,content:`# A05 Solution 💡 (2)

<div class="dense">

\`\`\`js
export function profile(fastify) {
  fastify.get('/profile', async req => {
    const { value: id, valid } = fastify.unsignCookie(
      //unsign the cookie and check validity
      req?.cookies?.userId || ''
    )

    if (!valid) {
      // check if the cookie has been tampered
      throw new errors.Unauthorized()
    }
    const {
      rows: [user]
    } = await fastify.pg.query(
      SQL\`SELECT id, username, age FROM users WHERE id = \${id}\`
    )
    if (!user) {
      throw new errors.NotFound()
    }
    return user
  })
}
\`\`\`

</div>`,frontmatter:{},index:41,start:660,end:692,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:41,no:42},__clicksElements:[],__preloaded:!1}},{path:"43",name:"page-43",component:uC,meta:{slide:{raw:`
# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>
`,title:"A06 Vulnerable and Outdated Components",level:1,content:`# A06 Vulnerable and Outdated Components

<div class="dense">

- Applications use a variety of components and libraries which can have security issues
- Vulnerable components can be an attack vector until they are patched
- Particularly relevant in the node.js world with an ever-growing **NPM dependency tree**

</div>`,frontmatter:{},index:42,start:693,end:704,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:42,no:43},__clicksElements:[],__preloaded:!1}},{path:"44",name:"page-44",component:hC,meta:{slide:{raw:`
# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>
`,title:"A06 Common Vulnerabilities",level:1,content:`# A06 Common Vulnerabilities

<div class="dense">

- Not **tracking versions** of used components, including nested dependencies
- Using unsupported or vulnerable software, including OS, web server, database, APIs, libraries, components, runtimes...
- Not **scanning for vulnerabilities** regularly and subscribing to security news for used components
- Not fixing vulnerable dependencies in a timely fashion

</div>`,frontmatter:{},index:43,start:705,end:717,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:43,no:44},__clicksElements:[],__preloaded:!1}},{path:"45",name:"page-45",component:vC,meta:{slide:{raw:`
# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>
`,title:"A06 How to prevent",level:1,content:`# A06 How to prevent

<div class="dense">

- Remove **unused dependencies**, unnecessary features, components, files, and documentation
- Continuously inventory the versions of components and their dependencies
- Monitor for libraries and components that are **unmaintained** or do not create security patches for older versions
- Only obtain components from **official** sources over secure links

</div>`,frontmatter:{},index:44,start:718,end:730,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:44,no:45},__clicksElements:[],__preloaded:!1}},{path:"46",name:"page-46",component:bC,meta:{slide:{raw:'\n# A06 The attack 🥷\n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>\n',title:"A06 The attack 🥷",level:1,content:'# A06 The attack 🥷\n\n<div class="dense">\n\n- Run the server for step 6 (`cd src/a06-vulnerable-outdated`, `npm start`)\n- In Postman, run the query for `A06: Profile`. Observe error `404` being returned\n- Try to run the query for `A06: Exploit vulnerability`. Observe the error message response\n</div>',frontmatter:{},index:45,start:731,end:741,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:45,no:46},__clicksElements:[],__preloaded:!1}},{path:"47",name:"page-47",component:CC,meta:{slide:{raw:`
# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>
`,title:"A06 The attack (2)",level:1,content:`# A06 The attack (2)

<div class="dense">

- Because of an outdated version of the HTTP client library **[undici](https://github.com/nodejs/undici)** we can exploit a known **[vulnerability](https://www.cvedetails.com/cve/CVE-2022-35949/)**
- By passing the value \`//127.0.0.1\` in the username query param, we override the original hostname and we can make the server perform a GET to \`127.0.0.1:80\`
</div>`,frontmatter:{},index:46,start:742,end:751,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:46,no:47},__clicksElements:[],__preloaded:!1}},{path:"48",name:"page-48",component:$C,meta:{slide:{raw:`
# A06 Fixing it 🪄

<div class="dense">

- 💡 Update the library to a version in which this vulnerability was fixed

</div>
`,title:"A06 Fixing it 🪄",level:1,content:`# A06 Fixing it 🪄

<div class="dense">

- 💡 Update the library to a version in which this vulnerability was fixed

</div>`,frontmatter:{},index:47,start:752,end:761,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:47,no:48},__clicksElements:[],__preloaded:!1}},{path:"49",name:"page-49",component:MC,meta:{slide:{raw:`
# A06 The Solution 💡

<div class="dense">

\`\`\`js
import { request } from 'undici' //💡 updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>
`,title:"A06 The Solution 💡",level:1,content:`# A06 The Solution 💡

<div class="dense">

\`\`\`js
import { request } from 'undici' //💡 updated undici version >= 5.8.1
export default function (fastify) {
  fastify.get(
    '/profile',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { username } = req.query
      if (/^\\//.test(username)) {
        // check username doesn't start with /
        throw errors.BadRequest()
      }
      const { body, statusCode } = await request({
        origin: 'http://example.com',
        pathname: username
      })
      if (statusCode !== 200) {
        throw errors.NotFound()
      }
      return body
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:48,start:762,end:796,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:48,no:49},__clicksElements:[],__preloaded:!1}},{path:"50",name:"page-50",component:NC,meta:{slide:{raw:`
# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>
`,title:"A07 Identification and Authentication Failures",level:1,content:`# A07 Identification and Authentication Failures

<div class="dense">

- Verification of the user's identity, **authentication**, and session management is crucial to security
- Weak or vulnerable authentication systems can be exploited to gain access
- Systems with broken authentication can lead to data breaches and passwords leak

</div>`,frontmatter:{},index:49,start:797,end:808,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:49,no:50},__clicksElements:[],__preloaded:!1}},{path:"51",name:"page-51",component:VC,meta:{slide:{raw:`
# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>
`,title:"A07 Common Vulnerabilities",level:1,content:`# A07 Common Vulnerabilities

<div class="dense">

- Application allows for credentials stuffing or brute forcing
- Allows default, weak or known passwords
- Exploitable credential recovery processes
- Lack of effective **multi-factor authentication**
- Unencrypted or weakly encrypted **password storage**

</div>`,frontmatter:{},index:50,start:809,end:822,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:50,no:51},__clicksElements:[],__preloaded:!1}},{path:"52",name:"page-52",component:KC,meta:{slide:{raw:`
# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>
`,title:"A07 How to prevent",level:1,content:`# A07 How to prevent

<div class="dense">

- Where possible, implement **multi-factor authentication**
- Require **strong passwords** (length, complexity, rotation policies, and don't allow leaked passwords use)
- Ensure registration and credential recovery use the same messages for all outcomes
- Limit or increasingly delay failed login attempts
- Use secure password data store practices (salting + hashing)

</div>`,frontmatter:{},index:51,start:823,end:836,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:51,no:52},__clicksElements:[],__preloaded:!1}},{path:"53",name:"page-53",component:JC,meta:{slide:{raw:`
# A07 Allowing leaked passwords 💧

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>
`,title:"A07 Allowing leaked passwords 💧",level:1,content:`# A07 Allowing leaked passwords 💧

<div class="dense">

- In 2017 the NIST **[recommended](https://pages.nist.gov/800-63-3/sp800-63b.html#sec4:~:text=when%20processing%20requests,a%20different%20value)** that websites should check all new passwords against available lists of data breaches.
- This practice has been adopted by OWASP and became part of their **[recommendation](<https://owasp.org/Top10/A07_2021-Identification_and_Authentication_Failures/#:~:text=Align%20password%20length%2C%20complexity%2C%20and%20rotation%20policies%20with%20National%20Institute%20of%20Standards%20and%20Technology%20(NIST)%20800%2D63b%27s%20guidelines%20in%20section%205.1.1%20for%20Memorized%20Secrets%20or%20other%20modern%2C%20evidence%2Dbased%20password%20policies.>)**.
- In the real scenario you should try to use something like **[Have I Been Pwned](https://haveibeenpwned.com/Passwords)**

</div>`,frontmatter:{},index:52,start:837,end:848,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:52,no:53},__clicksElements:[],__preloaded:!1}},{path:"54",name:"page-54",component:tx,meta:{slide:{raw:`
# A07 Allowing leaked passwords 💧 (2)

<div class="dense">

- In the workshop - the database contains the list of leaked passwords in \`databreachrecords\`
- Run the server for step 7 (\`cd src/a07-authentication-failures\`, \`npm start\`)
- In Postman, run the query for \`A07: Register\`. Observe a token is succesfully returned
- In the database check the \`databreachrecords\` table for password used in the Postman request body

</div>
`,title:"A07 Allowing leaked passwords 💧 (2)",level:1,content:'# A07 Allowing leaked passwords 💧 (2)\n\n<div class="dense">\n\n- In the workshop - the database contains the list of leaked passwords in `databreachrecords`\n- Run the server for step 7 (`cd src/a07-authentication-failures`, `npm start`)\n- In Postman, run the query for `A07: Register`. Observe a token is succesfully returned\n- In the database check the `databreachrecords` table for password used in the Postman request body\n\n</div>',frontmatter:{},index:53,start:849,end:861,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:53,no:54},__clicksElements:[],__preloaded:!1}},{path:"55",name:"page-55",component:rx,meta:{slide:{raw:`
# A07 Allowing leaked passwords 💧 (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>
`,title:"A07 Allowing leaked passwords 💧 (3)",level:1,content:`# A07 Allowing leaked passwords 💧 (3)

<div class="dense">

- It should not allow to use passwords that are known to be leaked
- Instead it should require the user to set a different password indicating what is the reason
- Place your solution in the \`routes/user/index.js\`
- Test it by running \`npm run verify\` (it will fail initially)

</div>`,frontmatter:{},index:54,start:862,end:874,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:54,no:55},__clicksElements:[],__preloaded:!1}},{path:"56",name:"page-56",component:cx,meta:{slide:{raw:"\n# A07 Fixing it 🪄\n\n<div class=\"dense\">\n\n- 💡 Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>\n",title:"A07 Fixing it 🪄",level:1,content:"# A07 Fixing it 🪄\n\n<div class=\"dense\">\n\n- 💡 Using data available in `dataBreachRecords` check if requested password is safe to use\n- Run `sql` query inside the `/register` endpoint to check if the password is there\n- Return a `400` error with `message` indicating the source of the leak: `'You are trying to use password that is known to be exposed in data breaches: ${source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.'`\n\n</div>",frontmatter:{},index:55,start:875,end:886,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:55,no:56},__clicksElements:[],__preloaded:!1}},{path:"57",name:"page-57",component:hx,meta:{slide:{raw:`
# A07 Solution 💡

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>
`,title:"A07 Solution 💡",level:1,content:`# A07 Solution 💡

<div class="dense">

\`\`\`js
const {
  rows: [breach]
} = await fastify.pg.query(
  SQL\`SELECT * FROM databreachrecords WHERE password=\${password}\`
)

if (breach) {
  res.send(
    errors.BadRequest(
      \`You are trying to use password that is known to be exposed in data breaches: \${breach.source}. Use a different one. Read more here: https://haveibeenpwned.com/Passwords.\`
    )
  )
}
\`\`\`

</div>`,frontmatter:{},index:56,start:887,end:910,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:56,no:57},__clicksElements:[],__preloaded:!1}},{path:"58",name:"page-58",component:vx,meta:{slide:{raw:`
# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>
`,title:"A08 Software and Data Integrity Failures",level:1,content:`# A08 Software and Data Integrity Failures

<div class="dense">

- Code and infrastructure not protected against **integrity violations**
- Attackers gaining access to a plugin and deploy an unverified update which would get distributed to all its users

</div>`,frontmatter:{},index:57,start:911,end:921,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:57,no:58},__clicksElements:[],__preloaded:!1}},{path:"59",name:"page-59",component:bx,meta:{slide:{raw:`
# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>
`,title:"A08 Common Vulnerabilities",level:1,content:`# A08 Common Vulnerabilities

<div class="dense">

- Libraries coming from **untrusted sources**, repos or CDNs
- Deserialization of Untrusted Data, where objects or data are encoded or serialized into a structure that an attacker can see and modify is vulnerable to **insecure deserialization**
- An insecure CI/CD pipeline
- Updates downloaded without sufficient integrity verification

</div>`,frontmatter:{},index:58,start:922,end:934,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:58,no:59},__clicksElements:[],__preloaded:!1}},{path:"60",name:"page-60",component:Cx,meta:{slide:{raw:`
# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>
`,title:"A08 How to prevent",level:1,content:`# A08 How to prevent

<div class="dense">

- Using digital signatures for integrity checks on data and downloaded software
- Ensure **npm dependencies** are trusted. For higher risks, host a custom repository of packages with internally vetted dependencies
- Use automated tools to verify that components don't contain known vulnerabilities
- Ensure there are code reviews for changes to minimise the risk of malicious code being introduced

</div>`,frontmatter:{},index:59,start:935,end:947,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:59,no:60},__clicksElements:[],__preloaded:!1}},{path:"61",name:"page-61",component:$x,meta:{slide:{raw:'\n# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>\n',title:"A08 Exercise: Insecure Deserialization",level:1,content:'# A08 Exercise: Insecure Deserialization\n\n<div class="dense">\n\n- Run the server for step 8 (`cd src/a08-software-data-integrity-failures`, `npm start`)\n- In Postman, try to run the query for `A08: Get profile from cookie`. There is a cookie attached to the request `/profile` containing the user\'s profile encoded as base64. Observe the request `status code 500` being returned\n- This is happening because the server is deserializing a `cookie containing a malicious JavaScript` code which is forcing the server to throw an exception\n\n</div>',frontmatter:{},index:60,start:948,end:959,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:60,no:61},__clicksElements:[],__preloaded:!1}},{path:"62",name:"page-62",component:Lx,meta:{slide:{raw:`
# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>
`,title:"A08 Exercise: Insecure Deserialization",level:1,content:`# A08 Exercise: Insecure Deserialization

<div class="dense">

- When decoding the cookie attached to the \`/profile\` request, this is what the output looks like:

\`\`\`javascript
// base64 to ASCII
{
  id: 1,
  username:
    "_$$ND_FUNC$$_function () {\\n    throw new Error('server error')\\n  }()"
}
\`\`\`

- Note that there is an \`IIFE\` at the end of the username key, and this causes the function to run on the server as it is doing an insecure deserialization
- The full step by step to serialize a JavaScript code and inject it as a cookie can be found [in this article](https://opsecx.com/index.php/2017/02/08/exploiting-node-js-deserialization-bug-for-remote-code-execution/)

</div>`,frontmatter:{},index:61,start:960,end:981,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:61,no:62},__clicksElements:[],__preloaded:!1}},{path:"63",name:"page-63",component:qx,meta:{slide:{raw:`
# A08 Fixing it 🪄

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
- 💡 \`JSON.parse\` is a safer way to deserialize data

</div>
`,title:"A08 Fixing it 🪄",level:1,content:`# A08 Fixing it 🪄

<div class="dense">

- Run the automated tests for step 8 - \`npm run verify\`
- The tests fail because the server shouldn't trust a library that provides a way to deserialize strings into executable JavaScript code
- Untrusted data passed into \`unserialize()\` function in \`node-serialize\` module can be exploited to achieve arbitrary code execution by passing a serialized JavaScript Object with an Immediately invoked function expression (IIFE)
- 💡 \`JSON.parse\` is a safer way to deserialize data

</div>`,frontmatter:{},index:62,start:982,end:994,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:62,no:63},__clicksElements:[],__preloaded:!1}},{path:"64",name:"page-64",component:zx,meta:{slide:{raw:`
# A08 Solution 💡

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>
`,title:"A08 Solution 💡",level:1,content:`# A08 Solution 💡

<div class="dense">

\`\`\`js
export default async function solution(fastify) {
  fastify.get('/profile', req => {
    const cookieAsStr = Buffer.from(req.cookies.profile, 'base64').toString(
      'ascii'
    )

    const profile = JSON.parse(cookieAsStr)

    if (profile.username) {
      return 'Hello ' + profile.username
    }

    return 'Hello guest'
  })
}
\`\`\`

</div>`,frontmatter:{},index:63,start:995,end:1020,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:63,no:64},__clicksElements:[],__preloaded:!1}},{path:"65",name:"page-65",component:Qx,meta:{slide:{raw:`
# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>
`,title:"A09 Security Logging and Monitoring Failures",level:1,content:`# A09 Security Logging and Monitoring Failures

<div class="dense">

- Proper logging and monitoring is **critical** to detecting and responding to breaches
- It is important for alerting, accountability, visibility and forensics of security incidents

</div>`,frontmatter:{},index:64,start:1021,end:1031,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:64,no:65},__clicksElements:[],__preloaded:!1}},{path:"66",name:"page-66",component:e4,meta:{slide:{raw:`
# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>
`,title:"A09 Common Vulnerabilities",level:1,content:`# A09 Common Vulnerabilities

<div class="dense">

- Auditable events, such as logins, failed logins, and **high-value transactions**, are not logged
- Warnings and errors generate no, inadequate, or unclear log messages
- Logs of applications and APIs are not monitored for **suspicious activity**
- The application cannot detect, escalate, or alert for active attacks in real-time or near real-time

</div>`,frontmatter:{},index:65,start:1032,end:1044,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:65,no:66},__clicksElements:[],__preloaded:!1}},{path:"67",name:"page-67",component:o4,meta:{slide:{raw:`
# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>
`,title:"A09 How to prevent",level:1,content:`# A09 How to prevent

<div class="dense">

- Ensure all login, access control, and server-side input validation failures can be logged with **sufficient user context** to identify suspicious or malicious accounts
- Ensure log data is encoded correctly to prevent injections or attacks on the logging or monitoring systems
- Ensure high-value transactions have an audit trail with integrity controls to prevent tampering or deletion, such as append-only database tables or similar.

</div>`,frontmatter:{},index:66,start:1045,end:1056,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:66,no:67},__clicksElements:[],__preloaded:!1}},{path:"68",name:"page-68",component:i4,meta:{slide:{raw:`
# A09 Suspicious activity 🤨

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>
`,title:"A09 Suspicious activity 🤨",level:1,content:`# A09 Suspicious activity 🤨

<div class="dense">

- Run the server for step 5 (\`cd src/a09-security-logging\`, \`npm run verify\`)
- You can observe a log message \`something suspicious is happening\`
- Note that the application is using a vulnerable version of the http client **[undici](https://github.com/nodejs/undici/security/advisories/GHSA-f772-66g8-q5h3)**

</div>`,frontmatter:{},index:67,start:1057,end:1068,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:67,no:68},__clicksElements:[],__preloaded:!1}},{path:"69",name:"page-69",component:d4,meta:{slide:{raw:`
# A09 Fixing it 🪄

<div class="dense">

- 💡 Log user input to identify suspicious or malicious access
- Validate user input

</div>
`,title:"A09 Fixing it 🪄",level:1,content:`# A09 Fixing it 🪄

<div class="dense">

- 💡 Log user input to identify suspicious or malicious access
- Validate user input

</div>`,frontmatter:{},index:68,start:1069,end:1079,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:68,no:69},__clicksElements:[],__preloaded:!1}},{path:"70",name:"page-70",component:g4,meta:{slide:{raw:`
# A09 Solution 💡

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>
`,title:"A09 Solution 💡",level:1,content:`# A09 Solution 💡

<div class="dense">

\`\`\`js
// profile route handler

async req => {
  console.log({
    username: req.user.username, // add context to logs to help identify the user
    input: req.headers['content-type']
  })
  const headerCharRegex = /[^\\t\\x20-\\x7e\\x80-\\xff]/ // validate user input
  if (headerCharRegex.exec(req.headers['content-type']) !== null) {
    throw errors.BadRequest()
  }
  const { body } = await request('http://localhost:3001', {
    method: 'GET',
    headers: {
      'content-type': req.headers['content-type']
    }
  })
  return body
}
\`\`\`

 </div>`,frontmatter:{},index:69,start:1080,end:1109,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:69,no:70},__clicksElements:[],__preloaded:!1}},{path:"71",name:"page-71",component:A4,meta:{slide:{raw:`
# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>
`,title:"A10 Server Side Request Forgery",level:1,content:`# A10 Server Side Request Forgery

<div class="dense">

- SSRF flaws occur whenever a web application is fetching a remote resource without **validating** the user-supplied URL
- It allows an attacker to coerce the application to send a crafted request to an **unexpected destination**, even when protected by a firewall, VPN, or another type of network access control list

</div>`,frontmatter:{},index:70,start:1110,end:1120,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:70,no:71},__clicksElements:[],__preloaded:!1}},{path:"72",name:"page-72",component:k4,meta:{slide:{raw:`
# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
- ❗ Do not mitigate SSRF via the use of a deny list or regular expression

</div>
`,title:"A10 How to prevent",level:1,content:`# A10 How to prevent

<div class="dense">

- **Sanitize and validate** all client-supplied input data
- Enforce the URL schema, port, and destination with a positive allow list
- Do not send raw responses to clients
- Disable HTTP redirections
- ❗ Do not mitigate SSRF via the use of a deny list or regular expression

</div>`,frontmatter:{},index:71,start:1121,end:1134,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:71,no:72},__clicksElements:[],__preloaded:!1}},{path:"73",name:"page-73",component:S4,meta:{slide:{raw:`
# A10 The Attack 🥷

<div class="dense">

- Run the server for step 10 (\`cd src/a10-server-side-request-forgery\`, \`npm start\`)
- In Postman, run the query for \`A10: Upload Image\`. Observe an image being returned
- Try to run the query for \`A10: Malicious Image url\`. Observe \`something suspicious is happening\` being returned
- The server is not sanitizing user input so it will send a request to whatever url provided in the payload

</div>
`,title:"A10 The Attack 🥷",level:1,content:'# A10 The Attack 🥷\n\n<div class="dense">\n\n- Run the server for step 10 (`cd src/a10-server-side-request-forgery`, `npm start`)\n- In Postman, run the query for `A10: Upload Image`. Observe an image being returned\n- Try to run the query for `A10: Malicious Image url`. Observe `something suspicious is happening` being returned\n- The server is not sanitizing user input so it will send a request to whatever url provided in the payload\n\n</div>',frontmatter:{},index:72,start:1135,end:1147,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:72,no:73},__clicksElements:[],__preloaded:!1}},{path:"74",name:"page-74",component:P4,meta:{slide:{raw:`
# A10 Fixing it 🪄

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
- 💡 Make sure the requested domain is in the whitelist

</div>
`,title:"A10 Fixing it 🪄",level:1,content:`# A10 Fixing it 🪄

<div class="dense">

- Sanitize the url making sure it's valid
- Create a whitelist of allowed domains by adding them in the database column \`allowedImageDomain\`
- 💡 Make sure the requested domain is in the whitelist

</div>`,frontmatter:{},index:73,start:1148,end:1159,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:73,no:74},__clicksElements:[],__preloaded:!1}},{path:"75",name:"page-75",component:F4,meta:{slide:{raw:`
# A10 Solution 💡

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>
`,title:"A10 Solution 💡",level:1,content:`# A10 Solution 💡

<div class="dense">

\`\`\`js
export default async function profilePicture(fastify) {
  fastify.post(
    '/user/image',
    {
      onRequest: [fastify.authenticate]
    },
    async req => {
      const { imgUrl } = req.body
      const url = validateUrl(imgUrl) // validate url using the URL object
      const {
        rows: [whitelisted]
      } = await fastify.pg.query(
        SQL\`SELECT * FROM allowedImageDomain WHERE hostname = \${url.hostname}\`
      )
      if (!whitelisted) {
        throw errors.Forbidden()
      }
      const { data } = await axios.get(url.href)
      return data
    }
  )
}
\`\`\`

</div>`,frontmatter:{},index:74,start:1160,end:1192,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:74,no:75},__clicksElements:[],__preloaded:!1}},{path:"76",name:"page-76",component:H4,meta:{slide:{raw:`
# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>
`,title:"Beyond the Top 10",level:1,content:`# Beyond the Top 10

<div class="dense">

- The OWASP Top 10 is a good introduction to the most common issues to keep in mind while developing
- By its nature, the Top 10 is a series of guidelines but can't be tested easily as its applications are broad
- On the other hand the [OWASP Application Security Verification Standard](https://owasp.org/www-project-application-security-verification-standard/) is a comprehensive list of security criteria
- Those are specific, standardised and verifiable security requirements on which on app can be tested to either pass or fail

</div>`,frontmatter:{},index:75,start:1193,end:1205,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:75,no:76},__clicksElements:[],__preloaded:!1}},{path:"77",name:"page-77",component:z4,meta:{slide:{raw:`
# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>
`,title:"Other useful OWASP resources",level:1,content:`# Other useful OWASP resources

<div class="dense">

- The [OWASP Cheat Sheet Series](https://cheatsheetseries.owasp.org) provides condensed information on specific security topics related to OWASP standards
- The [OWASP Software Assurance Maturity Model](https://owaspsamm.org) can help an organization analyze and improve their software security

</div>`,frontmatter:{},index:76,start:1206,end:1216,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:76,no:77},__clicksElements:[],__preloaded:!1}},{path:"78",name:"page-78",component:Q4,meta:{slide:{raw:`
# Thanks For Having Us!

## 👏👏👏
`,title:"Thanks For Having Us!",level:1,content:`# Thanks For Having Us!

## 👏👏👏`,frontmatter:{},index:77,start:1217,end:1222,noteHTML:"",filepath:"/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/slides.md",id:77,no:78},__clicksElements:[],__preloaded:!1}},{path:"79",component:cE,meta:{layout:"end"}}],Qe=J4,co=[{name:"play",path:"/",component:Pb,children:[...Qe]},{name:"print",path:"/print",component:lE},{path:"",redirect:{path:"/1"}},{path:"/:pathMatch(.*)",redirect:{path:"/1"}}];{let t=function(n){if(!io.remote||io.remote===n.query.password)return!0;if(io.remote&&n.query.password===void 0){const s=prompt("Enter password");if(io.remote===s)return!0}return n.params.no?{path:`/${n.params.no}`}:{path:""}};co.push({path:"/presenter/print",component:()=>In(()=>import("./PresenterPrint-0a3b49c7.js"),["assets/PresenterPrint-0a3b49c7.js","assets/NoteDisplay-d0b7f6a3.js"])}),co.push({name:"notes",path:"/notes",component:()=>In(()=>import("./NotesView-869bcc25.js"),["assets/NotesView-869bcc25.js","assets/NoteDisplay-d0b7f6a3.js"]),beforeEnter:t}),co.push({name:"presenter",path:"/presenter/:no",component:()=>In(()=>import("./Presenter-57e2190b.js"),["assets/Presenter-57e2190b.js","assets/NoteDisplay-d0b7f6a3.js","assets/DrawingControls-a68dff15.js","assets/Presenter-103ee41b.css"]),beforeEnter:t}),co.push({path:"/presenter",redirect:{path:"/presenter/1"}})}const _t=A0({history:w_("/owasp-top-ten-workshop/"),routes:co});function Z4(t,n,{mode:s="replace"}={}){return $({get(){const o=_t.currentRoute.value.query[t];return o==null?n??null:Array.isArray(o)?o.filter(Boolean):o},set(o){lt(()=>{_t[C(s)]({query:{..._t.currentRoute.value.query,[t]:o}})})}})}const Qf=Y(0);lt(()=>{_t.afterEach(async()=>{await lt(),Qf.value+=1})});const Jf=Y(0),Lt=$(()=>_t.currentRoute.value),js=$(()=>Lt.value.query.print!==void 0),X4=$(()=>Lt.value.query.print==="clicks"),cn=$(()=>Lt.value.query.embedded!==void 0),gt=$(()=>Lt.value.path.startsWith("/presenter")),e5=$(()=>Lt.value.path.startsWith("/notes")),_o=$(()=>js.value&&!X4.value),La=$(()=>Lt.value.query.password),t5=$(()=>!gt.value&&(!Te.remote||La.value===Te.remote)),ju=Z4("clicks","0"),n5=$(()=>Qe.length-1),s5=$(()=>Lt.value.path),Ye=$(()=>parseInt(s5.value.split(/\//g).slice(-1)[0])||1);$(()=>pl(Ye.value));const dt=$(()=>Qe.find(t=>t.path===`${Ye.value}`));$(()=>{var t,n,s;return(s=(n=(t=dt.value)==null?void 0:t.meta)==null?void 0:n.slide)==null?void 0:s.id});$(()=>{var t,n;return((n=(t=dt.value)==null?void 0:t.meta)==null?void 0:n.layout)||(Ye.value===1?"cover":"default")});const Ll=$(()=>Qe.find(t=>t.path===`${Math.min(Qe.length,Ye.value+1)}`)),o5=$(()=>Qe.find(t=>t.path===`${Math.max(1,Ye.value-1)}`)),r5=$(()=>{var t,n;return Qf.value,((n=(t=dt.value)==null?void 0:t.meta)==null?void 0:n.__clicksElements)||[]}),Mt=$({get(){if(_o.value)return 99999;let t=+(ju.value||0);return isNaN(t)&&(t=0),t},set(t){ju.value=t.toString()}}),Ur=$(()=>{var t,n;return+(((n=(t=dt.value)==null?void 0:t.meta)==null?void 0:n.clicks)??r5.value.length)}),l5=$(()=>Ye.value<Qe.length-1||Mt.value<Ur.value),a5=$(()=>Ye.value>1||Mt.value>0),i5=$(()=>Qe.filter(t=>{var n,s;return(s=(n=t.meta)==null?void 0:n.slide)==null?void 0:s.title}).reduce((t,n)=>(Oi(t,n),t),[])),c5=$(()=>Pi(i5.value,dt.value));$(()=>Ii(c5.value));const u5=$(()=>y5(Jf.value,dt.value,o5.value));we(dt,(t,n)=>{Jf.value=Number(t==null?void 0:t.path)-Number(n==null?void 0:n.path)});function Rn(){Ur.value<=Mt.value?Fo():Mt.value+=1}async function Ln(){Mt.value<=0?await No():Mt.value-=1}function pl(t){return gt.value?`/presenter/${t}`:`/${t}`}function Fo(){const t=Math.min(Qe.length,Ye.value+1);return qs(t)}async function No(t=!0){const n=Math.max(1,Ye.value-1);await qs(n),t&&Ur.value&&_t.replace({query:{...Lt.value.query,clicks:Ur.value}})}function qs(t,n){return _t.push({path:pl(t),query:{...Lt.value.query,clicks:n}})}function p5(t){const n=Y(0),{direction:s,distanceX:o,distanceY:r}=Fv(t,{onSwipeStart(l){l.pointerType==="touch"&&(Mo.value||(n.value=ma()))},onSwipeEnd(l){if(l.pointerType!=="touch"||!n.value||Mo.value)return;const a=Math.abs(o.value),i=Math.abs(r.value);a/window.innerWidth>.3||a>100?s.value===dn.LEFT?Rn():Ln():(i/window.innerHeight>.4||i>200)&&(s.value===dn.DOWN?No():Fo())}})}async function Fa(){const{saveAs:t}=await In(()=>import("./FileSaver.min-17c85779.js").then(n=>n.F),[]);t(zd(Te.download)?Te.download:Te.exportFilename?`${Te.exportFilename}.pdf`:"/owasp-top-ten-workshop/slidev-exported.pdf",`${Te.title}.pdf`)}async function d5(t){var n,s;if(t==null){const o=(s=(n=dt.value)==null?void 0:n.meta)==null?void 0:s.slide;if(!(o!=null&&o.filepath))return!1;t=`${o.filepath}:${o.start}`}return await fetch(`/__open-in-editor?file=${encodeURIComponent(t)}`),!0}function Oi(t,n,s=1){var r,l,a,i,c;const o=(l=(r=n.meta)==null?void 0:r.slide)==null?void 0:l.level;o&&o>s&&t.length>0?Oi(t[t.length-1].children,n,s+1):t.push({children:[],level:s,path:n.path,hideInToc:!!((a=n.meta)!=null&&a.hideInToc),title:(c=(i=n.meta)==null?void 0:i.slide)==null?void 0:c.title})}function Pi(t,n,s=!1,o){return t.map(r=>{const l={...r,active:r.path===(n==null?void 0:n.path),hasActiveParent:s};return l.children.length>0&&(l.children=Pi(l.children,n,l.active||l.hasActiveParent,l)),o&&(l.active||l.activeParent)&&(o.activeParent=!0),l})}function Ii(t,n=1){return t.filter(s=>!s.hideInToc).map(s=>({...s,children:Ii(s.children,n+1)}))}const f5={"slide-left":"slide-left | slide-right","slide-right":"slide-right | slide-left","slide-up":"slide-up | slide-down","slide-down":"slide-down | slide-up"};function h5(t,n=!1){if(!t||(typeof t=="string"&&(t={name:t}),!t.name))return;let s=t.name.includes("|")?t.name:f5[t.name]||t.name;if(s.includes("|")){const[o,r]=s.split("|").map(l=>l.trim());s=n?r:o}if(s)return{...t,name:s}}function y5(t,n,s){var r,l;let o=t>0?(r=s==null?void 0:s.meta)==null?void 0:r.transition:(l=n==null?void 0:n.meta)==null?void 0:l.transition;return o||(o=Te.transition),h5(o,t<0)}function m5(){const t=Te.titleTemplate.replace("%s",Te.title||"Slidev");vi({title:t}),t6(Te.htmlAttrs),f6(`${t} - shared`),g6(`${t} - drawings`);const n=`${location.origin}_${a6()}`;function s(){e5.value||!gt.value&&!l6.includes(location.host.split(":")[0])||(gt.value?(Zs("page",+Ye.value),Zs("clicks",Mt.value)):(Zs("viewerPage",+Ye.value),Zs("viewerClicks",Mt.value)),Zs("lastUpdate",{id:n,type:gt.value?"presenter":"viewer",time:new Date().getTime()}))}_t.afterEach(s),we(Mt,s),h6(o=>{var l;_t.currentRoute.value.path.match(/^\/(\d+|presenter)\/?/)&&((l=o.lastUpdate)==null?void 0:l.type)==="presenter"&&(+o.page!=+Ye.value||+Mt.value!=+o.clicks)&&_t.replace({path:pl(o.page),query:{..._t.currentRoute.value.query,clicks:o.clicks||0}})})}const g5=Le({__name:"App",setup(t){return O(F),m5(),(n,s)=>{const o=Ir("RouterView"),r=Ir("StarportCarrier");return E(),oe(Oe,null,[te(o),te(r)],64)}}}),v5=N(g5,[["__file","/home/runner/work/owasp-top-ten-workshop/owasp-top-ten-workshop/node_modules/@slidev/client/App.vue"]]);function Fl(t){return t!==null&&typeof t=="object"}function Na(t,n,s=".",o){if(!Fl(n))return Na(t,{},s,o);const r=Object.assign({},n);for(const l in t){if(l==="__proto__"||l==="constructor")continue;const a=t[l];a!=null&&(o&&o(r,l,a,s)||(Array.isArray(a)&&Array.isArray(r[l])?r[l]=[...a,...r[l]]:Fl(a)&&Fl(r[l])?r[l]=Na(a,r[l],(s?`${s}.`:"")+l.toString(),o):r[l]=a))}return r}function _5(t){return(...n)=>n.reduce((s,o)=>Na(s,o,"",t),{})}const w5=_5(),Zf=1/60*1e3,A5=typeof performance<"u"?()=>performance.now():()=>Date.now(),Xf=typeof window<"u"?t=>window.requestAnimationFrame(t):t=>setTimeout(()=>t(A5()),Zf);function b5(t){let n=[],s=[],o=0,r=!1,l=!1;const a=new WeakSet,i={schedule:(c,p=!1,d=!1)=>{const f=d&&r,h=f?n:s;return p&&a.add(c),h.indexOf(c)===-1&&(h.push(c),f&&r&&(o=n.length)),c},cancel:c=>{const p=s.indexOf(c);p!==-1&&s.splice(p,1),a.delete(c)},process:c=>{if(r){l=!0;return}if(r=!0,[n,s]=[s,n],s.length=0,o=n.length,o)for(let p=0;p<o;p++){const d=n[p];d(c),a.has(d)&&(i.schedule(d),t())}r=!1,l&&(l=!1,i.process(c))}};return i}const E5=40;let ja=!0,jo=!1,qa=!1;const Rs={delta:0,timestamp:0},Qo=["read","update","preRender","render","postRender"],dl=Qo.reduce((t,n)=>(t[n]=b5(()=>jo=!0),t),{}),Ha=Qo.reduce((t,n)=>{const s=dl[n];return t[n]=(o,r=!1,l=!1)=>(jo||C5(),s.schedule(o,r,l)),t},{}),D5=Qo.reduce((t,n)=>(t[n]=dl[n].cancel,t),{});Qo.reduce((t,n)=>(t[n]=()=>dl[n].process(Rs),t),{});const k5=t=>dl[t].process(Rs),eh=t=>{jo=!1,Rs.delta=ja?Zf:Math.max(Math.min(t-Rs.timestamp,E5),1),Rs.timestamp=t,qa=!0,Qo.forEach(k5),qa=!1,jo&&(ja=!1,Xf(eh))},C5=()=>{jo=!0,ja=!0,qa||Xf(eh)},th=()=>Rs;function nh(t,n){var s={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,o=Object.getOwnPropertySymbols(t);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(s[o[r]]=t[o[r]]);return s}var Mi=function(){},qo=function(){};Mi=function(t,n){!t&&typeof console<"u"&&console.warn(n)},qo=function(t,n){if(!t)throw new Error(n)};const Va=(t,n,s)=>Math.min(Math.max(s,t),n),Nl=.001,x5=.01,qu=10,B5=.05,S5=1;function $5({duration:t=800,bounce:n=.25,velocity:s=0,mass:o=1}){let r,l;Mi(t<=qu*1e3,"Spring duration must be 10 seconds or less");let a=1-n;a=Va(B5,S5,a),t=Va(x5,qu,t/1e3),a<1?(r=p=>{const d=p*a,f=d*t,h=d-s,m=Ua(p,a),y=Math.exp(-f);return Nl-h/m*y},l=p=>{const f=p*a*t,h=f*s+s,m=Math.pow(a,2)*Math.pow(p,2)*t,y=Math.exp(-f),v=Ua(Math.pow(p,2),a);return(-r(p)+Nl>0?-1:1)*((h-m)*y)/v}):(r=p=>{const d=Math.exp(-p*t),f=(p-s)*t+1;return-Nl+d*f},l=p=>{const d=Math.exp(-p*t),f=(s-p)*(t*t);return d*f});const i=5/t,c=O5(r,l,i);if(t=t*1e3,isNaN(c))return{stiffness:100,damping:10,duration:t};{const p=Math.pow(c,2)*o;return{stiffness:p,damping:a*2*Math.sqrt(o*p),duration:t}}}const T5=12;function O5(t,n,s){let o=s;for(let r=1;r<T5;r++)o=o-t(o)/n(o);return o}function Ua(t,n){return t*Math.sqrt(1-n*n)}const P5=["duration","bounce"],I5=["stiffness","damping","mass"];function Hu(t,n){return n.some(s=>t[s]!==void 0)}function M5(t){let n=Object.assign({velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1},t);if(!Hu(t,I5)&&Hu(t,P5)){const s=$5(t);n=Object.assign(Object.assign(Object.assign({},n),s),{velocity:0,mass:1}),n.isResolvedFromDuration=!0}return n}function Ri(t){var{from:n=0,to:s=1,restSpeed:o=2,restDelta:r}=t,l=nh(t,["from","to","restSpeed","restDelta"]);const a={done:!1,value:n};let{stiffness:i,damping:c,mass:p,velocity:d,duration:f,isResolvedFromDuration:h}=M5(l),m=Vu,y=Vu;function v(){const _=d?-(d/1e3):0,D=s-n,b=c/(2*Math.sqrt(i*p)),w=Math.sqrt(i/p)/1e3;if(r===void 0&&(r=Math.min(Math.abs(s-n)/100,.4)),b<1){const k=Ua(w,b);m=S=>{const M=Math.exp(-b*w*S);return s-M*((_+b*w*D)/k*Math.sin(k*S)+D*Math.cos(k*S))},y=S=>{const M=Math.exp(-b*w*S);return b*w*M*(Math.sin(k*S)*(_+b*w*D)/k+D*Math.cos(k*S))-M*(Math.cos(k*S)*(_+b*w*D)-k*D*Math.sin(k*S))}}else if(b===1)m=k=>s-Math.exp(-w*k)*(D+(_+w*D)*k);else{const k=w*Math.sqrt(b*b-1);m=S=>{const M=Math.exp(-b*w*S),H=Math.min(k*S,300);return s-M*((_+b*w*D)*Math.sinh(H)+k*D*Math.cosh(H))/k}}}return v(),{next:_=>{const D=m(_);if(h)a.done=_>=f;else{const b=y(_)*1e3,w=Math.abs(b)<=o,k=Math.abs(s-D)<=r;a.done=w&&k}return a.value=a.done?s:D,a},flipTarget:()=>{d=-d,[n,s]=[s,n],v()}}}Ri.needsInterpolation=(t,n)=>typeof t=="string"||typeof n=="string";const Vu=t=>0,sh=(t,n,s)=>{const o=n-t;return o===0?1:(s-t)/o},Li=(t,n,s)=>-s*t+s*n+t,oh=(t,n)=>s=>Math.max(Math.min(s,n),t),wo=t=>t%1?Number(t.toFixed(5)):t,Ho=/(-)?([\d]*\.?[\d])+/g,Wa=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,R5=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Jo(t){return typeof t=="string"}const Zo={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ao=Object.assign(Object.assign({},Zo),{transform:oh(0,1)}),hr=Object.assign(Object.assign({},Zo),{default:1}),Fi=t=>({test:n=>Jo(n)&&n.endsWith(t)&&n.split(" ").length===1,parse:parseFloat,transform:n=>`${n}${t}`}),Yn=Fi("deg"),bo=Fi("%"),_e=Fi("px"),Uu=Object.assign(Object.assign({},bo),{parse:t=>bo.parse(t)/100,transform:t=>bo.transform(t*100)}),Ni=(t,n)=>s=>!!(Jo(s)&&R5.test(s)&&s.startsWith(t)||n&&Object.prototype.hasOwnProperty.call(s,n)),rh=(t,n,s)=>o=>{if(!Jo(o))return o;const[r,l,a,i]=o.match(Ho);return{[t]:parseFloat(r),[n]:parseFloat(l),[s]:parseFloat(a),alpha:i!==void 0?parseFloat(i):1}},ls={test:Ni("hsl","hue"),parse:rh("hue","saturation","lightness"),transform:({hue:t,saturation:n,lightness:s,alpha:o=1})=>"hsla("+Math.round(t)+", "+bo.transform(wo(n))+", "+bo.transform(wo(s))+", "+wo(Ao.transform(o))+")"},L5=oh(0,255),jl=Object.assign(Object.assign({},Zo),{transform:t=>Math.round(L5(t))}),Sn={test:Ni("rgb","red"),parse:rh("red","green","blue"),transform:({red:t,green:n,blue:s,alpha:o=1})=>"rgba("+jl.transform(t)+", "+jl.transform(n)+", "+jl.transform(s)+", "+wo(Ao.transform(o))+")"};function F5(t){let n="",s="",o="",r="";return t.length>5?(n=t.substr(1,2),s=t.substr(3,2),o=t.substr(5,2),r=t.substr(7,2)):(n=t.substr(1,1),s=t.substr(2,1),o=t.substr(3,1),r=t.substr(4,1),n+=n,s+=s,o+=o,r+=r),{red:parseInt(n,16),green:parseInt(s,16),blue:parseInt(o,16),alpha:r?parseInt(r,16)/255:1}}const za={test:Ni("#"),parse:F5,transform:Sn.transform},mt={test:t=>Sn.test(t)||za.test(t)||ls.test(t),parse:t=>Sn.test(t)?Sn.parse(t):ls.test(t)?ls.parse(t):za.parse(t),transform:t=>Jo(t)?t:t.hasOwnProperty("red")?Sn.transform(t):ls.transform(t)},lh="${c}",ah="${n}";function N5(t){var n,s,o,r;return isNaN(t)&&Jo(t)&&((s=(n=t.match(Ho))===null||n===void 0?void 0:n.length)!==null&&s!==void 0?s:0)+((r=(o=t.match(Wa))===null||o===void 0?void 0:o.length)!==null&&r!==void 0?r:0)>0}function ih(t){typeof t=="number"&&(t=`${t}`);const n=[];let s=0;const o=t.match(Wa);o&&(s=o.length,t=t.replace(Wa,lh),n.push(...o.map(mt.parse)));const r=t.match(Ho);return r&&(t=t.replace(Ho,ah),n.push(...r.map(Zo.parse))),{values:n,numColors:s,tokenised:t}}function ch(t){return ih(t).values}function uh(t){const{values:n,numColors:s,tokenised:o}=ih(t),r=n.length;return l=>{let a=o;for(let i=0;i<r;i++)a=a.replace(i<s?lh:ah,i<s?mt.transform(l[i]):wo(l[i]));return a}}const j5=t=>typeof t=="number"?0:t;function q5(t){const n=ch(t);return uh(t)(n.map(j5))}const Xo={test:N5,parse:ch,createTransformer:uh,getAnimatableNone:q5},H5=new Set(["brightness","contrast","saturate","opacity"]);function V5(t){let[n,s]=t.slice(0,-1).split("(");if(n==="drop-shadow")return t;const[o]=s.match(Ho)||[];if(!o)return t;const r=s.replace(o,"");let l=H5.has(n)?1:0;return o!==s&&(l*=100),n+"("+l+r+")"}const U5=/([a-z-]*)\(.*?\)/g,Ka=Object.assign(Object.assign({},Xo),{getAnimatableNone:t=>{const n=t.match(U5);return n?n.map(V5).join(" "):t}});function ql(t,n,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(n-t)*6*s:s<1/2?n:s<2/3?t+(n-t)*(2/3-s)*6:t}function Wu({hue:t,saturation:n,lightness:s,alpha:o}){t/=360,n/=100,s/=100;let r=0,l=0,a=0;if(!n)r=l=a=s;else{const i=s<.5?s*(1+n):s+n-s*n,c=2*s-i;r=ql(c,i,t+1/3),l=ql(c,i,t),a=ql(c,i,t-1/3)}return{red:Math.round(r*255),green:Math.round(l*255),blue:Math.round(a*255),alpha:o}}const W5=(t,n,s)=>{const o=t*t,r=n*n;return Math.sqrt(Math.max(0,s*(r-o)+o))},z5=[za,Sn,ls],zu=t=>z5.find(n=>n.test(t)),Ku=t=>`'${t}' is not an animatable color. Use the equivalent color code instead.`,ph=(t,n)=>{let s=zu(t),o=zu(n);qo(!!s,Ku(t)),qo(!!o,Ku(n));let r=s.parse(t),l=o.parse(n);s===ls&&(r=Wu(r),s=Sn),o===ls&&(l=Wu(l),o=Sn);const a=Object.assign({},r);return i=>{for(const c in a)c!=="alpha"&&(a[c]=W5(r[c],l[c],i));return a.alpha=Li(r.alpha,l.alpha,i),s.transform(a)}},K5=t=>typeof t=="number",Y5=(t,n)=>s=>n(t(s)),dh=(...t)=>t.reduce(Y5);function fh(t,n){return K5(t)?s=>Li(t,n,s):mt.test(t)?ph(t,n):yh(t,n)}const hh=(t,n)=>{const s=[...t],o=s.length,r=t.map((l,a)=>fh(l,n[a]));return l=>{for(let a=0;a<o;a++)s[a]=r[a](l);return s}},G5=(t,n)=>{const s=Object.assign(Object.assign({},t),n),o={};for(const r in s)t[r]!==void 0&&n[r]!==void 0&&(o[r]=fh(t[r],n[r]));return r=>{for(const l in o)s[l]=o[l](r);return s}};function Yu(t){const n=Xo.parse(t),s=n.length;let o=0,r=0,l=0;for(let a=0;a<s;a++)o||typeof n[a]=="number"?o++:n[a].hue!==void 0?l++:r++;return{parsed:n,numNumbers:o,numRGB:r,numHSL:l}}const yh=(t,n)=>{const s=Xo.createTransformer(n),o=Yu(t),r=Yu(n);return o.numHSL===r.numHSL&&o.numRGB===r.numRGB&&o.numNumbers>=r.numNumbers?dh(hh(o.parsed,r.parsed),s):(Mi(!0,`Complex values '${t}' and '${n}' too different to mix. Ensure all colors are of the same type, and that each contains the same quantity of number and color values. Falling back to instant transition.`),a=>`${a>0?n:t}`)},Q5=(t,n)=>s=>Li(t,n,s);function J5(t){if(typeof t=="number")return Q5;if(typeof t=="string")return mt.test(t)?ph:yh;if(Array.isArray(t))return hh;if(typeof t=="object")return G5}function Z5(t,n,s){const o=[],r=s||J5(t[0]),l=t.length-1;for(let a=0;a<l;a++){let i=r(t[a],t[a+1]);if(n){const c=Array.isArray(n)?n[a]:n;i=dh(c,i)}o.push(i)}return o}function X5([t,n],[s]){return o=>s(sh(t,n,o))}function eB(t,n){const s=t.length,o=s-1;return r=>{let l=0,a=!1;if(r<=t[0]?a=!0:r>=t[o]&&(l=o-1,a=!0),!a){let c=1;for(;c<s&&!(t[c]>r||c===o);c++);l=c-1}const i=sh(t[l],t[l+1],r);return n[l](i)}}function mh(t,n,{clamp:s=!0,ease:o,mixer:r}={}){const l=t.length;qo(l===n.length,"Both input and output ranges must be the same length"),qo(!o||!Array.isArray(o)||o.length===l-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),t[0]>t[l-1]&&(t=[].concat(t),n=[].concat(n),t.reverse(),n.reverse());const a=Z5(n,o,r),i=l===2?X5(t,a):eB(t,a);return s?c=>i(Va(t[0],t[l-1],c)):i}const fl=t=>n=>1-t(1-n),ji=t=>n=>n<=.5?t(2*n)/2:(2-t(2*(1-n)))/2,tB=t=>n=>Math.pow(n,t),gh=t=>n=>n*n*((t+1)*n-t),nB=t=>{const n=gh(t);return s=>(s*=2)<1?.5*n(s):.5*(2-Math.pow(2,-10*(s-1)))},vh=1.525,sB=4/11,oB=8/11,rB=9/10,_h=t=>t,qi=tB(2),lB=fl(qi),wh=ji(qi),Ah=t=>1-Math.sin(Math.acos(t)),bh=fl(Ah),aB=ji(bh),Hi=gh(vh),iB=fl(Hi),cB=ji(Hi),uB=nB(vh),pB=4356/361,dB=35442/1805,fB=16061/1805,Wr=t=>{if(t===1||t===0)return t;const n=t*t;return t<sB?7.5625*n:t<oB?9.075*n-9.9*t+3.4:t<rB?pB*n-dB*t+fB:10.8*t*t-20.52*t+10.72},hB=fl(Wr),yB=t=>t<.5?.5*(1-Wr(1-t*2)):.5*Wr(t*2-1)+.5;function mB(t,n){return t.map(()=>n||wh).splice(0,t.length-1)}function gB(t){const n=t.length;return t.map((s,o)=>o!==0?o/(n-1):0)}function vB(t,n){return t.map(s=>s*n)}function Dr({from:t=0,to:n=1,ease:s,offset:o,duration:r=300}){const l={done:!1,value:t},a=Array.isArray(n)?n:[t,n],i=vB(o&&o.length===a.length?o:gB(a),r);function c(){return mh(i,a,{ease:Array.isArray(s)?s:mB(a,s)})}let p=c();return{next:d=>(l.value=p(d),l.done=d>=r,l),flipTarget:()=>{a.reverse(),p=c()}}}function _B({velocity:t=0,from:n=0,power:s=.8,timeConstant:o=350,restDelta:r=.5,modifyTarget:l}){const a={done:!1,value:n};let i=s*t;const c=n+i,p=l===void 0?c:l(c);return p!==c&&(i=p-n),{next:d=>{const f=-i*Math.exp(-d/o);return a.done=!(f>r||f<-r),a.value=a.done?p:p+f,a},flipTarget:()=>{}}}const Gu={keyframes:Dr,spring:Ri,decay:_B};function wB(t){if(Array.isArray(t.to))return Dr;if(Gu[t.type])return Gu[t.type];const n=new Set(Object.keys(t));return n.has("ease")||n.has("duration")&&!n.has("dampingRatio")?Dr:n.has("dampingRatio")||n.has("stiffness")||n.has("mass")||n.has("damping")||n.has("restSpeed")||n.has("restDelta")?Ri:Dr}function Eh(t,n,s=0){return t-n-s}function AB(t,n,s=0,o=!0){return o?Eh(n+-t,n,s):n-(t-n)+s}function bB(t,n,s,o){return o?t>=n+s:t<=-s}const EB=t=>{const n=({delta:s})=>t(s);return{start:()=>Ha.update(n,!0),stop:()=>D5.update(n)}};function Dh(t){var n,s,{from:o,autoplay:r=!0,driver:l=EB,elapsed:a=0,repeat:i=0,repeatType:c="loop",repeatDelay:p=0,onPlay:d,onStop:f,onComplete:h,onRepeat:m,onUpdate:y}=t,v=nh(t,["from","autoplay","driver","elapsed","repeat","repeatType","repeatDelay","onPlay","onStop","onComplete","onRepeat","onUpdate"]);let{to:_}=v,D,b=0,w=v.duration,k,S=!1,M=!0,H;const B=wB(v);!((s=(n=B).needsInterpolation)===null||s===void 0)&&s.call(n,o,_)&&(H=mh([0,100],[o,_],{clamp:!1}),o=0,_=100);const V=B(Object.assign(Object.assign({},v),{from:o,to:_}));function ne(){b++,c==="reverse"?(M=b%2===0,a=AB(a,w,p,M)):(a=Eh(a,w,p),c==="mirror"&&V.flipTarget()),S=!1,m&&m()}function pe(){D.stop(),h&&h()}function K(ve){if(M||(ve=-ve),a+=ve,!S){const Ee=V.next(Math.max(0,a));k=Ee.value,H&&(k=H(k)),S=M?Ee.done:a<=0}y==null||y(k),S&&(b===0&&(w??(w=a)),b<i?bB(a,w,p,M)&&ne():pe())}function be(){d==null||d(),D=l(K),D.start()}return r&&be(),{stop:()=>{f==null||f(),D.stop()}}}function kh(t,n){return n?t*(1e3/n):0}function DB({from:t=0,velocity:n=0,min:s,max:o,power:r=.8,timeConstant:l=750,bounceStiffness:a=500,bounceDamping:i=10,restDelta:c=1,modifyTarget:p,driver:d,onUpdate:f,onComplete:h,onStop:m}){let y;function v(w){return s!==void 0&&w<s||o!==void 0&&w>o}function _(w){return s===void 0?o:o===void 0||Math.abs(s-w)<Math.abs(o-w)?s:o}function D(w){y==null||y.stop(),y=Dh(Object.assign(Object.assign({},w),{driver:d,onUpdate:k=>{var S;f==null||f(k),(S=w.onUpdate)===null||S===void 0||S.call(w,k)},onComplete:h,onStop:m}))}function b(w){D(Object.assign({type:"spring",stiffness:a,damping:i,restDelta:c},w))}if(v(t))b({from:t,velocity:n,to:_(t)});else{let w=r*n+t;typeof p<"u"&&(w=p(w));const k=_(w),S=k===s?-1:1;let M,H;const B=V=>{M=H,H=V,n=kh(V-M,th().delta),(S===1&&V>k||S===-1&&V<k)&&b({from:V,to:k,velocity:n})};D({type:"decay",from:t,velocity:n,timeConstant:l,power:r,restDelta:c,modifyTarget:p,onUpdate:v(w)?B:void 0})}return{stop:()=>y==null?void 0:y.stop()}}const Ch=(t,n)=>1-3*n+3*t,xh=(t,n)=>3*n-6*t,Bh=t=>3*t,zr=(t,n,s)=>((Ch(n,s)*t+xh(n,s))*t+Bh(n))*t,Sh=(t,n,s)=>3*Ch(n,s)*t*t+2*xh(n,s)*t+Bh(n),kB=1e-7,CB=10;function xB(t,n,s,o,r){let l,a,i=0;do a=n+(s-n)/2,l=zr(a,o,r)-t,l>0?s=a:n=a;while(Math.abs(l)>kB&&++i<CB);return a}const BB=8,SB=.001;function $B(t,n,s,o){for(let r=0;r<BB;++r){const l=Sh(n,s,o);if(l===0)return n;const a=zr(n,s,o)-t;n-=a/l}return n}const kr=11,yr=1/(kr-1);function TB(t,n,s,o){if(t===n&&s===o)return _h;const r=new Float32Array(kr);for(let a=0;a<kr;++a)r[a]=zr(a*yr,t,s);function l(a){let i=0,c=1;const p=kr-1;for(;c!==p&&r[c]<=a;++c)i+=yr;--c;const d=(a-r[c])/(r[c+1]-r[c]),f=i+d*yr,h=Sh(f,t,s);return h>=SB?$B(a,f,t,s):h===0?f:xB(a,i,i+yr,t,s)}return a=>a===0||a===1?a:zr(l(a),n,o)}const Hl={};class OB{constructor(){this.subscriptions=new Set}add(n){return this.subscriptions.add(n),()=>this.subscriptions.delete(n)}notify(n,s,o){if(this.subscriptions.size)for(const r of this.subscriptions)r(n,s,o)}clear(){this.subscriptions.clear()}}const Qu=t=>!isNaN(parseFloat(t));class PB{constructor(n){this.timeDelta=0,this.lastUpdated=0,this.updateSubscribers=new OB,this.canTrackVelocity=!1,this.updateAndNotify=s=>{this.prev=this.current,this.current=s;const{delta:o,timestamp:r}=th();this.lastUpdated!==r&&(this.timeDelta=o,this.lastUpdated=r),Ha.postRender(this.scheduleVelocityCheck),this.updateSubscribers.notify(this.current)},this.scheduleVelocityCheck=()=>Ha.postRender(this.velocityCheck),this.velocityCheck=({timestamp:s})=>{this.canTrackVelocity||(this.canTrackVelocity=Qu(this.current)),s!==this.lastUpdated&&(this.prev=this.current)},this.prev=this.current=n,this.canTrackVelocity=Qu(this.current)}onChange(n){return this.updateSubscribers.add(n)}clearListeners(){this.updateSubscribers.clear()}set(n){this.updateAndNotify(n)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?kh(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(n){return this.stop(),new Promise(s=>{const{stop:o}=n(s);this.stopAnimation=o}).then(()=>this.clearAnimation())}stop(){this.stopAnimation&&this.stopAnimation(),this.clearAnimation()}isAnimating(){return!!this.stopAnimation}clearAnimation(){this.stopAnimation=null}destroy(){this.updateSubscribers.clear(),this.stop()}}function IB(t){return new PB(t)}const{isArray:MB}=Array;function RB(){const t=Y({}),n=o=>{const r=l=>{t.value[l]&&(t.value[l].stop(),t.value[l].destroy(),delete t.value[l])};o?MB(o)?o.forEach(r):r(o):Object.keys(t.value).forEach(r)},s=(o,r,l)=>{if(t.value[o])return t.value[o];const a=IB(r);return a.onChange(i=>l[o]=i),t.value[o]=a,a};return N6(n),{motionValues:t,get:s,stop:n}}const LB=t=>Array.isArray(t),Gn=()=>({type:"spring",stiffness:500,damping:25,restDelta:.5,restSpeed:10}),Vl=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restDelta:.01,restSpeed:10}),FB=t=>({type:"spring",stiffness:550,damping:t===0?100:30,restDelta:.01,restSpeed:10}),Ul=()=>({type:"keyframes",ease:"linear",duration:300}),NB=t=>({type:"keyframes",duration:800,values:t}),Ju={default:FB,x:Gn,y:Gn,z:Gn,rotate:Gn,rotateX:Gn,rotateY:Gn,rotateZ:Gn,scaleX:Vl,scaleY:Vl,scale:Vl,backgroundColor:Ul,color:Ul,opacity:Ul},$h=(t,n)=>{let s;return LB(n)?s=NB:s=Ju[t]||Ju.default,{to:n,...s(n)}},Zu={...Zo,transform:Math.round},Th={color:mt,backgroundColor:mt,outlineColor:mt,fill:mt,stroke:mt,borderColor:mt,borderTopColor:mt,borderRightColor:mt,borderBottomColor:mt,borderLeftColor:mt,borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,size:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,rotate:Yn,rotateX:Yn,rotateY:Yn,rotateZ:Yn,scale:hr,scaleX:hr,scaleY:hr,scaleZ:hr,skew:Yn,skewX:Yn,skewY:Yn,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:Ao,originX:Uu,originY:Uu,originZ:_e,zIndex:Zu,filter:Ka,WebkitFilter:Ka,fillOpacity:Ao,strokeOpacity:Ao,numOctaves:Zu},Vi=t=>Th[t],Oh=(t,n)=>n&&typeof t=="number"&&n.transform?n.transform(t):t;function jB(t,n){let s=Vi(t);return s!==Ka&&(s=Xo),s.getAnimatableNone?s.getAnimatableNone(n):void 0}const qB={linear:_h,easeIn:qi,easeInOut:wh,easeOut:lB,circIn:Ah,circInOut:aB,circOut:bh,backIn:Hi,backInOut:cB,backOut:iB,anticipate:uB,bounceIn:hB,bounceInOut:yB,bounceOut:Wr},Xu=t=>{if(Array.isArray(t)){const[n,s,o,r]=t;return TB(n,s,o,r)}else if(typeof t=="string")return qB[t];return t},HB=t=>Array.isArray(t)&&typeof t[0]!="number",ep=(t,n)=>t==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&Xo.test(n)&&!n.startsWith("url("));function VB(t){return Array.isArray(t.to)&&t.to[0]===null&&(t.to=[...t.to],t.to[0]=t.from),t}function UB({ease:t,times:n,delay:s,...o}){const r={...o};return n&&(r.offset=n),t&&(r.ease=HB(t)?t.map(Xu):Xu(t)),s&&(r.elapsed=-s),r}function WB(t,n,s){return Array.isArray(n.to)&&(t.duration||(t.duration=800)),VB(n),zB(t)||(t={...t,...$h(s,n.to)}),{...n,...UB(t)}}function zB({delay:t,repeat:n,repeatType:s,repeatDelay:o,from:r,...l}){return!!Object.keys(l).length}function KB(t,n){return t[n]||t.default||t}function YB(t,n,s,o,r){const l=KB(o,t);let a=l.from===null||l.from===void 0?n.get():l.from;const i=ep(t,s);a==="none"&&i&&typeof s=="string"&&(a=jB(t,s));const c=ep(t,a);function p(f){const h={from:a,to:s,velocity:o.velocity?o.velocity:n.getVelocity(),onUpdate:m=>n.set(m)};return l.type==="inertia"||l.type==="decay"?DB({...h,...l}):Dh({...WB(l,h,t),onUpdate:m=>{h.onUpdate(m),l.onUpdate&&l.onUpdate(m)},onComplete:()=>{o.onComplete&&o.onComplete(),r&&r(),f&&f()}})}function d(f){return n.set(s),o.onComplete&&o.onComplete(),r&&r(),f&&f(),{stop:()=>{}}}return!c||!i||l.type===!1?d:p}function GB(){const{motionValues:t,stop:n,get:s}=RB();return{motionValues:t,stop:n,push:(r,l,a,i={},c)=>{const p=a[r],d=s(r,p,a);if(i&&i.immediate){d.set(l);return}const f=YB(r,d,l,i,c);d.start(f)}}}function QB(t,n={},{motionValues:s,push:o,stop:r}=GB()){const l=C(n),a=Y(!1);we(s,f=>{a.value=Object.values(f).filter(h=>h.isAnimating()).length>0},{immediate:!0,deep:!0});const i=f=>{if(!l||!l[f])throw new Error(`The variant ${f} does not exist.`);return l[f]},c=f=>(typeof f=="string"&&(f=i(f)),Promise.all(Object.entries(f).map(([h,m])=>{if(h!=="transition")return new Promise(y=>o(h,m,t,f.transition||$h(h,f[h]),y))}).filter(Boolean)));return{isAnimating:a,apply:c,set:f=>{const h=ya(f)?f:i(f);Object.entries(h).forEach(([m,y])=>{m!=="transition"&&o(m,y,t,{immediate:!0})})},leave:async f=>{let h;if(l&&(l.leave&&(h=l.leave),!l.leave&&l.initial&&(h=l.initial)),!h){f();return}await c(h),f()},stop:r}}const Ui=typeof window<"u",JB=()=>Ui&&window.onpointerdown===null,ZB=()=>Ui&&window.ontouchstart===null,XB=()=>Ui&&window.onmousedown===null;function e2({target:t,state:n,variants:s,apply:o}){const r=C(s),l=Y(!1),a=Y(!1),i=Y(!1),c=$(()=>{let d=[];return r&&(r.hovered&&(d=[...d,...Object.keys(r.hovered)]),r.tapped&&(d=[...d,...Object.keys(r.tapped)]),r.focused&&(d=[...d,...Object.keys(r.focused)])),d}),p=$(()=>{const d={};Object.assign(d,n.value),l.value&&r.hovered&&Object.assign(d,r.hovered),a.value&&r.tapped&&Object.assign(d,r.tapped),i.value&&r.focused&&Object.assign(d,r.focused);for(const f in d)c.value.includes(f)||delete d[f];return d});r.hovered&&(Ae(t,"mouseenter",()=>l.value=!0),Ae(t,"mouseleave",()=>{l.value=!1,a.value=!1}),Ae(t,"mouseout",()=>{l.value=!1,a.value=!1})),r.tapped&&(XB()&&(Ae(t,"mousedown",()=>a.value=!0),Ae(t,"mouseup",()=>a.value=!1)),JB()&&(Ae(t,"pointerdown",()=>a.value=!0),Ae(t,"pointerup",()=>a.value=!1)),ZB()&&(Ae(t,"touchstart",()=>a.value=!0),Ae(t,"touchend",()=>a.value=!1))),r.focused&&(Ae(t,"focus",()=>i.value=!0),Ae(t,"blur",()=>i.value=!1)),we(p,o)}function t2({set:t,target:n,apply:s,variants:o,variant:r}){const l=C(o);we(()=>n,()=>{l&&(l.initial&&t("initial"),l.enter&&(r.value="enter"))},{immediate:!0,flush:"pre"})}function n2({state:t,apply:n}){we(t,s=>{s&&n(s)},{immediate:!0})}function s2({target:t,variants:n,variant:s}){const o=C(n);o&&(o.visible||o.visibleOnce)&&Mv(t,([{isIntersecting:r}])=>{o.visible?r?s.value="visible":s.value="initial":o.visibleOnce&&(r&&s.value!=="visibleOnce"?s.value="visibleOnce":s.value||(s.value="initial"))})}function o2(t,n={syncVariants:!0,lifeCycleHooks:!0,visibilityHooks:!0,eventListeners:!0}){n.lifeCycleHooks&&t2(t),n.syncVariants&&n2(t),n.visibilityHooks&&s2(t),n.eventListeners&&e2(t)}function Ph(t={}){const n=Ve({...t}),s=Y({});return we(n,()=>{const o={};for(const[r,l]of Object.entries(n)){const a=Vi(r),i=Oh(l,a);o[r]=i}s.value=o},{immediate:!0,deep:!0}),{state:n,style:s}}function Wi(t,n){we(()=>xt(t),s=>{s&&n(s)},{immediate:!0})}const r2={x:"translateX",y:"translateY",z:"translateZ"};function Ih(t={},n=!0){const s=Ve({...t}),o=Y("");return we(s,r=>{let l="",a=!1;if(n&&(r.x||r.y||r.z)){const i=[r.x||0,r.y||0,r.z||0].map(_e.transform).join(",");l+=`translate3d(${i}) `,a=!0}for(const[i,c]of Object.entries(r)){if(n&&(i==="x"||i==="y"||i==="z"))continue;const p=Vi(i),d=Oh(c,p);l+=`${r2[i]||i}(${d}) `}n&&!a&&(l+="translateZ(0px) "),o.value=l.trim()},{immediate:!0,deep:!0}),{state:s,transform:o}}const l2=["","X","Y","Z"],a2=["perspective","translate","scale","rotate","skew"],Mh=["transformPerspective","x","y","z"];a2.forEach(t=>{l2.forEach(n=>{const s=t+n;Mh.push(s)})});const i2=new Set(Mh);function zi(t){return i2.has(t)}const c2=new Set(["originX","originY","originZ"]);function Rh(t){return c2.has(t)}function u2(t){const n={},s={};return Object.entries(t).forEach(([o,r])=>{zi(o)||Rh(o)?n[o]=r:s[o]=r}),{transform:n,style:s}}function Lh(t){const{transform:n,style:s}=u2(t),{transform:o}=Ih(n),{style:r}=Ph(s);return o.value&&(r.value.transform=o.value),r.value}function p2(t,n){let s,o;const{state:r,style:l}=Ph();return Wi(t,a=>{o=a;for(const i of Object.keys(Th))a.style[i]===null||a.style[i]===""||zi(i)||Rh(i)||(r[i]=a.style[i]);s&&Object.entries(s).forEach(([i,c])=>a.style[i]=c),n&&n(r)}),we(l,a=>{if(!o){s=a;return}for(const i in a)o.style[i]=a[i]},{immediate:!0}),{style:r}}function d2(t){const n=t.trim().split(/\) |\)/);if(n.length===1)return{};const s=o=>o.endsWith("px")||o.endsWith("deg")?parseFloat(o):isNaN(Number(o))?Number(o):o;return n.reduce((o,r)=>{if(!r)return o;const[l,a]=r.split("("),c=a.split(",").map(d=>s(d.endsWith(")")?d.replace(")",""):d.trim())),p=c.length===1?c[0]:c;return{...o,[l]:p}},{})}function f2(t,n){Object.entries(d2(n)).forEach(([s,o])=>{const r=["x","y","z"];if(s==="translate3d"){if(o===0){r.forEach(l=>t[l]=0);return}o.forEach((l,a)=>t[r[a]]=l);return}if(o=parseFloat(o),s==="translateX"){t.x=o;return}if(s==="translateY"){t.y=o;return}if(s==="translateZ"){t.z=o;return}t[s]=o})}function h2(t,n){let s,o;const{state:r,transform:l}=Ih();return Wi(t,a=>{o=a,a.style.transform&&f2(r,a.style.transform),s&&(a.style.transform=s),n&&n(r)}),we(l,a=>{if(!o){s=a;return}o.style.transform=a},{immediate:!0}),{transform:r}}function y2(t,n){const s=Ve({}),o=a=>Object.entries(a).forEach(([i,c])=>s[i]=c),{style:r}=p2(t,o),{transform:l}=h2(t,o);return we(s,a=>{Object.entries(a).forEach(([i,c])=>{const p=zi(i)?l:r;p[i]&&p[i]===c||(p[i]=c)})},{immediate:!0,deep:!0}),Wi(t,()=>n&&o(n)),{motionProperties:s,style:r,transform:l}}function m2(t={}){const n=C(t),s=Y();return{state:$(()=>{if(s.value)return n[s.value]}),variant:s}}function Fh(t,n={},s){const{motionProperties:o}=y2(t),{variant:r,state:l}=m2(n),a=QB(o,n),i={target:t,variant:r,variants:n,state:l,motionProperties:o,...a};return o2(i,s),i}const g2=["initial","enter","leave","visible","visible-once","hovered","tapped","focused","delay"],v2=(t,n)=>{const s=t.props?t.props:t.data&&t.data.attrs?t.data.attrs:{};s&&(s.variants&&ya(s.variants)&&(n.value={...n.value,...s.variants}),g2.forEach(o=>{if(o==="delay"){if(s&&s[o]&&E6(s[o])){const r=s[o];n&&n.value&&(n.value.enter&&(n.value.enter.transition||(n.value.enter.transition={}),n.value.enter.transition={delay:r,...n.value.enter.transition}),n.value.visible&&(n.value.visible.transition||(n.value.visible.transition={}),n.value.visible.transition={delay:r,...n.value.visible.transition}),n.value.visibleOnce&&(n.value.visibleOnce.transition||(n.value.visibleOnce.transition={}),n.value.visibleOnce.transition={delay:r,...n.value.visibleOnce.transition}))}return}o==="visible-once"&&(o="visibleOnce"),s&&s[o]&&ya(s[o])&&(n.value[o]=s[o])}))},Wl=t=>({created:(s,o,r)=>{const l=o.value&&typeof o.value=="string"?o.value:r.key;l&&Hl[l]&&Hl[l].stop();const a=Y(t||{});typeof o.value=="object"&&(a.value=o.value),v2(r,a);const i=Fh(s,a);s.motionInstance=i,l&&(Hl[l]=i)},getSSRProps(s,o){let{initial:r}=s.value||o&&(o==null?void 0:o.props)||{};r=C(r);const l=w5((t==null?void 0:t.initial)||{},r||{});return!l||Object.keys(l).length===0?void 0:{style:Lh(l)}}}),_2={initial:{opacity:0},enter:{opacity:1}},w2={initial:{opacity:0},visible:{opacity:1}},A2={initial:{opacity:0},visibleOnce:{opacity:1}},b2={initial:{scale:0,opacity:0},enter:{scale:1,opacity:1}},E2={initial:{scale:0,opacity:0},visible:{scale:1,opacity:1}},D2={initial:{scale:0,opacity:0},visibleOnce:{scale:1,opacity:1}},k2={initial:{x:-100,rotate:90,opacity:0},enter:{x:0,rotate:0,opacity:1}},C2={initial:{x:-100,rotate:90,opacity:0},visible:{x:0,rotate:0,opacity:1}},x2={initial:{x:-100,rotate:90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},B2={initial:{x:100,rotate:-90,opacity:0},enter:{x:0,rotate:0,opacity:1}},S2={initial:{x:100,rotate:-90,opacity:0},visible:{x:0,rotate:0,opacity:1}},$2={initial:{x:100,rotate:-90,opacity:0},visibleOnce:{x:0,rotate:0,opacity:1}},T2={initial:{y:-100,rotate:-90,opacity:0},enter:{y:0,rotate:0,opacity:1}},O2={initial:{y:-100,rotate:-90,opacity:0},visible:{y:0,rotate:0,opacity:1}},P2={initial:{y:-100,rotate:-90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},I2={initial:{y:100,rotate:90,opacity:0},enter:{y:0,rotate:0,opacity:1}},M2={initial:{y:100,rotate:90,opacity:0},visible:{y:0,rotate:0,opacity:1}},R2={initial:{y:100,rotate:90,opacity:0},visibleOnce:{y:0,rotate:0,opacity:1}},L2={initial:{x:-100,opacity:0},enter:{x:0,opacity:1}},F2={initial:{x:-100,opacity:0},visible:{x:0,opacity:1}},N2={initial:{x:-100,opacity:0},visibleOnce:{x:0,opacity:1}},j2={initial:{x:100,opacity:0},enter:{x:0,opacity:1}},q2={initial:{x:100,opacity:0},visible:{x:0,opacity:1}},H2={initial:{x:100,opacity:0},visibleOnce:{x:0,opacity:1}},V2={initial:{y:-100,opacity:0},enter:{y:0,opacity:1}},U2={initial:{y:-100,opacity:0},visible:{y:0,opacity:1}},W2={initial:{y:-100,opacity:0},visibleOnce:{y:0,opacity:1}},z2={initial:{y:100,opacity:0},enter:{y:0,opacity:1}},K2={initial:{y:100,opacity:0},visible:{y:0,opacity:1}},Y2={initial:{y:100,opacity:0},visibleOnce:{y:0,opacity:1}},Ya={__proto__:null,fade:_2,fadeVisible:w2,fadeVisibleOnce:A2,pop:b2,popVisible:E2,popVisibleOnce:D2,rollBottom:I2,rollLeft:k2,rollRight:B2,rollTop:T2,rollVisibleBottom:M2,rollVisibleLeft:C2,rollVisibleOnceBottom:R2,rollVisibleOnceLeft:x2,rollVisibleOnceRight:$2,rollVisibleOnceTop:P2,rollVisibleRight:S2,rollVisibleTop:O2,slideBottom:z2,slideLeft:L2,slideRight:j2,slideTop:V2,slideVisibleBottom:K2,slideVisibleLeft:F2,slideVisibleOnceBottom:Y2,slideVisibleOnceLeft:N2,slideVisibleOnceRight:H2,slideVisibleOnceTop:W2,slideVisibleRight:q2,slideVisibleTop:U2},G2=Le({props:{is:{type:[String,Object],required:!1},preset:{type:String,required:!1},instance:{type:Object,required:!1},variants:{type:Object,required:!1},initial:{type:Object,required:!1},enter:{type:Object,required:!1},leave:{type:Object,required:!1},visible:{type:Object,required:!1},visibleOnce:{type:Object,required:!1},hovered:{type:Object,required:!1},tapped:{type:Object,required:!1},focused:{type:Object,required:!1},delay:{type:[Number,String],required:!1}},setup(t){var i;const n=A9(),s=Ve({});if(!t.is&&!n.default)return()=>Bt("div",{});const o=$(()=>{let c;return t.preset&&(c=Ya[t.preset]),c}),r=$(()=>({initial:t.initial,enter:t.enter,leave:t.leave,visible:t.visible,visibleOnce:t.visibleOnce,hovered:t.hovered,tapped:t.tapped,focused:t.focused})),l=$(()=>{const c={...r.value,...o.value||{},...t.variants||{}};return t.delay&&(c.enter.transition={...c.enter.transition},c.enter.transition.delay=parseInt(t.delay)),c}),a=$(()=>{if(!t.is)return;let c=t.is;return typeof a.value=="string"&&!yp(c)&&(c=Ir(c)),c});if(((i=process==null?void 0:process.env)==null?void 0:i.NODE_ENV)==="development"||process!=null&&process.dev){const c=p=>{var d;(d=p.variants)!=null&&d.initial&&p.set("initial"),setTimeout(()=>{var f,h,m;(f=p.variants)!=null&&f.enter&&p.apply("enter"),(h=p.variants)!=null&&h.visible&&p.apply("visible"),(m=p.variants)!=null&&m.visibleOnce&&p.apply("visibleOnce")},10)};rl(()=>Object.entries(s).forEach(([p,d])=>c(d)))}return{slots:n,component:a,motionConfig:l,instances:s}},render({slots:t,motionConfig:n,instances:s,component:o}){var i;const r=Lh(n.initial||{}),l=(c,p)=>(c.props||(c.props={}),c.props.style=r,c.props.onVnodeMounted=({el:d})=>{const f=Fh(d,n);s[p]=f},c);if(o){const c=Bt(o,void 0,t);return l(c,0),c}return(((i=t.default)==null?void 0:i.call(t))||[]).map((c,p)=>l(c,p))}});function Q2(t){const n="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",s="aaaaaaaaaacccddeeeeeeeegghiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",o=new RegExp(n.split("").join("|"),"g");return t.toString().replace(/[A-Z]/g,r=>`-${r}`).toLowerCase().replace(/\s+/g,"-").replace(o,r=>s.charAt(n.indexOf(r))).replace(/&/g,"-and-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"")}const J2={install(t,n){if(t.directive("motion",Wl()),t.component("Motion",G2),!n||n&&!n.excludePresets)for(const s in Ya){const o=Ya[s];t.directive(`motion-${Q2(s)}`,Wl(o))}if(n&&n.directives)for(const s in n.directives){const o=n.directives[s];o.initial,t.directive(`motion-${s}`,Wl(o))}}};var tp;const Eo=typeof window<"u",Z2=Object.prototype.toString,X2=t=>Z2.call(t)==="[object Object]";Eo&&((tp=window==null?void 0:window.navigator)!=null&&tp.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function eS(t){return ei()?(Dp(t),!0):!1}function tS(t){var n;const s=C(t);return(n=s==null?void 0:s.$el)!=null?n:s}const nS=Eo?window:void 0,np=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},sp="__vueuse_ssr_handlers__";np[sp]=np[sp]||{};function sS(t,n={}){const{immediate:s=!0,window:o=nS}=n,r=Y(!1);let l=null;function a(){!r.value||!o||(t(),l=o.requestAnimationFrame(a))}function i(){!r.value&&o&&(r.value=!0,a())}function c(){r.value=!1,l!=null&&o&&(o.cancelAnimationFrame(l),l=null)}return s&&i(),eS(c),{isActive:r,pause:c,resume:i}}var op;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(op||(op={}));const hl="vue-starport-injection",Nh="vue-starport-options",oS={duration:800,easing:"cubic-bezier(0.45, 0, 0.55, 1)",keepAlive:!1},jh={port:{type:String,required:!0},duration:{type:Number,required:!1},easing:{type:String,required:!1},keepAlive:{type:Boolean,required:!1,default:void 0},mountedProps:{type:Object,required:!1},initialProps:{type:Object,required:!1}};var rS=Object.defineProperty,Kr=Object.getOwnPropertySymbols,qh=Object.prototype.hasOwnProperty,Hh=Object.prototype.propertyIsEnumerable,rp=(t,n,s)=>n in t?rS(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,lS=(t,n)=>{for(var s in n||(n={}))qh.call(n,s)&&rp(t,s,n[s]);if(Kr)for(var s of Kr(n))Hh.call(n,s)&&rp(t,s,n[s]);return t},lp=(t,n)=>{var s={};for(var o in t)qh.call(t,o)&&n.indexOf(o)<0&&(s[o]=t[o]);if(t!=null&&Kr)for(var o of Kr(t))n.indexOf(o)<0&&Hh.call(t,o)&&(s[o]=t[o]);return s};const aS=Le({name:"StarportProxy",props:lS({props:{type:Object,default:()=>({})},component:{type:Object,required:!0}},jh),setup(t,n){const s=O(hl),o=$(()=>s.getInstance(t.port,t.component)),r=Y(),l=o.value.generateId(),a=Y(!1);return o.value.isVisible||(o.value.land(),a.value=!0),_s(async()=>{if(o.value.el){console.error(`[Vue Starport] Multiple proxies of "${o.value.componentName}" with port "${t.port}" detected. The later one will be ignored.`);return}if(o.value.el=r.value,await lt(),a.value=!0,o.value.rect.update(),o.value.rect.width===0||o.value.rect.height===0){const i=o.value.rect.width===0?"width":"height";console.warn(`[Vue Starport] The proxy of component "${o.value.componentName}" (port "${t.port}") has no ${i} on initial render, have you set the size for it?`),console.warn("element:",o.value.el),console.warn("rect:",o.value.rect)}}),Ko(async()=>{o.value.rect.update(),o.value.liftOff(),o.value.el=void 0,a.value=!1,!o.value.options.keepAlive&&(await lt(),await lt(),!o.value.el&&s.dispose(o.value.port))}),we(()=>t,async()=>{o.value.props&&await lt();const i=t,{props:c}=i,p=lp(i,["props"]);o.value.props=c||{},o.value.setLocalOptions(p)},{deep:!0,immediate:!0}),()=>{const i=t,{initialProps:c,mountedProps:p}=i,d=lp(i,["initialProps","mountedProps"]),f=Ue(d,(a.value?p:c)||{});return Bt("div",Ue(f,{id:l,ref:r,"data-starport-proxy":o.value.componentId,"data-starport-landed":o.value.isLanded?"true":void 0,"data-starport-floating":o.value.isLanded?void 0:"true"}),n.slots.default?Bt(n.slots.default):void 0)}}});var iS=Object.defineProperty,cS=Object.defineProperties,uS=Object.getOwnPropertyDescriptors,ap=Object.getOwnPropertySymbols,pS=Object.prototype.hasOwnProperty,dS=Object.prototype.propertyIsEnumerable,ip=(t,n,s)=>n in t?iS(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,fS=(t,n)=>{for(var s in n||(n={}))pS.call(n,s)&&ip(t,s,n[s]);if(ap)for(var s of ap(n))dS.call(n,s)&&ip(t,s,n[s]);return t},hS=(t,n)=>cS(t,uS(n));const yS=Le({name:"Starport",inheritAttrs:!0,props:jh,setup(t,n){const s=Y(!1);return _s(()=>{if(s.value=!0,!O(hl))throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.")}),()=>{var a,i;const o=(i=(a=n.slots).default)==null?void 0:i.call(a);if(!o)throw new Error("[Vue Starport] Slot is required to use <Starport>");if(o.length!==1)throw new Error(`[Vue Starport] <Starport> requires exactly one slot, but got ${o.length}`);const r=o[0];let l=r.type;return(!X2(l)||qn(l))&&(l={render(){return o}}),Bt(aS,hS(fS({},t),{key:t.port,component:Xr(l),props:r.props}))}}});function mS(t){const n=Ve({height:0,width:0,left:0,top:0,update:o,listen:l,pause:a,margin:"0px",padding:"0px"}),s=Eo?document.documentElement||document.body:void 0;function o(){if(!Eo)return;const i=tS(t);if(!i)return;const{height:c,width:p,left:d,top:f}=i.getBoundingClientRect(),h=window.getComputedStyle(i),m=h.margin,y=h.padding;Object.assign(n,{height:c,width:p,left:d,top:s.scrollTop+f,margin:m,padding:y})}const r=sS(o,{immediate:!1});function l(){Eo&&(o(),r.resume())}function a(){r.pause()}return n}let gS=(t,n=21)=>(s=n)=>{let o="",r=s;for(;r--;)o+=t[Math.random()*t.length|0];return o};const cp=gS("abcdefghijklmnopqrstuvwxyz",5);function up(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase().replace(/[^\w\d_-]/g,"")}function vS(t){var n;return t.name||((n=t.__file)==null?void 0:n.split(/[\/\\.]/).slice(-2)[0])||""}var _S=Object.defineProperty,pp=Object.getOwnPropertySymbols,wS=Object.prototype.hasOwnProperty,AS=Object.prototype.propertyIsEnumerable,dp=(t,n,s)=>n in t?_S(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,zl=(t,n)=>{for(var s in n||(n={}))wS.call(n,s)&&dp(t,s,n[s]);if(pp)for(var s of pp(n))AS.call(n,s)&&dp(t,s,n[s]);return t};function bS(t,n,s={}){const o=vS(n),r=up(o)||cp(),l=Y(),a=Y(null),i=Y(!1),c=Y(!1),p=ly(!0),d=Y({}),f=$(()=>zl(zl(zl({},oS),s),d.value)),h=Y(0);let m;p.run(()=>{m=mS(l),we(l,async D=>{D&&(c.value=!0),await lt(),l.value||(c.value=!1)})});const y=up(t);function v(){return`starport-${r}-${y}-${cp()}`}const _=v();return Ve({el:l,id:_,port:t,props:a,rect:m,scope:p,isLanded:i,isVisible:c,options:f,liftOffTime:h,component:n,componentName:o,componentId:r,generateId:v,setLocalOptions(D={}){d.value=JSON.parse(JSON.stringify(D))},elRef(){return l},liftOff(){i.value&&(i.value=!1,h.value=Date.now(),m.listen())},land(){i.value||(i.value=!0,m.pause())}})}function ES(t){const n=Ve(new Map);function s(r,l){let a=n.get(r);return a||(a=bS(r,l,t),n.set(r,a)),a.component=l,a}function o(r){var l;(l=n.get(r))==null||l.scope.stop(),n.delete(r)}return{portMap:n,dispose:o,getInstance:s}}var DS=Object.defineProperty,kS=Object.defineProperties,CS=Object.getOwnPropertyDescriptors,fp=Object.getOwnPropertySymbols,xS=Object.prototype.hasOwnProperty,BS=Object.prototype.propertyIsEnumerable,hp=(t,n,s)=>n in t?DS(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,SS=(t,n)=>{for(var s in n||(n={}))xS.call(n,s)&&hp(t,s,n[s]);if(fp)for(var s of fp(n))BS.call(n,s)&&hp(t,s,n[s]);return t},$S=(t,n)=>kS(t,CS(n));const TS=Le({name:"StarportCraft",props:{port:{type:String,required:!0},component:{type:Object,required:!0}},setup(t){const n=O(hl);if(!n)throw new Error("[Vue Starport] Failed to find the carrier, all Starport components must be wrapped in a <StarportCarrier> component.");const s=$(()=>n.getInstance(t.port,t.component)),o=$(()=>{var a;return((a=s.value.el)==null?void 0:a.id)||s.value.id}),r=$(()=>{const a=Date.now()-s.value.liftOffTime,i=Math.max(0,s.value.options.duration-a),c=s.value.rect,p={position:"absolute",left:0,top:0,width:`${c.width}px`,height:`${c.height}px`,margin:c.margin,padding:c.padding,transform:`translate3d(${c.left}px,${c.top}px,0px)`};return!s.value.isVisible||!s.value.el?$S(SS({},p),{zIndex:-1,display:"none"}):(s.value.isLanded?p.display="none":Object.assign(p,{transitionProperty:"all",transitionDuration:`${i}ms`,transitionTimingFunction:s.value.options.easing}),p)}),l={onTransitionend(a){s.value.isLanded||console.warn(`[Vue Starport] Transition duration of component "${s.value.componentName}" is too short (${a.elapsedTime}s) that may cause animation glitches. Try to increase the duration of that component, or decrease the duration the Starport (current: ${s.value.options.duration/1e3}s).`)}};return()=>{const a=!!(s.value.isLanded&&s.value.el);return Bt("div",{style:r.value,"data-starport-craft":s.value.componentId,"data-starport-landed":s.value.isLanded?"true":void 0,"data-starport-floating":s.value.isLanded?void 0:"true",onTransitionend:s.value.land},Bt(a9,{to:a?`#${o.value}`:"body",disabled:!a},Bt(s.value.component,Ue(l,s.value.props))))}}}),OS=Le({name:"StarportCarrier",setup(t,{slots:n}){const s=ES(O(Nh,{}));return Tt().appContext.app.provide(hl,s),()=>{var r;return[(r=n.default)==null?void 0:r.call(n),Array.from(s.portMap.entries()).map(([l,{component:a}])=>Bt(TS,{key:l,port:l,component:a}))]}}});function PS(t={}){return{install(n){n.provide(Nh,t),n.component("Starport",yS),n.component("StarportCarrier",OS)}}}function IS(t){function n(){document.documentElement.style.setProperty("--vh",`${window.innerHeight*.01}px`)}n(),window.addEventListener("resize",n),t.app.use(J2),t.app.use(PS({keepAlive:!0}))}function bt(t,n,s){var o;return((o=t.instance)==null?void 0:o.$).provides[n]??s}function MS(){return{install(t){t.directive("click",{name:"v-click",mounted(n,s){var d,f,h,m,y,v;if(_o.value||(d=bt(s,yo))!=null&&d.value)return;const o=bt(s,ts),r=bt(s,ho),l=bt(s,fa),a=s.modifiers.hide!==!1&&s.modifiers.hide!=null,i=s.modifiers.fade!==!1&&s.modifiers.fade!=null,c=((f=o==null?void 0:o.value)==null?void 0:f.length)||0,p=i?r6:xl;if(o&&!((h=o==null?void 0:o.value)!=null&&h.includes(n))&&o.value.push(n),s.value==null&&(s.value=(m=o==null?void 0:o.value)==null?void 0:m.length),typeof s.value=="string"&&(s.value.startsWith("+")||s.value.startsWith("-"))&&(s.value=(((y=o==null?void 0:o.value)==null?void 0:y.length)||0)+Number(s.value)),!(l!=null&&l.value.has(s.value)))l==null||l.value.set(s.value,[n]);else if(!((v=l==null?void 0:l.value.get(s.value))!=null&&v.includes(n))){const _=(l==null?void 0:l.value.get(s.value))||[];l==null||l.value.set(s.value,[n].concat(_))}n==null||n.classList.toggle(Zn,!0),r&&we(r,()=>{const _=(r==null?void 0:r.value)??0,D=s.value!=null?_>=s.value:_>c;n.classList.contains(Bl)||n.classList.toggle(p,!D),a!==!1&&a!==void 0&&n.classList.toggle(p,D),n.classList.toggle(Js,!1);const b=l==null?void 0:l.value.get(_);b==null||b.forEach((w,k)=>{w.classList.toggle(ur,!1),k===b.length-1?w.classList.toggle(Js,!0):w.classList.toggle(ur,!0)}),n.classList.contains(Js)||n.classList.toggle(ur,D)},{immediate:!0})},unmounted(n,s){n==null||n.classList.toggle(Zn,!1);const o=bt(s,ts);o!=null&&o.value&&ha(o.value,n)}}),t.directive("after",{name:"v-after",mounted(n,s){var i,c,p;if(_o.value||(i=bt(s,yo))!=null&&i.value)return;const o=bt(s,ts),r=bt(s,ho),l=bt(s,fa),a=o==null?void 0:o.value.length;s.value==null&&(s.value=o==null?void 0:o.value.length),typeof s.value=="string"&&(s.value.startsWith("+")||s.value.startsWith("-"))&&(s.value=(((c=o==null?void 0:o.value)==null?void 0:c.length)||0)+Number(s.value)),l!=null&&l.value.has(s.value)?(p=l==null?void 0:l.value.get(s.value))==null||p.push(n):l==null||l.value.set(s.value,[n]),n==null||n.classList.toggle(Zn,!0),r&&we(r,()=>{const d=(r.value??0)>=(s.value??a??0);n.classList.contains(Bl)||n.classList.toggle(xl,!d),n.classList.toggle(Js,!1),n.classList.contains(Js)||n.classList.toggle(ur,d)},{immediate:!0})},unmounted(n){n==null||n.classList.toggle(Zn,!0)}}),t.directive("click-hide",{name:"v-click-hide",mounted(n,s){var a,i,c;if(_o.value||(a=bt(s,yo))!=null&&a.value)return;const o=bt(s,ts),r=bt(s,ho),l=((i=o==null?void 0:o.value)==null?void 0:i.length)||0;o&&!((c=o==null?void 0:o.value)!=null&&c.includes(n))&&o.value.push(n),n==null||n.classList.toggle(Zn,!0),r&&we(r,()=>{const p=(r==null?void 0:r.value)??0,d=s.value!=null?p>=s.value:p>l;n.classList.toggle(xl,d),n.classList.toggle(Bl,d)},{immediate:!0})},unmounted(n,s){n==null||n.classList.toggle(Zn,!1);const o=bt(s,ts);o!=null&&o.value&&ha(o.value,n)}})}}}function RS(t,n){const s=Yf(t),o=Gf(n,s.currentRoute,s.currentPage);return{nav:{...s,...o},configs:Te,themeConfigs:$(()=>Te.themeConfig)}}function LS(){return{install(t){const n=RS(Lt,Mt);t.provide(F,Ve(n))}}}const Ws=lg(v5);Ws.use(_t);Ws.use(n6());Ws.use(MS());Ws.use(LS());IS({app:Ws,router:_t});Ws.mount("#app");export{$b as $,YA as A,Y as B,VS as C,dt as D,Ke as E,Oe as F,h1 as G,p5 as H,Mt as I,Ur as J,l5 as K,Ll as L,_s as M,Ve as N,qS as O,US as P,we as Q,I as R,Bf as S,Pe as T,pt as U,x1 as V,FS as W,NS as X,Mo as Y,Il as Z,N as _,F as a,xi as a0,Bi as a1,Ye as a2,kb as a3,Bw as a4,jS as a5,jn as a6,oo as a7,rs as a8,Xt as a9,Ba as aa,t1 as ab,n1 as ac,s1 as ad,r1 as ae,cd as af,Id as ag,WS as ah,ht as ai,fr as aj,cA as ak,Vd as al,l1 as am,Ko as an,vi as b,Te as c,Le as d,Uy as e,oe as f,e as g,C as h,O as i,Qe as j,n5 as k,u as l,te as m,at as n,E as o,ke as p,wi as q,Hs as r,zt as s,hn as t,HS as u,$ as v,Sl as w,P as x,wf as y,XA as z};
